{"version":3,"sources":["stores/polygon/MessageProof.tsx","i18n.ts","stores/store.tsx","assets/openwallet_low.png","stores/constants.tsx","assets/coinbase-wallet.svg","components/controls/image_slider.tsx","components/Approval/Approval.tsx","components/controls/asset_input.tsx","components/CFolioInvest/Stable/Stable.tsx","components/CFolioInvest/StakeLP/StakeLP.tsx","components/CFolioInvest/CFolioInvest.tsx","components/types/cards.ts","components/CFolioItemSfts/CFolioItemSfts.tsx","components/CFolioManager/CFolioManager.tsx","assets/icons_discord.svg","assets/icons_etherscan.svg","assets/icons_github.svg","assets/icons_TG.svg","assets/icons_Twitter.svg","components/social/social.tsx","components/footer/footer.tsx","assets/wolves_sft_logo.svg","components/header/header.tsx","assets/bois_shadow.png","assets/wolves_shadow.png","components/page1/page1.tsx","assets/wolves-token_99.png","components/page3/cardbox.tsx","components/page3/page3.tsx","utils/utils.tsx","components/page4/Transfer/Transfer.tsx","components/page4/page4.tsx","components/pageStatus/pageStatus.tsx","components/toast/wolftoast.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CPM_ABI","anonymous","inputs","indexed","internalType","name","type","constant","outputs","payable","stateMutability","MerkleTree","leaves","layers","length","Error","depth","Math","ceil","log","this","concat","Array","from","pow","zeros","createHashes","nodes","treeLevel","i","left","right","data","Buffer","push","keccak","MessageProof","ethereumProvider","chainId","cb","provider","checkPointManager","localStorageKey","pendingItems","newBlockFilter","changeHandler","_onNewHeaderBlock","result","_findHeaderBlockNumber","_setup","a","getLastChildBlock","lastChildBlock","toNumber","scanHeaderTo","pI","headerBlockId","txBlockNumber","scanHeaderFrom","rootBlock","on","ethers","providers","JsonRpcProvider","Contract","LSKMUMBAI","LSKMATIC","items","window","localStorage","getItem","JSON","parse","filters","NewHeaderBlock","tokenId","tokenIdHex","toHexString","filter","elem","setItem","stringify","account","item","pending","map","BigNumber","available","find","buildPayloadForExit","txHash","getTransactionReceipt","receipt","send","utils","hexValue","blockNumber","block","lt","headerBlocks","headerBlock","_buildBlockProof","start","end","blockProof","_getReceiptProof","receiptProof","logIndex","logs","findIndex","topics","toLowerCase","_encodePayload","parseInt","timestamp","transactionsRoot","slice","receiptsRoot","_getReceiptBytes","parentNodes","path","headerNumber","buildBlockProof","receiptParentNodes","bufferToHex","rlp","encode","scanStart","scanEnd","eventLogs","piIndex","changedAccounts","Set","fromBlock","toBlock","getLogs","parsed","interface","parseLog","args","add","off","size","_getFastMerkleProof","proof","p","toBuffer","merkleTreeDepth","log2","reversedProof","targetIndex","offset","leftBound","rightBound","newLeftBound","newRightBound","expectedHeight","subTreeHeight","heightDifference","remainingNodesHash","nLeaves","pivotLeaf","min","_queryRootHash","leafRoots_1","_recursiveZeroHash","subTreeMerkleRoot","getRoot","reverse","n","subHash","keccak256","defaultAbiCoder","stateSyncTxHash","_getStateSyncTxHash","receiptsTrie","BaseTrie","receiptPromises","transactions","tx","hash","Promise","all","receipts","siblingReceipt","transactionIndex","rawReceipt","put","findPath","node","remaining","blockHash","stack","s","raw","root","_getRawHeader","receiptTrie","value","decode","encodedData","undefined","status","cumulativeGasUsed","logsBloom","l","address","toString","fromUtf8","setLengthLeft","number","blockHeaderFromRpc","localStorageId","infuranetwork","process","pIs","getBlockNumber","transactionHash","resources","en","translation","zh","i18n","use","detector","initReactI18next","init","detection","order","supportedLngs","fallbackLng","interpolation","escapeValue","SFTS","ASSETS_STATE","REVOKE_APPROVAL","ADDRESS_COPIED","CONNECTION_CHANGED","STAKE_LP_AVAILABLE","SFT_BUY","SFT_CLAIM","SFT_CLAIM_BOOSTER","SFT_LOCK","SFT_PROOF","SFT_REWARD","SFT_TRANSFER","SFT_UNLOCK","SFT_UPGRADE","CFOLIO_ITEM_BUY","CFOLIO_ITEM_DEPOSIT","CFOLIO_ITEM_WITHDRAW","CFOLIO_ITEM_UNLOCK_TRANSFER","emitter","Emitter","EventEmitter","dispatcher","Dispatcher","BIGNUMBER_MAX","STABLE_CURRENCIES","readUint256","substr","AsyncLock","disable","promise","alert","resolve","Store","web3Modal","ethersProvider","eventProvider","ethersSigner","isWSEventProvider","tokenContract","cfihLpContract","cfihScContract","sftEvaluatorContract","boosterContract","sftHolderContractRO","sftMintContractRO","tradeFloorContractRO","lpContractRO","uniDaiWethPairContractRO","curveYDepositContractRO","cfolioFarmLpAddress","cfolioFarmScAddress","bridgeTargetAddress","networkName","accountId","tokenContractAddress","nullAddress","lastAprTime","eventsSuspended","lock","dispatchQueue","polygonBridge","assets","balances","WOWS","decimals","dust","DUST_18","allowance","USDC","DUST_6","USDT","DAI","TUSD","yCrv","am3Crv","userSFT","cards","levelNames","myPackLevelDescriptions","cfolioItems","rewardInfo","total","rewardDuration","rewardPerDuration","priceWOWS","priceToken","apr","getAssets","handleBridgeChange","accounts","console","has","dispatch","content","connect","disconnect","endpoint","getEndpoint","web3Provider","subscribeProvider","Web3Provider","listAccounts","getAddress","getNetwork","network","_launchEventProvider","_setupContracts","_emitNetworkChange","getSigner","autoconnect","query","URLSearchParams","location","search","defaultChain","get","defaultAccountId","cachedProvider","clearCache","fireEvent","removeItem","removeAllListeners","clearCachedProvider","close","e","wsEventProvider","_websocket","onclose","onerror","destroy","isConnected","isEventConnected","_addDQ","payload","_resolveDQ","forEach","enable","startsWith","WebSocketProvider","InfuraProvider","getWebSocketProvider","_setupEventContracts","emit","_setupEvents","switchChain","chain","ethereum","newChain","request","method","params","_getPoolTokenAmount","payloadContent","balanceOf","tokenAmount","fromWei","error","message","_getSftState","levels","cardIds","level","card","chainRef","getBaseSpec","sftResult","index","price","prices","quantity","maxMintable","minted","numMinted","cfolioTypes","getCFolioSpec","cfolioResult","_getUserSft","getTokenIds","bridgeToken","mergeList","t","newUserSFT","mask","lte","BASE_CARD_MAX","bn","cr","cardIndex","levelIndex","c","bridgeItem","eq","levelId","cardId","isBaseCard","isStockCard","STOCK_CARD_MAX","isWallet","BRIDGE_READY","BRIDGE_PENDING","b","LOCKED","UNLOCKED","rewardRate","rewardShare","rewardEarned","mintTimestamp","boosterRewards","sort","gt","unshift","getTokenInformation","result2","readIndex","destinationId","sft","numCFolios","childId","child","numAssets","bidx","getStableCurrencies","_getSftRewards","plc","contracts","sfts","getRewardInfo","cfiResult","ri","boosterLocked","boosterPending","boosterApr","secsLeft","boosterSecsLeft","_updatePoolAPR","_getAssetsBalances","input","Object","entries","getErc20Balances","_getAssetsAllowances","spender","handlerAddress","getErc20Allowances","mul","_doSftBuy","amount","id","sftAmount","toWei","walletAmount","cardData","sftMintContract","approve","_checkUnlimited","wait","mintWowsSFT","errorMessage","_doSftLock","sftHolderContract","safeTransferFrom","_doSftTransfer","insertItem","_doSftMessageProof","processPending","contract","RootTunnelAbi","receiveMessage","resetPending","_doSftUnlock","tradeFloorContract","burn","_doCFolioItemBuy","wowsAmount","investAmount","sftTokenId","cfolioType","weiAmount","investWeiAmounts","_investmentApproval","additionalGas","options","estimateGas","mintCFolioItemSFT","gasEstimation","gasLimit","_doCFolioItemDeposit","cfolioTokenId","cfihContract","deposit","_setCFolioAmount","msgType","cfiType","requireOneSet","cfiLevel","cf","cfc","approvalContracts","oneSet","oneStableSet","balance","approvalContract","ERC20Abi","investWeiAmount","sub","_doCFolioItemWithdraw","tokenIdToAddress","cfa","getAmounts","cfolioAmounts","withdrawWeiAmounts","withdrawWeiAmount","withdraw","_doCFolioItemUnlockAndTransfer","src","dst","lockedCFIs","transferCFIs","dstAddress","burnBatch","fill","srcAddress","safeBatchTransferFrom","_doSftClaim","mintContract","claimSFTRewards","time","_doSftClaimBooster","claimRewards","_doSftUpgrade","setRewardRate","_setRewardRate","_doRevokeApproval","currency","providerOptions","walletconnect","package","WalletConnectProvider","infuraId","display","logo","WalletLinkLogo","description","appName","networkUrl","WalletLink","connector","_","walletLink","makeWeb3Provider","providerInfo","getInjectedProvider","injected","getProviderDescription","Web3Modal","cacheProvider","register","_payload","includes","then","default","wss","chainAddresses","_getChainAddresses","wssEndpoint","rpcEndpoint","handleTransfer","operator","to","addresses","token","uniV2Pair","UniV2PairAbi","sftHolderProxy","SFTHolderAbi","sftMinterProxy","SFTMinterAbi","tradeFloorProxy","TradeFloorAbi","cfolioFarmLP","cfolioFarmSC","uniDaiWeth","curveYDeposit","CurveDepositAbi","usdcToken","usdtToken","daiToken","tusdToken","curveYToken","curveAToken","cfolioItemHandlerLPProxy","cfolioItemHandlerSCProxy","signer","TokenAbi","CFolioItemHandlerAbi","sftEvaluatorProxy","SftEvaluatorAbi","boosterProxy","BoosterAbi","bridgeTarget","cfolio","iface","Interface","CFolioFarmAbi","stableCurrencies","isft","amounts","e18","getReserves","daiWethReserves","wethPrice","reserve0","div","reserve1","wowsWethReserves","wowsPrice","stakedPrice","totalSupply","wowsWethTotalSupply","poolPrice","calc_withdraw_one_coin","emmission","apy","toFixed","parseFloat","formatUnits","parseUnits","defaultReturn","keys","StoreClasses","store","StoreContainer","addEventListener","mount","unmount","props","children","React","Component","ImageSlider","sliderId","initCallback","onSlideChanged","slideWidth","slides","startSlideId","checkbox","toolTippLink","containerRef","useRef","useState","currentIndex","setCurrentIndex","checked","setChecked","displayIndex","setDisplayIndex","setLeft","width","setWidth","useTransition","enableTransition","go","prev","next","useEffect","setTimeout","current","clientWidth","resizeListener","removeEventListener","className","ref","style","indexOf","onClick","newChecked","select","cfi","disabled","locked","height","url","alt","withTranslation","hideCB","show","redraw","setRedraw","useReducer","state","action","key","approving","setApproving","checkMask","assetState","handleRevoke","Modal","onHide","animation","Header","closeButton","Title","Body","k","v","onChange","setCheck","target","defaultChecked","revoke","Footer","AssetInput","defaultValue","maxAmount","minAmount","hasFocus","setHasFocus","amountChanged","setAmountChanged","inputRef","verifyAndCb","useCallback","num","NaN","maxVisible","autoComplete","onFocus","onBlur","event","replace","hidden","cfolioItem","investCurrency","nftPrice","nftType","beforeBuy","tabOption","setTabOption","currencyIndex","setCurrencyIndex","checkedIndex","setCheckedIndex","inputVals","setInputVals","txRunning","setTXRunning","modal","showModal","currencies","curMaxAmount","resetTx","newValues","isNaN","vc","buttonText","join","renderSpan","caption","spanText","setCurrentValue","flexBasis","handleBuy","setInvestAmount","hasSft","setHasSft","inputVal","setInputVal","onLpAvailable","newInvestAmount","rel","href","_getTokenContractAddress","CFolioInvest","receiverImages","sliderInterface","slideIndex","displayType","continueBuy","beforeBuyCallback","cfiRender","currentImage","modalOpen","setState","_onAssetsState","bind","sliderCB","val","history","newDisplayType","_updateImages","newTokenId","delete","tokenIds","newImages","allowedLevel","tokenIdIdx","_cfolioItemsForSlider","WalletLogo","_updateCFolioItems","handleImageChange","change","setCurrentImage","renderItem","renderCFolioItem","cfolioItemCard","scroll","controlAttr","shortDescription","sliderInit","motto","backdrop","INITIAL_CFOLIO_ITEMS","title","INITIAL_STATE","currentType","CFolioItemSfts","onAssetsState","_updateContent","storeItems","cardRender","CFolioManager","cfolioItemCards","sliderInterfaces","sliderIndex","sliderImagesMiddleAll","txPending","sliderImagesTop","sliderImagesMiddle","sliderImagesBottom","checkedMiddle","onTransfer","setSliderIndex","_getSftImages","_createSliderImages","pred","pred2","topImages","bottomImages","constraints","cfiCard","cat","category","_filterSliderImagesMiddle","onlyIfChanged","pos","lockedCount","majority","buttonState","Social","twitter","etherscan","github","discord","telegram","privacyFile","privacyTerms","policyChanged","text","policy","loadTerms","dangerouslySetInnerHTML","__html","isSidechain","handleSubmit","onConnectionChanged","renderDropDown","preventDefault","substring","dropdownItems","pathname","isActiveNav","random","shortAddress","_shortAddress","navItems","_getNavItems","Navbar","bg","variant","expand","Toggle","Brand","as","Link","Image","Collapse","navItem","Form","onSubmit","section","WolvesLogo","BoisLogo","CardBox","cardType","prowess","investment","earned","progressRefs","progressRef","splice","disableRemotePlayback","autoPlay","loop","poster","playsInline","topOffset","sftc","top","renderCFolioItems","padStart","INITIAL_PAGE3_STATE","contentLoaded","contentChanged","isWalletConnected","Page3","levelDescription","walletTokenIds","levelFilter","nextLevel","prevLevel","scrollOnUpdate","mainRef","createRef","progessStart","Date","progressInterval","_updateRewards","_checkContent","scrollIntoView","clearInterval","newType","newLevelId","idx","header","hasCFolioItems","setInterval","_ticker","defaultLevelId","set","levelLength","perc","getTime","levelPosition","hasMoreLevels","Logo","remainingFromSecs","secondsLeft","secInHour","secInMinute","days","floor","hours","minutes","seconds","tOption","setTOption","setBridgeTarget","getBridgeTarget","transferState","transferFunc","d","marginTop","paddingLeft","INITIAL_PAGE4_STATE","renderList","selectedCFolio","transferOpen","boosterExistingValue","boosterNewValue","boosterRelock","Page4","needUpdate","imageContainerRef","cfolios","onSFTTransaction","scrollTo","append","_getCurrentIndex","fixIndex","newRenderList","curTokenId","curCardId","index1","index2","_fixUrl","onProgressIteration","cardLevel","currentTarget","getAttribute","prevUrl","nextUrl","currentRender","currentLevel","currentCard","noQuantity","sftStatus","prevIndex","nextIndex","autoUpgrade","profitReward","autoUpgradeText","share","backUrl","assetIndex","now","upgradeReward","rewardIndex","aprToApy","boosterFarmButtonText","boosterButtonText","boosterPeriod","claimableAmount","claimText","imgClass","boosterState","boosterFuncN","boosterFuncR","boosterFuncE","boosterTotal","lockRewards","transferButtonText","clientHeight","sftChild","toggleImage","zIndex","transition","visibility","toUpperCase","period","_onUpgrade","onAnimationIteration","marginLeft","marginRight","_onBuy","_onClaim","_onClaimBooster","isMobile","test","navigator","userAgent","document","createEvent","hasTouchEvent","replaceLogo","PageStatus","WolfToast","txId","connectId","onAddressCopied","onTransaction","toast","_formatToast","autoClose","msg","_updateToast","render","isActive","update","alignItems","flexGrow","position","pauseOnFocusLoss","App","setNetwork","isSideChain","component","Page1","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.13405bd1.chunk.js","sourcesContent":["/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n//import { Buffer } from 'safe-buffer';\nimport { BlockHeader } from '@ethereumjs/block/dist/header';\nimport blockHeaderFromRpc from '@ethereumjs/block/dist/header-from-rpc';\nimport {\n  bufferToHex,\n  fromUtf8,\n  keccak,\n  keccak256,\n  rlp,\n  setLengthLeft,\n  toBuffer,\n  zeros,\n} from 'ethereumjs-util';\nimport { ethers } from 'ethers';\nimport { BaseTrie } from 'merkle-patricia-tree';\n\nconst CPM_ABI = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'proposer',\n        type: 'address',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'headerBlockId',\n        type: 'uint256',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'reward',\n        type: 'uint256',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'start',\n        type: 'uint256',\n      },\n      { indexed: false, internalType: 'uint256', name: 'end', type: 'uint256' },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'root',\n        type: 'bytes32',\n      },\n    ],\n    name: 'NewHeaderBlock',\n    type: 'event',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'currentHeaderBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'getLastChildBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    name: 'headerBlocks',\n    outputs: [\n      { internalType: 'bytes32', name: 'root', type: 'bytes32' },\n      { internalType: 'uint256', name: 'start', type: 'uint256' },\n      { internalType: 'uint256', name: 'end', type: 'uint256' },\n      { internalType: 'uint256', name: 'createdAt', type: 'uint256' },\n      { internalType: 'address', name: 'proposer', type: 'address' },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n];\n\nconst SEND_MESSAGE_SIG =\n  '0x8c5261668696ce22758910d05bab8f186d6eb247ceac2af2e82c7dc17669b036';\n\ntype HeaderBlock = {\n  root: string;\n  start: ethers.BigNumber;\n  end: ethers.BigNumber;\n  createdAt: ethers.BigNumber;\n  proposer: string;\n};\n\ntype RawBlock = {\n  hash: string;\n  number: string;\n  timestamp: string;\n  transactionsRoot: string;\n  receiptsRoot: string;\n  transactions: [{ hash: string }];\n};\n\ntype PendingItem = {\n  rootBlock: number; // The blocknumber on the root chain at create tie\n  headerBlockId: number; // The header blockId (checkpointed)\n  tokenId: string;\n  txHash: string; // Child chain TX hash\n  txBlockNumber: number; // Child chain block number\n  account: string;\n  pending: boolean;\n};\n\ntype CB_FUNC = (accounts: Set<string>) => void;\n\nclass MerkleTree {\n  leaves: Buffer[];\n  layers: Buffer[][];\n\n  constructor(leaves: Buffer[]) {\n    if (leaves === void 0) {\n      leaves = [];\n    }\n    if (leaves.length < 1) {\n      throw new Error('Atleast 1 leaf needed');\n    }\n    const depth = Math.ceil(Math.log(leaves.length) / Math.log(2));\n    if (depth > 20) {\n      throw new Error('Depth must be 20 or less');\n    }\n    this.leaves = leaves.concat(\n      Array.from(Array(Math.pow(2, depth) - leaves.length), function () {\n        return zeros(32);\n      })\n    );\n    this.layers = [this.leaves];\n    this.createHashes(this.leaves);\n  }\n\n  createHashes(nodes: Buffer[]) {\n    if (nodes.length === 1) {\n      return false;\n    }\n    const treeLevel = [];\n    for (let i = 0; i < nodes.length; i += 2) {\n      const left = nodes[i];\n      const right = nodes[i + 1];\n      const data = Buffer.concat([left, right]);\n      treeLevel.push(keccak(data));\n    }\n    // is odd number of nodes\n    if (nodes.length % 2 === 1) {\n      treeLevel.push(nodes[nodes.length - 1]);\n    }\n    this.layers.push(treeLevel);\n    this.createHashes(treeLevel);\n  }\n\n  getRoot(): Buffer {\n    return this.layers[this.layers.length - 1][0];\n  }\n}\n\nexport class MessageProof {\n  provider: ethers.providers.JsonRpcProvider;\n  checkPointManager: ethers.Contract;\n  localStorageKey: string;\n  pendingItems: PendingItem[] = [];\n  newBlockFilter: ethers.EventFilter;\n  changeHandler?: CB_FUNC;\n\n  static LSKMUMBAI = 'mumbai_goerli_bridge';\n  static LSKMATIC = 'matic_mainnet_bridge';\n\n  constructor(\n    ethereumProvider: ethers.providers.Provider,\n    chainId: number,\n    cb: CB_FUNC\n  ) {\n    if (chainId === 5) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://matic-mumbai.chainstacklabs.com/'\n      );\n      this.checkPointManager = new ethers.Contract(\n        '0x2890bA17EfE978480615e330ecB65333b880928e',\n        CPM_ABI,\n        ethereumProvider\n      );\n      this.localStorageKey = MessageProof.LSKMUMBAI;\n    } else if (chainId === 1) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://polygon-rpc.com/'\n      );\n      this.checkPointManager = new ethers.Contract(\n        '0x86e4dc95c7fbdbf52e33d563bbdb00823894c287',\n        CPM_ABI,\n        ethereumProvider\n      );\n      this.localStorageKey = MessageProof.LSKMATIC;\n    } else {\n      this.localStorageKey = '';\n      throw new Error('Unsupported chainId');\n    }\n\n    const items = window.localStorage.getItem(this.localStorageKey);\n    this.pendingItems = [];\n    if (items) this.pendingItems = JSON.parse(items);\n\n    this.newBlockFilter = this.checkPointManager.filters.NewHeaderBlock();\n\n    this._setup(cb);\n  }\n\n  static async insertItem(\n    account: string,\n    chainId: number,\n    tokenId: ethers.BigNumber,\n    receipt: ethers.providers.TransactionReceipt\n  ): Promise<void> {\n    const localStorageId =\n      chainId === 80001\n        ? MessageProof.LSKMUMBAI\n        : chainId === 137\n        ? MessageProof.LSKMATIC\n        : '';\n    if (localStorageId) {\n      const infuranetwork = chainId === 80001 ? 'goerli' : 'mainnet';\n      const provider = new ethers.providers.JsonRpcProvider(\n        `https://${infuranetwork}.infura.io/v3/${process.env.REACT_APP_INFURA_ID}`\n      );\n      const items = window.localStorage.getItem(localStorageId);\n      const pIs: PendingItem[] = items ? JSON.parse(items) : [];\n      pIs.push({\n        rootBlock: await provider.getBlockNumber(),\n        headerBlockId: 0,\n        tokenId: tokenId.toHexString(),\n        txHash: receipt.transactionHash,\n        txBlockNumber: receipt.blockNumber,\n        account,\n        pending: false,\n      });\n      window.localStorage.setItem(localStorageId, JSON.stringify(pIs));\n    }\n  }\n\n  removeItem(tokenId: ethers.BigNumber): void {\n    if (this.localStorageKey) {\n      const tokenIdHex = tokenId.toHexString();\n      this.pendingItems = this.pendingItems.filter(\n        (elem) => elem.tokenId !== tokenIdHex\n      );\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.pendingItems)\n      );\n    }\n  }\n\n  getTokenIds(\n    account: string\n  ): { tokenId: ethers.BigNumber; available: boolean }[] {\n    return this.pendingItems\n      .filter(\n        (item) => !item.pending && (!item.account || item.account === account)\n      )\n      .map((item) => {\n        return {\n          tokenId: ethers.BigNumber.from(item.tokenId),\n          available: item.headerBlockId > 0,\n        };\n      });\n  }\n\n  _onNewHeaderBlock = (result: ethers.providers.Log): void => {\n    this._findHeaderBlockNumber(0, 0, [result]);\n  };\n\n  _setup = async (cb: CB_FUNC): Promise<void> => {\n    if (this.pendingItems.length > 0) {\n      // Get the last ChildBlock in checkPointManager\n      const lastChildBlock = (\n        (await this.checkPointManager.getLastChildBlock()) as ethers.BigNumber\n      ).toNumber();\n\n      // Run throu pendingItems and look which are ready\n      let scanHeaderFrom,\n        scanHeaderTo = 0;\n      for (const pI of this.pendingItems) {\n        if (!pI.headerBlockId) {\n          if (pI.txBlockNumber <= lastChildBlock) {\n            if (!scanHeaderFrom) scanHeaderFrom = pI.rootBlock;\n            scanHeaderTo = pI.rootBlock;\n          }\n        }\n      }\n      if (scanHeaderFrom) {\n        await this._findHeaderBlockNumber(scanHeaderFrom, scanHeaderTo);\n      }\n      if (\n        this.pendingItems[this.pendingItems.length - 1].txBlockNumber >\n        lastChildBlock\n      ) {\n        this.checkPointManager.provider.on(\n          this.newBlockFilter,\n          this._onNewHeaderBlock\n        );\n      }\n    }\n    this.changeHandler = cb;\n  };\n\n  processPending(tokenId: ethers.BigNumber): Promise<string> {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.pendingItems.find((item) => item.tokenId === tokenIdHex);\n    if (!item || !item.headerBlockId) throw new Error('TokenId invalid');\n    item.pending = true;\n\n    return this.buildPayloadForExit(item.headerBlockId, item.txHash);\n  }\n\n  resetPending(tokenId: ethers.BigNumber): void {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.pendingItems.find((item) => item.tokenId === tokenIdHex);\n    if (item) item.pending = false;\n  }\n\n  async buildPayloadForExit(\n    headerBlockId: number,\n    txHash: string\n  ): Promise<string> {\n    if (!this.checkPointManager || !this.provider) return '';\n\n    // Get the last ChildBlock in checkPointManager\n    const lastChildBlock: ethers.BigNumber =\n      await this.checkPointManager.getLastChildBlock();\n\n    const receipt = await this.provider.getTransactionReceipt(txHash);\n    const block = (await this.provider.send('eth_getBlockByNumber', [\n      ethers.utils.hexValue(receipt.blockNumber),\n      true,\n    ])) as RawBlock;\n\n    if (lastChildBlock.lt(receipt.blockNumber))\n      throw new Error('Not yet checkpointed');\n\n    const headerBlock: HeaderBlock = await this.checkPointManager.headerBlocks(\n      headerBlockId\n    );\n\n    const blockProof = await this._buildBlockProof(\n      headerBlock.start.toNumber(),\n      headerBlock.end.toNumber(),\n      receipt.blockNumber\n    );\n\n    const receiptProof = await this._getReceiptProof(receipt, block);\n\n    const logIndex = receipt.logs.findIndex(function (log) {\n      return log.topics[0].toLowerCase() === SEND_MESSAGE_SIG;\n    });\n\n    return this._encodePayload(\n      headerBlockId,\n      blockProof,\n      receipt.blockNumber,\n      parseInt(block.timestamp),\n      Buffer.from(block.transactionsRoot.slice(2), 'hex'),\n      Buffer.from(block.receiptsRoot.slice(2), 'hex'),\n      this._getReceiptBytes(receipt),\n      receiptProof.parentNodes as Buffer[][],\n      receiptProof.path as Buffer,\n      logIndex\n    );\n  }\n\n  _encodePayload(\n    headerNumber: number,\n    buildBlockProof: string,\n    blockNumber: number,\n    timestamp: number,\n    transactionsRoot: Buffer,\n    receiptsRoot: Buffer,\n    receipt: Buffer,\n    receiptParentNodes: Array<Buffer[]>,\n    path: Buffer,\n    logIndex: number\n  ): string {\n    return bufferToHex(\n      rlp.encode([\n        headerNumber,\n        buildBlockProof,\n        blockNumber,\n        timestamp,\n        bufferToHex(transactionsRoot),\n        bufferToHex(receiptsRoot),\n        bufferToHex(receipt),\n        bufferToHex(rlp.encode(receiptParentNodes)),\n        bufferToHex(Buffer.concat([Buffer.from('00', 'hex'), path])),\n        logIndex,\n      ])\n    );\n  }\n\n  async _findHeaderBlockNumber(\n    scanStart: number,\n    scanEnd: number,\n    eventLogs?: ethers.providers.Log[]\n  ): Promise<void> {\n    let piIndex = 0;\n    const changedAccounts: Set<string> = new Set();\n    let logs = eventLogs;\n    if (!logs) {\n      if (!scanStart) {\n        // TODO: Find start eth block by timestamp\n        throw new Error('Historical scan not yet mplemented');\n      }\n      const filter = {\n        ...this.checkPointManager.filters.NewHeaderBlock(),\n        fromBlock: scanStart,\n        toBlock: scanEnd + 1000,\n      };\n      logs = await this.checkPointManager.provider.getLogs(filter);\n    }\n\n    for (const log of logs) {\n      const parsed = this.checkPointManager.interface.parseLog(log);\n      while (\n        piIndex < this.pendingItems.length &&\n        this.pendingItems[piIndex].txBlockNumber <= parsed.args.end\n      ) {\n        if (\n          !this.pendingItems[piIndex].headerBlockId &&\n          this.pendingItems[piIndex].txBlockNumber >= parsed.args.start\n        ) {\n          this.pendingItems[piIndex].headerBlockId =\n            parsed.args.headerBlockId.toNumber();\n          changedAccounts.add(this.pendingItems[piIndex].account);\n        }\n        ++piIndex;\n      }\n      if (piIndex >= this.pendingItems.length) break;\n    }\n    if (piIndex >= this.pendingItems.length) {\n      this.checkPointManager.provider.off(\n        this.newBlockFilter,\n        this._onNewHeaderBlock\n      );\n    }\n    if (changedAccounts.size > 0) {\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.pendingItems)\n      );\n      if (this.changeHandler) this.changeHandler(changedAccounts);\n    }\n  }\n\n  async _buildBlockProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<string> {\n    const proof = await this._getFastMerkleProof(start, end, blockNumber);\n\n    return bufferToHex(\n      Buffer.concat(\n        proof.map(function (p) {\n          return toBuffer(p);\n        })\n      )\n    );\n  }\n\n  async _getFastMerkleProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<(string | Buffer)[]> {\n    const merkleTreeDepth = Math.ceil(Math.log2(end - start + 1));\n    const reversedProof = [];\n    const offset = start;\n    const targetIndex = blockNumber - offset;\n    let leftBound = 0;\n    let rightBound = end - offset;\n    let depth = 0;\n\n    while (depth < merkleTreeDepth) {\n      let newLeftBound: number,\n        newRightBound: number,\n        expectedHeight: number,\n        subTreeHeight: number,\n        heightDifference: number,\n        remainingNodesHash: Buffer;\n\n      const nLeaves = Math.pow(2, merkleTreeDepth - depth);\n      const pivotLeaf = leftBound + nLeaves / 2 - 1;\n      if (!(targetIndex > pivotLeaf)) {\n        newRightBound = Math.min(rightBound, pivotLeaf);\n        expectedHeight = merkleTreeDepth - (depth + 1);\n        if (!(rightBound <= pivotLeaf)) {\n          subTreeHeight = Math.ceil(Math.log2(rightBound - pivotLeaf));\n          heightDifference = expectedHeight - subTreeHeight;\n          remainingNodesHash = await this._queryRootHash(\n            offset + pivotLeaf + 1,\n            offset + rightBound\n          );\n          // The remaining leaves will hold the merkle root of a zero-filled tree of height subTreeHeight\n          const leafRoots_1 = this._recursiveZeroHash(subTreeHeight);\n          const leaves = Array.from(\n            { length: Math.pow(2, heightDifference) },\n            function () {\n              return toBuffer(leafRoots_1);\n            }\n          );\n          leaves[0] = remainingNodesHash;\n          const subTreeMerkleRoot = new MerkleTree(leaves).getRoot();\n          reversedProof.push(subTreeMerkleRoot);\n        } else {\n          const subTreeMerkleRoot = this._recursiveZeroHash(expectedHeight);\n          reversedProof.push(subTreeMerkleRoot);\n        }\n        rightBound = newRightBound;\n      } else {\n        newLeftBound = pivotLeaf + 1;\n        const subTreeMerkleRoot = await this._queryRootHash(\n          offset + leftBound,\n          offset + pivotLeaf\n        );\n        reversedProof.push(subTreeMerkleRoot);\n        leftBound = newLeftBound;\n      }\n      depth += 1;\n    }\n    return reversedProof.reverse();\n  }\n\n  async _queryRootHash(start: number, end: number): Promise<Buffer> {\n    return toBuffer(\n      '0x' + (await this.provider.send('eth_getRootHash', [start, end]))\n    );\n  }\n\n  _recursiveZeroHash(n: number): string | Buffer {\n    if (n === 0)\n      return '0x0000000000000000000000000000000000000000000000000000000000000000';\n    const subHash = this._recursiveZeroHash(n - 1);\n    return keccak256(\n      toBuffer(\n        ethers.utils.defaultAbiCoder.encode(\n          ['bytes32', 'bytes32'],\n          [subHash, subHash]\n        )\n      )\n    );\n  }\n\n  async _getReceiptProof(\n    receipt: ethers.providers.TransactionReceipt,\n    block: RawBlock\n  ): Promise<Record<string, unknown>> {\n    const stateSyncTxHash = bufferToHex(this._getStateSyncTxHash(block));\n    const receiptsTrie = new BaseTrie();\n    const receiptPromises: Promise<ethers.providers.TransactionReceipt>[] = [];\n\n    for (const tx of block.transactions) {\n      if (tx.hash !== stateSyncTxHash) {\n        receiptPromises.push(this.provider.getTransactionReceipt(tx.hash));\n      }\n    }\n    const receipts = await Promise.all(receiptPromises);\n\n    for (const siblingReceipt of receipts) {\n      const path = rlp.encode(siblingReceipt.transactionIndex);\n      const rawReceipt = this._getReceiptBytes(siblingReceipt);\n\n      await receiptsTrie.put(path, rawReceipt);\n    }\n\n    const path = await receiptsTrie.findPath(\n      rlp.encode(receipt.transactionIndex)\n    );\n    if (!path.node || path.remaining.length > 0)\n      throw new Error('findpath failed');\n    return {\n      blockHash: toBuffer(receipt.blockHash),\n      parentNodes: path.stack.map(function (s) {\n        return s.raw();\n      }),\n      root: this._getRawHeader(block).receiptTrie as Buffer,\n      path: rlp.encode(receipt.transactionIndex),\n      value: rlp.decode(path.node.value),\n    };\n  }\n\n  _getReceiptBytes(receipt: ethers.providers.TransactionReceipt): Buffer {\n    let encodedData = rlp.encode([\n      toBuffer(\n        receipt.status !== undefined && receipt.status != null\n          ? receipt.status\n            ? '0x1'\n            : '0x'\n          : receipt.root\n      ),\n      toBuffer(receipt.cumulativeGasUsed.toNumber()),\n      toBuffer(receipt.logsBloom),\n      // encoded log array\n      receipt.logs.map(function (l) {\n        // [address, [topics array], data]\n        return [toBuffer(l.address), l.topics.map(toBuffer), toBuffer(l.data)];\n      }),\n    ]);\n    if (receipt.status !== undefined && receipt.type !== 0) {\n      encodedData = Buffer.concat([\n        toBuffer('0x' + receipt.type.toString(16)),\n        encodedData,\n      ]);\n    }\n    return encodedData;\n  }\n\n  _getStateSyncTxHash(block: RawBlock): Buffer {\n    return keccak256(\n      Buffer.concat([\n        toBuffer(fromUtf8('matic-bor-receipt-')),\n        setLengthLeft(toBuffer(block.number), 8),\n        toBuffer(block.hash),\n      ])\n    );\n  }\n\n  _getRawHeader(block: RawBlock): BlockHeader {\n    return blockHeaderFromRpc(block);\n  }\n}\n","import i18n from 'i18next';\nimport detector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nimport translationEN from './locales/en_US/translation.json';\nimport translationZH from './locales/zh_CN/translation.json';\n\n// the translations\nconst resources = {\n  en: {\n    translation: translationEN,\n  },\n  zh: {\n    translation: translationZH,\n  },\n};\n\nconst options = {\n  order: ['path', 'navigator'],\n};\n\ni18n\n  .use(detector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    detection: options,\n    supportedLngs: ['en', 'zh'],\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // react already safes from xss\n    },\n  });\n\nexport default i18n;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport ERC20Abi from 'abi/contracts/0xerc1155/interfaces/IERC20.sol/IERC20.json';\nimport CurveDepositAbi from 'abi/contracts/interfaces/curve/CurveDepositInterface3.sol/ICurveFiDeposit3.json';\nimport UniV2PairAbi from 'abi/contracts/interfaces/uniswap/IUniswapV2Pair.sol/IUniswapV2Pair.json';\nimport BoosterAbi from 'abi/contracts/src/booster/Booster.sol/Booster.json';\nimport CFolioItemHandlerAbi from 'abi/contracts/src/cfolio/interfaces/ICFolioItemHandler.sol/ICFolioItemHandler.json';\nimport SftEvaluatorAbi from 'abi/contracts/src/cfolio/SFTEvaluator.sol/SFTEvaluator.json';\nimport SFTMinterAbi from 'abi/contracts/src/crowdsale/WOWSSftMinter.sol/WOWSSftMinter.json';\nimport CFolioFarmAbi from 'abi/contracts/src/investment/CFolioFarm.sol/CFolioFarm.json';\nimport RootTunnelAbi from 'abi/contracts/src/polygon/WOWSERC1155RootTunnel.sol/WOWSERC1155RootTunnel.json';\nimport TradeFloorAbi from 'abi/contracts/src/token/TradeFloor.sol/TradeFloor.json';\nimport TokenAbi from 'abi/contracts/src/token/WOWSErc20.sol/WowsToken.json';\nimport SFTHolderAbi from 'abi/contracts/src/token/WOWSERC1155.sol/WOWSERC1155.json';\nimport { ethers } from 'ethers';\nimport Emitter from 'events';\nimport Dispatcher from 'flux';\nimport React from 'react';\nimport { WalletLink } from 'walletlink';\nimport Web3Modal, {\n  getInjectedProvider,\n  getProviderDescription,\n  IProviderOptions,\n} from 'web3modal';\n\nimport WalletLinkLogo from '../assets/coinbase-wallet.svg';\nimport { CARD_LEVEL, CARDS, CFOLIO_ITEMS } from '../components/types/cards';\nimport { addresses } from '../config/addresses';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n  STAKE_LP_AVAILABLE,\n} from './constants';\nimport { MessageProof } from './polygon';\n\nconst emitter = new Emitter.EventEmitter();\nconst dispatcher = new Dispatcher.Dispatcher();\n\ntype PayloadContent = {\n  amount?: number;\n  investment?: number;\n  time?: number;\n  id?: ethers.BigNumber;\n  type?: number;\n  filter?: Array<string>;\n  address?: string;\n};\n\ntype PayloadContentCFolioItem = {\n  wowsAmount: number;\n  investAmount: number[];\n  sftTokenId: ethers.BigNumber;\n  cfolioTokenId?: ethers.BigNumber;\n  cfolioType: number;\n};\n\nexport type PayloadContentCFolioItemLT = {\n  src: ethers.BigNumber;\n  dst: ethers.BigNumber;\n  lockedCFIs: ethers.BigNumber[];\n  transferCFIs: ethers.BigNumber[];\n};\n\nexport type Payload = {\n  type: string;\n  content: PayloadContent;\n};\n\ntype ChainAddresses = {\n  rpcEndpoint?: string;\n  wssEndpoint?: string;\n  token: string;\n  uniV2Pair: string;\n  stakeFarm?: string;\n  sftMinterProxy: string;\n  sftHolderProxy: string;\n  boosterProxy: string;\n  tradeFloorProxy: string;\n  sftEvaluatorProxy: string;\n  cfolioFarmLP?: string;\n  cfolioItemHandlerLPProxy?: string;\n  cfolioFarmSC?: string;\n  cfiBridgeProxy?: string;\n  cfolioItemHandlerSCProxy?: string;\n  bridgeTarget: string;\n  uniDaiWeth: string;\n  daiToken?: string;\n  tusdToken?: string;\n  usdcToken?: string;\n  usdtToken?: string;\n  curveYToken?: string;\n  curveYDeposit?: string;\n  curveAToken?: string;\n};\ninterface IIndexable {\n  [key: number]: ChainAddresses;\n}\n\nexport type AssetStateresult = {\n  status:\n    | 'error'\n    | 'loaded'\n    | 'cards'\n    | 'tokens'\n    | 'cfolio_amount'\n    | 'rewards'\n    | 'balances'\n    | 'allowance';\n};\n\nexport type TokenContractResult = {\n  error: string | undefined;\n  tokenAmount: number | undefined;\n};\n\nexport type ConnectResult = {\n  type: 'event' | 'prod';\n  address: string;\n  networkName: string;\n};\n\nexport type StatusResult = {\n  status: 'error' | 'tx' | 'success' | 'approve';\n  type: string;\n  errorMessage: string | undefined;\n  tx: string | undefined;\n};\n\nexport type StakeResult = {\n  error: string | undefined;\n  state: {\n    poolSupply: number; // amount tokens in pool\n    reserve0: number; // amount pair::token0\n    reserve1: number; // amount pair::token1\n    priceReserve0: number; // price per token0\n    stakeSupply: number; // amount tokens staked\n    stakeSupplyUser: number; // amount tokens staked user\n    rewardsDuration: number; // duration in seconds reward is based on\n    rewardPerDuration: number; // reward per rewardsDuration time\n    earned: number; // amount of reward tokens earned\n  };\n};\n\nexport enum SFTS {\n  UNLOCKED,\n  LOCKED,\n  BRIDGE_PENDING,\n  BRIDGE_READY,\n}\n\nexport type SFTCHILD = {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  status: SFTS;\n  type: number;\n  assets: number[];\n};\n\nexport type BoosterRewards = {\n  total: number;\n  pending: number;\n  apr: number;\n  secsLeft?: number;\n};\n\nexport type SFT = {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  isBaseCard: boolean;\n  isStockCard: boolean;\n  isWallet: boolean;\n  status: SFTS;\n  rewardRate: number;\n  rewardShare: number;\n  rewardEarned: number;\n  mintTimestamp: number;\n  cfolioItems: SFTCHILD[];\n  boosterRewards: BoosterRewards;\n};\n\nexport const BIGNUMBER_MAX = ethers.BigNumber.from(\n  '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'\n);\n\nexport const STABLE_CURRENCIES = [\n  ['DAI', 'USDC', 'USDT', 'am3Crv'],\n  ['DAI', 'USDC', 'USDT', 'TUSD', 'yCrv'],\n  [],\n];\n\nconst SECONDS_PER_YEAR = 31536000;\n\nexport const REWARD_POOL_LP = 0;\nexport const REWARD_POOL_SC = 1;\n\ntype REWARD_INFO = {\n  total: ethers.BigNumber;\n  rewardDuration: number;\n  rewardPerDuration: ethers.BigNumber;\n  priceWOWS: number;\n  priceToken: number;\n  apr: number;\n};\n\nexport type ASSET_BALANCE = {\n  [key: string]: {\n    decimals: number;\n    dust: ethers.BigNumber;\n    value: number;\n    address?: string;\n    allowance: number;\n    handlerAddress?: string;\n  };\n};\n\ntype ASSETS = {\n  balances: ASSET_BALANCE;\n  userSFT: SFT[];\n  cards: CARDS;\n  cfolioItems: CFOLIO_ITEMS[];\n  rewardInfo: REWARD_INFO[];\n};\n\nconst readUint256 = (s: string, i: number) =>\n  ethers.BigNumber.from('0x' + s.substr(i * 64 + 2, 64));\n\nclass AsyncLock {\n  disable: () => void;\n  promise: Promise<void>;\n  constructor() {\n    this.disable = () => {\n      if (!this) alert('');\n    };\n    this.promise = Promise.resolve();\n  }\n  enable() {\n    this.promise = new Promise((resolve) => (this.disable = resolve));\n  }\n}\n\nclass Store {\n  web3Modal: Web3Modal;\n  /* Provider */\n  ethersProvider?: ethers.providers.JsonRpcProvider;\n  eventProvider?: ethers.providers.BaseProvider;\n  ethersSigner?: ethers.Signer;\n  isWSEventProvider = false;\n\n  /* Contracts */\n  tokenContract?: ethers.Contract;\n  cfihLpContract?: ethers.Contract;\n  cfihScContract?: ethers.Contract;\n  sftEvaluatorContract?: ethers.Contract;\n  boosterContract?: ethers.Contract;\n\n  sftHolderContractRO?: ethers.Contract;\n  sftMintContractRO?: ethers.Contract;\n  tradeFloorContractRO?: ethers.Contract;\n  lpContractRO?: ethers.Contract;\n  uniDaiWethPairContractRO?: ethers.Contract;\n  curveYDepositContractRO?: ethers.Contract;\n\n  cfolioFarmLpAddress = '';\n  cfolioFarmScAddress = '';\n  bridgeTargetAddress = '';\n\n  static nullAddress = '0x0000000000000000000000000000000000000000';\n  static BASE_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFFFFFFFFFF');\n  static STOCK_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFF');\n  static DUST_6 = ethers.BigNumber.from(10);\n  static DUST_18 = ethers.BigNumber.from(1000000000000);\n\n  /* Misc */\n  networkName = 'mainnet';\n  accountId = 0;\n  chainId = 0;\n  address = '';\n  tokenContractAddress = Store.nullAddress;\n  lastAprTime = 0;\n  eventsSuspended = false;\n  lock = new AsyncLock();\n\n  dispatchQueue: Payload[] = [];\n\n  polygonBridge?: MessageProof;\n\n  assets = {\n    balances: {\n      WOWS: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      'WETH/WOWS LP': {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      USDC: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      USDT: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      DAI: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      TUSD: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      yCrv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      am3Crv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n    },\n    userSFT: [],\n    cards: { levelNames: [], cards: [], myPackLevelDescriptions: [] },\n    cfolioItems: [],\n    rewardInfo: Array.from({ length: 2 }, () => ({\n      total: ethers.BigNumber.from(0),\n      rewardDuration: 0,\n      rewardPerDuration: ethers.BigNumber.from(0),\n      priceWOWS: 0,\n      priceToken: 0,\n      apr: 0,\n    })),\n  } as ASSETS;\n\n  constructor() {\n    const providerOptions: IProviderOptions = {\n      walletconnect: {\n        package: WalletConnectProvider,\n        options: {\n          infuraId: process.env.REACT_APP_INFURA_ID,\n        },\n      },\n      'custom-walletlink': {\n        display: {\n          logo: WalletLinkLogo,\n          name: 'WalletLink',\n          description: 'Scan with WalletLink to connect',\n        },\n        options: {\n          appName: 'WolvesOfWallStreet', // Your app name\n          networkUrl: `https://mainnet.infura.io/v3/${process.env.REACT_APP_INFURA_ID}`,\n          chainId: this.chainId,\n        },\n        package: WalletLink,\n        connector: async (_, options) => {\n          const { appName, networkUrl, chainId } = options;\n          const walletLink = new WalletLink({\n            appName,\n          });\n          const provider = walletLink.makeWeb3Provider(networkUrl, chainId);\n          await provider.enable();\n          return provider;\n        },\n      },\n    };\n\n    const providerInfo = getInjectedProvider();\n    if (providerInfo) {\n      providerOptions.injected = {\n        display: {\n          logo: providerInfo.logo,\n          name: providerInfo.name,\n          description: getProviderDescription(providerInfo),\n        },\n        package: null,\n      };\n    }\n\n    this.web3Modal = new Web3Modal({\n      network: this.networkName,\n      cacheProvider: true,\n      providerOptions: providerOptions,\n    });\n\n    dispatcher.register((payload) => {\n      const _payload = payload as Payload;\n      switch (_payload.type) {\n        case CFOLIO_ITEM_BUY:\n          this._doCFolioItemBuy(_payload.content as PayloadContentCFolioItem);\n          break;\n        case CFOLIO_ITEM_DEPOSIT:\n          this._doCFolioItemDeposit(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_WITHDRAW:\n          this._doCFolioItemWithdraw(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_UNLOCK_TRANSFER:\n          this._doCFolioItemUnlockAndTransfer(\n            _payload.content as PayloadContentCFolioItemLT\n          );\n          break;\n        /** Staking */\n        case REVOKE_APPROVAL:\n          this._doRevokeApproval(_payload.content);\n          break;\n        /** Staking */\n        case STAKE_LP_AVAILABLE:\n          this._getPoolTokenAmount(_payload.content);\n          break;\n        /** SFT */\n        case SFT_BUY:\n          this._doSftBuy(_payload.content);\n          break;\n        case SFT_CLAIM:\n          this._doSftClaim(_payload.content);\n          break;\n        case SFT_CLAIM_BOOSTER:\n          this._doSftClaimBooster(_payload.content);\n          break;\n        case SFT_LOCK:\n          this._doSftLock(_payload.content);\n          break;\n        case SFT_REWARD:\n          this._getSftRewards(_payload.content);\n          break;\n        case SFT_PROOF:\n          this._doSftMessageProof(_payload.content);\n          break;\n        case SFT_TRANSFER:\n          this._doSftTransfer(_payload.content);\n          break;\n        case ASSETS_STATE:\n          if (_payload.content.filter?.includes('cards'))\n            this._getSftState(_payload.content);\n          if (_payload.content.filter?.includes('tokens'))\n            this._getUserSft(_payload.content).then(() =>\n              this._getSftRewards(_payload.content)\n            );\n          if (_payload.content.filter?.includes('balances'))\n            this._getAssetsBalances(_payload.content);\n          if (_payload.content.filter?.includes('allowance'))\n            this._getAssetsAllowances(_payload.content);\n          break;\n        case SFT_UNLOCK:\n          this._doSftUnlock(_payload.content);\n          break;\n        case SFT_UPGRADE:\n          this._doSftUpgrade(_payload.content);\n          break;\n        default: {\n          return;\n        }\n      }\n    });\n\n    /** Load assets **/\n    import('locales/en_US/cards.json').then((content) => {\n      this.assets.cards.levelNames = content.default.levelNames;\n      this.assets.cards.cards = content.default.levels as CARD_LEVEL[];\n      // Load CFolioItems\n      import('locales/en_US/cFolioItems.json').then((content) => {\n        this.assets.cfolioItems = content.default as CFOLIO_ITEMS[];\n        emitter.emit(ASSETS_STATE, { status: 'loaded' } as AssetStateresult);\n        dispatcher.dispatch({\n          type: ASSETS_STATE,\n          content: { filter: ['cards', 'tokens'] },\n        } as Payload);\n      });\n    });\n  }\n\n  mount() {\n    if (window.ethereum) {\n      this.chainId = parseInt(window.ethereum.chainId);\n      switch (this.chainId) {\n        case 4:\n          this.networkName = 'rinkeby';\n          break;\n        case 5:\n          this.networkName = 'goerli';\n          break;\n        case 137:\n          this.networkName = 'matic';\n          break;\n        case 80001:\n          this.networkName = 'maticmum';\n          break;\n        default: {\n          this.networkName = ' mainnet';\n          this.chainId = 1;\n        }\n      }\n      console.log(\n        'Mount with chainId: ',\n        this.chainId,\n        ' and Network: ',\n        this.networkName\n      );\n    }\n    this.autoconnect();\n  }\n\n  unmount() {\n    this.close();\n  }\n\n  getAssets = () => {\n    return this.assets;\n  };\n\n  handleBridgeChange = (accounts: Set<string>) => {\n    console.log('Brige:', accounts);\n    if (accounts.has(this.address)) {\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['tokens'] },\n      } as Payload);\n    }\n  };\n\n  /*********************** NETWORK ******************/\n\n  getEndpoint(wss: boolean): string | undefined {\n    const chainAddresses = this._getChainAddresses();\n    return wss ? chainAddresses?.wssEndpoint : chainAddresses?.rpcEndpoint;\n  }\n\n  isSidechain(): boolean {\n    return this.networkName.startsWith('matic');\n  }\n\n  getBridgeTarget(): { name: string; address: string } {\n    return this.networkName.startsWith('matic')\n      ? { name: 'ETHEREUM', address: this.bridgeTargetAddress }\n      : { name: 'POLYGON', address: this.bridgeTargetAddress };\n  }\n\n  connect = async () => {\n    try {\n      if (this.ethersProvider) {\n        await this.disconnect(false, false);\n      }\n\n      let ethersProvider: ethers.providers.JsonRpcProvider;\n      const endpoint = this.getEndpoint(false);\n      if (endpoint) {\n        ethersProvider = new ethers.providers.JsonRpcProvider(endpoint);\n      } else {\n        const web3Provider = await this.web3Modal.connect();\n        await this.subscribeProvider(web3Provider);\n\n        ethersProvider = new ethers.providers.Web3Provider(web3Provider);\n      }\n      const accounts = await ethersProvider.listAccounts();\n      this.address = ethers.utils.getAddress(accounts[this.accountId]);\n      const network = await ethersProvider.getNetwork();\n      this.chainId = network.chainId;\n      this.networkName = network.name;\n      await this._launchEventProvider();\n      if (await this._setupContracts(ethersProvider)) this._emitNetworkChange();\n      this.ethersProvider = ethersProvider;\n      this.ethersSigner = ethersProvider.getSigner(this.accountId);\n\n      // Enable MessageProof for bidging back from Polygon\n      if (this.chainId === 1 || this.chainId === 5)\n        this.polygonBridge = new MessageProof(\n          this.eventProvider ?? ethersProvider,\n          this.chainId,\n          this.handleBridgeChange\n        );\n    } catch (e) {\n      console.log(e);\n      await this.disconnect(true, true);\n    }\n  };\n\n  autoconnect = async () => {\n    if (this.address) alert('Conneted');\n    const query = new URLSearchParams(window.location.search);\n    const defaultChain = query.get('chainId');\n    const defaultAccountId = query.get('accountId');\n\n    if (defaultChain) this.chainId = parseInt(defaultChain);\n    if (defaultAccountId) this.accountId = parseInt(defaultAccountId);\n\n    if (this.web3Modal.cachedProvider) {\n      await this.connect();\n    } else await this._launchEventProvider();\n  };\n\n  subscribeProvider = async (provider: ethers.providers.Provider) => {\n    if (!provider.on) {\n      return;\n    }\n\n    provider.on('disconnect', () => {\n      this.disconnect(false, true);\n    });\n\n    provider.on('accountsChanged', async (accounts: string[]) => {\n      if (this.address !== '' && accounts[0] !== this.address) {\n        this.address = ethers.utils.getAddress(accounts[0]);\n        this._emitNetworkChange();\n      }\n    });\n\n    provider.on('chainChanged', async (chainId: number) => {\n      if (chainId !== this.chainId) {\n        this.chainId = chainId;\n        await this.connect();\n      }\n    });\n  };\n\n  disconnect = async (clearCache: boolean, fireEvent: boolean) => {\n    if (this.ethersProvider) {\n      localStorage.removeItem('walletconnect');\n      this.ethersProvider.removeAllListeners();\n      this.tokenContract = undefined;\n      this.ethersProvider = undefined;\n      this.cfihLpContract = undefined;\n      this.cfihScContract = undefined;\n      this.sftEvaluatorContract = undefined;\n      this.boosterContract = undefined;\n      this.ethersSigner = undefined;\n      this.polygonBridge = undefined;\n    }\n    this.address = '';\n    if (clearCache) {\n      this.web3Modal.clearCachedProvider();\n    }\n    if (fireEvent) {\n      this._emitNetworkChange();\n    }\n  };\n\n  close = async () => {\n    try {\n      this.sftHolderContractRO?.removeAllListeners();\n      this.sftHolderContractRO = undefined;\n      this.sftMintContractRO = undefined;\n      this.tradeFloorContractRO?.removeAllListeners();\n      this.tradeFloorContractRO = undefined;\n      this.lpContractRO?.removeAllListeners();\n      this.lpContractRO = undefined;\n      this.uniDaiWethPairContractRO = undefined;\n    } catch (e) {\n      console.log(e);\n    }\n    console.log('Disconnect due to WS close');\n    await this.disconnect(false, true);\n    if (this.eventProvider) {\n      try {\n        this.eventProvider?.removeAllListeners();\n      } catch (e) {\n        console.log(e);\n      }\n      if (this.isWSEventProvider) {\n        const wsEventProvider = this\n          .eventProvider as ethers.providers.WebSocketProvider;\n        wsEventProvider._websocket.onclose = null;\n        wsEventProvider._websocket.onerror = null;\n        await wsEventProvider.destroy();\n      }\n      this.eventProvider = undefined;\n    }\n  };\n\n  isConnected = () => {\n    return this.ethersProvider !== undefined;\n  };\n\n  isEventConnected = () => {\n    return this.eventProvider !== undefined;\n  };\n\n  _addDQ = async (block: number, payload: Payload) => {\n    if (this.eventsSuspended) {\n      if (\n        !this.dispatchQueue.find(\n          (elem) => JSON.stringify(elem) === JSON.stringify(payload)\n        )\n      )\n        this.dispatchQueue.push(payload);\n    } else {\n      dispatcher.dispatch(payload);\n    }\n  };\n\n  _resolveDQ = () => {\n    if (this.eventsSuspended) {\n      this.dispatchQueue.forEach((payload) => dispatcher.dispatch(payload));\n      this.dispatchQueue = [];\n      /*if (this.lastAprTime + 300000 < Date.now()) {\n        this.lastAprTime = Date.now();\n        this._updatePoolAPR();\n      }*/\n      this.eventsSuspended = false;\n    }\n  };\n\n  _setupEvents(): boolean {\n    this.eventProvider?.removeAllListeners();\n    this.sftHolderContractRO?.removeAllListeners();\n    this.tradeFloorContractRO?.removeAllListeners();\n    this.lpContractRO?.removeAllListeners();\n\n    const handleTransfer = (\n      operator: string,\n      from: string,\n      to: string,\n      cards: boolean\n    ) => {\n      const filter = [];\n      if (cards && from === Store.nullAddress) filter.push('cards');\n      if (\n        operator === this.address ||\n        from === this.address ||\n        to === this.address\n      ) {\n        filter.push('tokens');\n      }\n      if (filter.length > 0) {\n        console.log('TransferEvent: ', filter);\n        this._addDQ(0, { type: ASSETS_STATE, content: { filter } } as Payload);\n      }\n    };\n\n    this.sftHolderContractRO?.on('SftTokenTransfer', (operator, from, to) =>\n      handleTransfer(operator, from, to, true)\n    );\n    this.tradeFloorContractRO?.on('TransferSingle', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    this.tradeFloorContractRO?.on('TransferBatch', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    this.lpContractRO?.on('Transfer', (from, to) => {\n      if (from === this.address || to === this.address) {\n        dispatcher.dispatch({ type: STAKE_LP_AVAILABLE } as Payload);\n      }\n    });\n    return true;\n  }\n\n  _emitNetworkChange() {\n    // Request new SFT List\n    if (this.address) {\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['tokens', 'balances', 'rewards'] },\n      } as Payload);\n    } else {\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.value = 0;\n      }\n      this.assets.userSFT = [];\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    }\n    emitter.emit(CONNECTION_CHANGED, {\n      type: 'prod',\n      address: this.address,\n      networkName: this.networkName,\n    } as ConnectResult);\n  }\n\n  _launchEventProvider = async () => {\n    await this.lock.promise;\n    this.lock.enable();\n    try {\n      if (\n        !this.eventProvider ||\n        (await this.eventProvider?.getNetwork()).chainId !== this.chainId\n      ) {\n        let eventProvider:\n          | ethers.providers.WebSocketProvider\n          | ethers.providers.JsonRpcProvider;\n        this.isWSEventProvider = true;\n        const endpoint = this.getEndpoint(true);\n        if (endpoint) {\n          if (endpoint.startsWith('http')) {\n            this.isWSEventProvider = false;\n            eventProvider = new ethers.providers.JsonRpcProvider(endpoint);\n          } else {\n            eventProvider = new ethers.providers.WebSocketProvider(endpoint);\n          }\n        } else {\n          eventProvider = ethers.providers.InfuraProvider.getWebSocketProvider(\n            this.networkName,\n            process.env.REACT_APP_INFURA_ID\n          );\n        }\n        if (!this.chainId)\n          this.chainId = (await eventProvider.getNetwork()).chainId;\n\n        await this._setupEventContracts(eventProvider);\n        if (this.isWSEventProvider) {\n          const wsEventProvider =\n            eventProvider as ethers.providers.WebSocketProvider;\n          wsEventProvider._websocket.onclose = () => {\n            this.close();\n          };\n          wsEventProvider._websocket.onerror = () => {\n            this.close();\n          };\n        }\n\n        this.eventProvider?.removeAllListeners();\n        this.eventProvider = eventProvider;\n\n        console.log('EventProvider launched on network: ', this.networkName);\n        emitter.emit(CONNECTION_CHANGED, {\n          type: 'event',\n          address: '',\n          networkName: this.networkName,\n        } as ConnectResult);\n        if (this.assets.cfolioItems.length > 0) {\n          dispatcher.dispatch({\n            type: ASSETS_STATE,\n            content: { filter: ['cards'] },\n          } as Payload);\n        }\n        this._setupEvents();\n      }\n    } catch (e) {\n      console.log(e);\n      if (this.eventProvider) {\n        this.eventProvider = undefined;\n      }\n    }\n    this.lock.disable();\n  };\n\n  switchChain = async (chain: string) => {\n    if (window.ethereum) {\n      let newChain = 0;\n      if (chain === 'polygon') {\n        newChain = this.chainId === 1 ? 137 : 80001;\n      } else {\n        newChain = this.chainId === 137 ? 1 : 5;\n      }\n      if (newChain) {\n        try {\n          await window.ethereum.request({\n            method: 'wallet_switchEthereumChain',\n            params: [{ chainId: '0x' + newChain.toString(16) }],\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    }\n  };\n\n  getStableCurrencies() {\n    switch (this.chainId) {\n      case 137:\n        return STABLE_CURRENCIES[0];\n      case 80001:\n        return STABLE_CURRENCIES[1];\n      default:\n        return STABLE_CURRENCIES[2];\n    }\n  }\n  /******************** Contracts *********************/\n\n  _getChainAddresses(): ChainAddresses | undefined {\n    return (addresses as IIndexable)[this.chainId];\n  }\n\n  async _setupEventContracts(\n    provider: ethers.providers.BaseProvider\n  ): Promise<void> {\n    const chainAddresses = this._getChainAddresses();\n\n    if (chainAddresses) {\n      this.tokenContractAddress = chainAddresses.token;\n      this.lpContractRO = new ethers.Contract(\n        chainAddresses.uniV2Pair,\n        UniV2PairAbi,\n        provider\n      );\n      if (chainAddresses.sftHolderProxy) {\n        this.sftHolderContractRO = new ethers.Contract(\n          chainAddresses.sftHolderProxy,\n          SFTHolderAbi,\n          provider\n        );\n      }\n\n      if (chainAddresses.sftMinterProxy) {\n        this.sftMintContractRO = new ethers.Contract(\n          chainAddresses.sftMinterProxy,\n          SFTMinterAbi,\n          provider\n        );\n      }\n      if (chainAddresses.tradeFloorProxy) {\n        this.tradeFloorContractRO = new ethers.Contract(\n          chainAddresses.tradeFloorProxy,\n          TradeFloorAbi,\n          provider\n        );\n      }\n\n      this.cfolioFarmLpAddress = chainAddresses.cfolioFarmLP || '';\n      this.cfolioFarmScAddress = chainAddresses.cfolioFarmSC || '';\n\n      if (chainAddresses.uniDaiWeth !== '') {\n        this.uniDaiWethPairContractRO = new ethers.Contract(\n          chainAddresses.uniDaiWeth,\n          UniV2PairAbi,\n          provider\n        );\n      } else this.uniDaiWethPairContractRO = undefined;\n\n      if (chainAddresses.curveYDeposit) {\n        this.curveYDepositContractRO = new ethers.Contract(\n          chainAddresses.curveYDeposit,\n          CurveDepositAbi,\n          provider\n        );\n      } else this.curveYDepositContractRO = undefined;\n\n      // Setup our balances\n      this.assets.balances['WOWS'].address = chainAddresses.token;\n      this.assets.balances['WETH/WOWS LP'].address = this.lpContractRO.address;\n      this.assets.balances['USDC'].address = chainAddresses.usdcToken;\n      this.assets.balances['USDT'].address = chainAddresses.usdtToken;\n      this.assets.balances['DAI'].address = chainAddresses.daiToken;\n      this.assets.balances['TUSD'].address = chainAddresses.tusdToken;\n      this.assets.balances['yCrv'].address = chainAddresses.curveYToken;\n      this.assets.balances['am3Crv'].address = chainAddresses.curveAToken;\n\n      this.assets.balances['WOWS'].handlerAddress =\n        chainAddresses.sftMinterProxy;\n      this.assets.balances['WETH/WOWS LP'].handlerAddress =\n        chainAddresses.cfolioItemHandlerLPProxy;\n      this.assets.balances['USDC'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['USDT'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['DAI'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['TUSD'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['yCrv'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n    } else {\n      this.tokenContractAddress = Store.nullAddress;\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.address = undefined;\n        value.value = 0;\n      }\n    }\n  }\n\n  async _setupContracts(\n    provider: ethers.providers.JsonRpcProvider\n  ): Promise<boolean> {\n    const chainAddresses = this._getChainAddresses();\n    if (chainAddresses) {\n      const signer = provider.getSigner(this.accountId);\n      this.tokenContract = new ethers.Contract(\n        chainAddresses.token,\n        TokenAbi,\n        signer\n      );\n      if (chainAddresses.cfolioItemHandlerLPProxy) {\n        this.cfihLpContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerLPProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.cfolioItemHandlerSCProxy) {\n        this.cfihScContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerSCProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.sftEvaluatorProxy) {\n        this.sftEvaluatorContract = new ethers.Contract(\n          chainAddresses.sftEvaluatorProxy,\n          SftEvaluatorAbi,\n          signer\n        );\n      }\n      if (chainAddresses.boosterProxy) {\n        this.boosterContract = new ethers.Contract(\n          chainAddresses.boosterProxy,\n          BoosterAbi,\n          signer\n        );\n      }\n      this.bridgeTargetAddress = chainAddresses.bridgeTarget;\n\n      return true;\n    }\n    return false;\n  }\n\n  // Should be from getStakeState() in a next iteration\n  _getPoolTokenAmount = async (payloadContent: PayloadContent | undefined) => {\n    try {\n      const result = !this.lpContractRO\n        ? 0\n        : await this.lpContractRO?.balanceOf(this.address);\n      emitter.emit(STAKE_LP_AVAILABLE, {\n        tokenAmount: this.fromWei(result),\n      } as TokenContractResult);\n    } catch (e) {\n      emitter.emit(STAKE_LP_AVAILABLE, {\n        error: e.message,\n      } as TokenContractResult);\n    }\n  };\n\n  _getSftState = async (payloadContent: PayloadContent | undefined) => {\n    if (!this.sftMintContractRO) {\n      return;\n    }\n\n    // Loop through the assets and build up level / cardIds to query\n    const levels: ethers.BigNumber[] = [];\n    const cardIds: ethers.BigNumber[] = [];\n\n    this.assets.cards.cards.forEach((level) =>\n      level.cards.forEach((card) => {\n        levels.push(ethers.BigNumber.from(level.chainRef));\n        cardIds.push(ethers.BigNumber.from(card.chainRef));\n      })\n    );\n\n    try {\n      const sftResult:\n        | {\n            prices: ethers.BigNumber[];\n            numMinted: number[];\n            maxMintable: number[];\n          }\n        | undefined = await this.sftMintContractRO?.getBaseSpec(\n        levels,\n        cardIds\n      );\n\n      if (sftResult !== undefined) {\n        let index = 0;\n        for (const level of this.assets.cards.cards) {\n          level.price = this.fromWei(sftResult.prices[index]);\n          level.quantity = sftResult.maxMintable[index];\n          for (const card of level.cards) {\n            card.minted = sftResult.numMinted[index];\n            index++;\n          }\n          if (index >= sftResult.prices.length) break;\n        }\n      }\n\n      const cfolioTypes: number[] = [];\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => cfolioTypes.push(card.chainRef))\n      );\n\n      const cfolioResult: [\n        ethers.BigNumber[],\n        ethers.BigNumber[],\n        ethers.BigNumber[]\n      ] = await this.sftMintContractRO?.getCFolioSpec(cfolioTypes);\n      let index = 0;\n\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => {\n          card.price = this.fromWei(cfolioResult[0][index]);\n          card.minted = cfolioResult[1][index].toNumber();\n          card.maxMintable = cfolioResult[2][index].toNumber();\n          ++index;\n        })\n      );\n      emitter.emit(ASSETS_STATE, { status: 'cards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getUserSft = async (payloadContent: PayloadContent | undefined) => {\n    if (this.address === '' || !this.sftMintContractRO) return;\n\n    try {\n      const result: [ethers.BigNumber[], ethers.BigNumber[]] =\n        await this.sftMintContractRO.getTokenIds(this.address);\n\n      const bridgeToken = this.polygonBridge\n        ? this.polygonBridge.getTokenIds(this.address)\n        : [];\n\n      const mergeList = result[0].map((t) => t);\n      mergeList.push(...result[1]);\n      mergeList.push(...bridgeToken.map((item) => item.tokenId));\n\n      const newUserSFT: SFT[] = mergeList\n        .filter((n) => n.mask(128).lte(Store.BASE_CARD_MAX))\n        .map((bn, index) => {\n          const cr = bn.mask(32).toNumber() >> 16;\n          let cardIndex = 0;\n          const levelIndex = this.assets.cards.cards.findIndex(\n            (l) =>\n              l.chainRef << 8 === (cr & 0xff00) &&\n              (cardIndex = l.cards.findIndex(\n                (c) => c.chainRef === (cr & 0xff)\n              )) >= 0\n          );\n          const bridgeItem = bridgeToken.find((item) => item.tokenId.eq(bn));\n          return {\n            tokenId: bn,\n            levelId: levelIndex,\n            cardId: cardIndex,\n            isBaseCard: bn.mask(128).lte(Store.BASE_CARD_MAX),\n            isStockCard: bn.mask(128).lte(Store.STOCK_CARD_MAX),\n            isWallet: false,\n            status: bridgeItem\n              ? bridgeItem.available\n                ? SFTS.BRIDGE_READY\n                : SFTS.BRIDGE_PENDING\n              : result[1].find((b) => b.eq(bn)) !== undefined\n              ? SFTS.LOCKED\n              : SFTS.UNLOCKED,\n            rewardRate: 0,\n            rewardShare: 0,\n            rewardEarned: 0,\n            mintTimestamp: 0,\n            cfolioItems: [],\n            boosterRewards: {\n              total: 0,\n              pending: 0,\n              apr: 0,\n            },\n          };\n        })\n        .sort((a, b) =>\n          a.tokenId.mask(128).gt(b.tokenId.mask(128))\n            ? 1\n            : a.tokenId.mask(128).lt(b.tokenId.mask(128))\n            ? -1\n            : 0\n        );\n      // Create a dummy UserTokenId UINT256Max for the users wallet\n      newUserSFT.unshift({\n        tokenId: BIGNUMBER_MAX,\n        levelId: -1,\n        cardId: -1,\n        isBaseCard: false,\n        isStockCard: false,\n        isWallet: true,\n        status: SFTS.UNLOCKED,\n        rewardRate: 0,\n        rewardShare: 0,\n        rewardEarned: 0,\n        mintTimestamp: 0,\n        cfolioItems: [],\n        boosterRewards: {\n          total: 0,\n          pending: 0,\n          apr: 0,\n        },\n      });\n\n      // Get all CFolio Items and tokenId information, root cFolioItems go into wallet (-1)\n      // We expect uint256: [%,MintTime,NumItems,[tokenId,type,numAssetValues,[assetValue]]]...\n      const result2: string = await this.sftMintContractRO.getTokenInformation(\n        mergeList\n      );\n      let readIndex = 0;\n      // We have now a string of uint256Hex values\n      mergeList.forEach((tokenId) => {\n        //get destination tokenId\n        let destinationId: number;\n        if (tokenId.mask(128).gt(Store.BASE_CARD_MAX)) destinationId = 0;\n        else\n          destinationId = newUserSFT.findIndex((sft) =>\n            sft.tokenId.eq(tokenId)\n          );\n        if (destinationId >= 0) {\n          newUserSFT[destinationId].rewardRate = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n          newUserSFT[destinationId].mintTimestamp = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n\n          let numCFolios = readUint256(result2, readIndex++).toNumber();\n          while (numCFolios > 0) {\n            const childId = readUint256(result2, readIndex++);\n            const child: SFTCHILD = {\n              tokenId: childId,\n              levelId: -1,\n              cardId: -1,\n              status:\n                destinationId === 0 &&\n                result[1].find((b) => b.eq(childId)) !== undefined\n                  ? SFTS.LOCKED\n                  : SFTS.UNLOCKED,\n              type: readUint256(result2, readIndex++).toNumber(),\n              assets: [],\n            };\n            child.levelId = this.assets.cfolioItems.findIndex(\n              (l) =>\n                (child.cardId = l.cards.findIndex(\n                  (c) => c.chainRef === child.type\n                )) >= 0\n            );\n            const numAssets = readUint256(result2, readIndex++).toNumber();\n            const bidx =\n              this.assets.cfolioItems[child.levelId].type === 'lpInvestment'\n                ? ['WETH/WOWS LP']\n                : this.getStableCurrencies();\n            for (let index = 0; index < numAssets; ++index) {\n              child.assets.push(\n                this.fromWei(\n                  readUint256(result2, readIndex++),\n                  this.assets.balances[bidx[index]].decimals\n                )\n              );\n            }\n            newUserSFT[destinationId].cfolioItems.push(child);\n            --numCFolios;\n          }\n        } else throw new Error('Mismatch in tokenId array');\n      });\n\n      this.assets.userSFT = newUserSFT;\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getSftRewards = async (plc: PayloadContent) => {\n    try {\n      if (!this.sftMintContractRO) return;\n      const filter = ['wolves', 'bois'];\n      const contracts = [this.cfihLpContract, this.cfihScContract];\n\n      for (let i = 0; i < 2; ++i) {\n        if (!contracts[i]) return;\n\n        const sfts = this.assets.userSFT.filter(\n          (sft) =>\n            sft.isBaseCard &&\n            this.assets.cards.cards[sft.levelId].type === filter[i]\n        );\n\n        if (sfts.length === 0) continue;\n\n        // Returns:\n        //  result: totalsupply, rewardDur, rewardsPerDur, [share, earned]\n        //  boosterLocked\n        //  boosterPending\n        //  boosterApr\n        //  boosterSecsLeft\n        const result = await this.sftMintContractRO.getRewardInfo(\n          contracts[i]?.address,\n          sfts.map((sft) => sft.tokenId)\n        );\n        let readIndex = 0;\n        const cfiResult = result.result;\n        const ri = this.assets.rewardInfo[i];\n        ri.total = readUint256(cfiResult, readIndex++);\n        const total = this.fromWei(ri.total);\n        ri.rewardDuration = readUint256(cfiResult, readIndex++).toNumber();\n        ri.rewardPerDuration = readUint256(cfiResult, readIndex++);\n        sfts.forEach((sft, index) => {\n          sft.rewardShare =\n            (this.fromWei(readUint256(cfiResult, readIndex++)) * 100) / total;\n          sft.rewardEarned = this.fromWei(readUint256(cfiResult, readIndex++));\n          sft.boosterRewards.total = this.fromWei(result.boosterLocked[index]);\n          sft.boosterRewards.pending = this.fromWei(\n            result.boosterPending[index]\n          );\n          sft.boosterRewards.apr = this.fromWei(result.boosterApr[index]);\n          sft.boosterRewards.secsLeft = result.boosterSecsLeft[index].eq(\n            BIGNUMBER_MAX\n          )\n            ? undefined\n            : result.boosterSecsLeft[index].toNumber();\n        });\n      }\n      await this._updatePoolAPR();\n      emitter.emit(ASSETS_STATE, { status: 'rewards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _setCFolioAmount(\n    receipt: ethers.providers.TransactionReceipt,\n    sft: ethers.BigNumber,\n    cfolio: ethers.BigNumber\n  ) {\n    const iface = new ethers.utils.Interface(CFolioFarmAbi);\n    const stableCurrencies = this.getStableCurrencies();\n    receipt.logs.find((log) => {\n      if (\n        log.address === this.cfolioFarmLpAddress ||\n        log.address === this.cfolioFarmScAddress\n      ) {\n        const parsed = iface.parseLog(log);\n        if (['AssetAdded', 'AssetRemoved'].includes(parsed.name)) {\n          this.assets.userSFT.find(\n            (isft) =>\n              isft.tokenId === sft &&\n              isft.cfolioItems.find((item) => {\n                if (item.tokenId === cfolio) {\n                  if (log.address === this.cfolioFarmLpAddress) {\n                    item.assets[0] = this.fromWei(parsed.args[2]);\n                    emitter.emit(ASSETS_STATE, {\n                      status: 'cfolio_amount',\n                    } as AssetStateresult);\n                  } else if (this.cfihScContract) {\n                    this.cfihScContract\n                      .getAmounts(parsed.args[0])\n                      .then((amounts: ethers.BigNumber[]) => {\n                        amounts.forEach(\n                          (amount, index) =>\n                            (item.assets[index] = this.fromWei(\n                              amount,\n                              this.assets.balances[stableCurrencies[index]]\n                                .decimals\n                            ))\n                        );\n                        emitter.emit(ASSETS_STATE, {\n                          status: 'cfolio_amount',\n                        } as AssetStateresult);\n                      });\n                  }\n                  dispatcher.dispatch({\n                    type: ASSETS_STATE,\n                    content: { filter: ['tokens', 'balances'] },\n                  } as Payload);\n                  return true;\n                }\n                return false;\n              })\n          );\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _setRewardRate(receipt: ethers.providers.TransactionReceipt): void {\n    const iface = new ethers.utils.Interface(SftEvaluatorAbi);\n    receipt.logs.find((log) => {\n      if (log.address === this.sftEvaluatorContract?.address) {\n        const parsed = iface.parseLog(log);\n        if (parsed.name === 'RewardRate') {\n          const sft = this.assets.userSFT.find((sft) =>\n            sft.tokenId.eq(parsed.args[0])\n          );\n          if (sft) {\n            sft.rewardRate = parsed.args[1];\n          }\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _getTokenContractAddress() {\n    return this.tokenContractAddress;\n  }\n\n  _getAssetsBalances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Balances(\n        this.address,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.value = this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'balances' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  _getAssetsAllowances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const spender = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.handlerAddress ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Allowances(\n        this.address,\n        spender,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.allowance = balances[index].gt(\n            ethers.BigNumber.from(0xffffffff).mul(\n              ethers.BigNumber.from(10).pow(value.decimals)\n            )\n          )\n            ? -1\n            : this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'allowance' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  async _updatePoolAPR() {\n    if (\n      this.uniDaiWethPairContractRO &&\n      this.lpContractRO &&\n      this.curveYDepositContractRO\n    ) {\n      const e18 = ethers.BigNumber.from('10').pow(18);\n\n      const daiWethReserves = await this.uniDaiWethPairContractRO.getReserves();\n      // Price of 1 WETH in DAI\n      const wethPrice = daiWethReserves.reserve0\n        .mul(e18)\n        .div(daiWethReserves.reserve1);\n\n      const wowsWethReserves = await this.lpContractRO.getReserves();\n      // Price of 1 WOWS\n      const wowsPrice = wowsWethReserves.reserve1\n        .mul(wethPrice)\n        .div(wowsWethReserves.reserve0);\n\n      for (let i = 0; i < 2; ++i) {\n        const rewardInfo = this.assets.rewardInfo[i];\n\n        rewardInfo.priceWOWS = this.fromWei(wowsPrice);\n\n        let stakedPrice;\n        if (i === 0) {\n          // TotalSupply of the WOWS/WETH pool\n          const wowsWethTotalSupply = await this.lpContractRO.totalSupply();\n\n          // Total price of pool\n          const poolPrice = wowsWethReserves.reserve0\n            .mul(wowsPrice)\n            .add(wowsWethReserves.reserve1.mul(wethPrice))\n            .div(e18);\n\n          rewardInfo.priceToken = this.fromWei(\n            poolPrice.mul(e18).div(wowsWethTotalSupply)\n          );\n\n          // Staked share\n          stakedPrice = poolPrice\n            .mul(ethers.BigNumber.from(rewardInfo.total))\n            .div(wowsWethTotalSupply);\n        } else {\n          // Get the DAI price of one yCrv token\n          const priceToken =\n            await this.curveYDepositContractRO.calc_withdraw_one_coin(\n              this.toWei(1),\n              0\n            );\n          rewardInfo.priceToken = this.fromWei(priceToken);\n\n          // Staked share\n          stakedPrice = priceToken\n            .mul(ethers.BigNumber.from(rewardInfo.total))\n            .div(e18);\n        }\n\n        if (rewardInfo.rewardDuration) {\n          // yearly emission\n          const emmission = wowsPrice.mul(\n            rewardInfo.rewardPerDuration\n              .mul(ethers.BigNumber.from(SECONDS_PER_YEAR))\n              .div(ethers.BigNumber.from(rewardInfo.rewardDuration).mul(e18))\n          );\n\n          const apr = stakedPrice.gt(0)\n            ? emmission.mul(100).div(stakedPrice).toNumber()\n            : 0;\n          rewardInfo.apr = apr;\n        }\n      }\n    }\n  }\n\n  aprToApy(apr: number): string {\n    const apy = (Math.pow(1.0 + apr / 100 / 52, 52) - 1.0) * 100;\n    return apy > 1e4 ? 'INF' : apy.toFixed(2);\n  }\n\n  /************** TX ****************/\n\n  _doSftBuy = async (payloadContent: PayloadContent) => {\n    const { amount, id } = payloadContent;\n\n    try {\n      if (!amount || id === undefined) {\n        throw new Error('Invalid input');\n      }\n\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.sftHolderContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Invalid contract');\n      }\n\n      const sftAmount = this.toWei(amount);\n      const walletAmount = await this.tokenContract.balanceOf(this.address);\n\n      if (sftAmount.gt(walletAmount)) {\n        throw new Error('Insufficient balances');\n      }\n\n      const cardData = await this.sftMintContractRO?.getBaseSpec(\n        [id.toNumber() >> 8],\n        [id.toNumber() & 0xff]\n      );\n      if (cardData.maxMintable[0] <= cardData.numMinted[0]) {\n        throw new Error('No cards available');\n      }\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const allowance = await this.tokenContract.allowance(\n        this.address,\n        sftMintContract.address\n      );\n\n      if (allowance.lt(sftAmount)) {\n        const tx = await this.tokenContract.approve(\n          sftMintContract.address,\n          this._checkUnlimited('WOWS', sftAmount)\n        );\n        emitter.emit(SFT_BUY, {\n          status: 'approve',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx.wait();\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction | undefined =\n        await sftMintContract?.mintWowsSFT(\n          this.address,\n          id.toNumber() >> 8,\n          id.toNumber() & 0xff\n        );\n      emitter.emit(SFT_BUY, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx?.wait();\n      emitter.emit(SFT_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftLock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (\n      !this.sftHolderContractRO ||\n      !this.tradeFloorContractRO ||\n      !this.ethersProvider\n    ) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    const sftHolderContract = new ethers.Contract(\n      this.sftHolderContractRO.address,\n      this.sftHolderContractRO.interface,\n      this.ethersProvider.getSigner(this.accountId)\n    );\n\n    try {\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftHolderContract.safeTransferFrom(\n          this.address,\n          this.tradeFloorContractRO.address,\n          id,\n          1,\n          []\n        );\n      emitter.emit(SFT_LOCK, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_LOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        type: SFT_LOCK,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftTransfer = async (payloadContent: PayloadContent) => {\n    const { id, address } = payloadContent;\n    if (id === undefined || !address) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.sftHolderContractRO || !this.ethersProvider) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const sftHolderContract = this.sftHolderContractRO.connect(\n        this.ethersProvider.getSigner(this.accountId)\n      );\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftHolderContract.safeTransferFrom(\n          this.address,\n          address,\n          id,\n          1,\n          []\n        );\n      emitter.emit(SFT_TRANSFER, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n\n      if (address === this.bridgeTargetAddress) {\n        await MessageProof.insertItem(this.address, this.chainId, id, receipt);\n      }\n\n      emitter.emit(SFT_TRANSFER, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftMessageProof = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.ethersSigner || !this.polygonBridge) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n    try {\n      const proof = await this.polygonBridge.processPending(id);\n      const contract = new ethers.Contract(\n        this.bridgeTargetAddress,\n        RootTunnelAbi,\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx = await contract.receiveMessage(proof);\n\n      emitter.emit(SFT_PROOF, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_PROOF, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this.polygonBridge?.removeItem(id);\n    } catch (e) {\n      this.polygonBridge?.resetPending(id);\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftUnlock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.tradeFloorContractRO || !this.ethersSigner) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const tradeFloorContract = this.tradeFloorContractRO.connect(\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction = await tradeFloorContract.burn(\n        this.address,\n        id,\n        1\n      );\n      emitter.emit(SFT_UNLOCK, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_UNLOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemBuy = async (payloadContent: PayloadContentCFolioItem) => {\n    const { wowsAmount, investAmount, sftTokenId, cfolioType } = payloadContent;\n\n    try {\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (wowsAmount > 0) {\n        const weiAmount = this.toWei(wowsAmount);\n        const walletAmount = await this.tokenContract.balanceOf(this.address);\n        if (weiAmount.gt(walletAmount)) {\n          throw new Error('Insufficient WOWS balances');\n        }\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas } = await this._investmentApproval(\n        CFOLIO_ITEM_BUY,\n        cfolioType,\n        false,\n        investAmount,\n        investWeiAmounts\n      );\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n\n      if (wowsAmount > 0) {\n        const allowance = await this.tokenContract.allowance(\n          this.address,\n          sftMintContract.address\n        );\n        const weiAmount = this.toWei(wowsAmount);\n        if (allowance.lt(weiAmount)) {\n          const tx = await this.tokenContract.approve(\n            sftMintContract.address,\n            this._checkUnlimited('WOWS', weiAmount)\n          );\n          emitter.emit(CFOLIO_ITEM_BUY, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await sftMintContract.estimateGas.mintCFolioItemSFT(\n            this.address,\n            cfolioType,\n            sftTokenId,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftMintContract.mintCFolioItemSFT(\n          this.address,\n          cfolioType,\n          sftTokenId,\n          investWeiAmounts,\n          options\n        );\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      // There is no transfer with our address emitted,\n      // in case of valid SFT: Request an tokenId update\n      if (!sftTokenId.eq(BIGNUMBER_MAX)) {\n        this._addDQ(tx?.blockNumber ?? 0, {\n          type: ASSETS_STATE,\n          content: { filter: ['tokens', 'balances'] },\n        } as Payload);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemDeposit = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas, cfihContract } = await this._investmentApproval(\n        CFOLIO_ITEM_DEPOSIT,\n        cfolioType,\n        true,\n        investAmount,\n        investWeiAmounts\n      );\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.deposit(\n            this.address,\n            sftTokenId,\n            cfolioTokenId,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      const tx = await cfihContract.deposit(\n        this.address,\n        sftTokenId,\n        cfolioTokenId,\n        investWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _investmentApproval = async (\n    msgType: string,\n    cfiType: number,\n    requireOneSet: boolean,\n    investAmount: number[],\n    investWeiAmounts: ethers.BigNumber[]\n  ) => {\n    const cfiLevel = this.assets.cfolioItems.find((cf) =>\n      cf.cards.find((cfc) => cfc.chainRef === cfiType)\n    );\n    if (!cfiLevel) {\n      throw new Error('Unsupported cfolioType');\n    }\n\n    let cfihContract, balances;\n    if (cfiLevel.type === 'lpInvestment') {\n      cfihContract = this.cfihLpContract;\n      balances = ['WETH/WOWS LP'];\n    } else {\n      cfihContract = this.cfihScContract;\n      balances = this.getStableCurrencies();\n    }\n\n    if (!cfihContract || !this.ethersSigner) {\n      throw new Error('Contract not initialized');\n    }\n\n    const approvalContracts: (ethers.Contract | undefined)[] = [];\n    let oneSet = false;\n    let oneStableSet = false;\n\n    for (const index in investAmount) {\n      if (investAmount[index] > 0) {\n        const balance = this.assets.balances[balances[index]];\n        if (!balance.address) throw new Error('ERC20 address missing');\n        const approvalContract = new ethers.Contract(\n          balance.address,\n          ERC20Abi,\n          this.ethersSigner\n        );\n        let investWeiAmount = this.toWei(investAmount[index], balance.decimals);\n\n        const walletAmount = await approvalContract.balanceOf(this.address);\n        if (investWeiAmount.gt(walletAmount)) {\n          if (investWeiAmount.sub(walletAmount).lt(balance.dust)) {\n            investWeiAmount = walletAmount;\n          } else {\n            throw new Error('Insufficient LP balances');\n          }\n        } else if (walletAmount.sub(investWeiAmount).lt(balance.dust)) {\n          // Try to invest dust, too\n          investWeiAmount = walletAmount;\n        }\n        investWeiAmounts.push(investWeiAmount);\n        approvalContracts.push(approvalContract);\n\n        if (\n          cfihContract === this.cfihScContract &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n        oneSet = true;\n      } else {\n        investWeiAmounts.push(ethers.BigNumber.from(0));\n        approvalContracts.push(undefined);\n      }\n    }\n\n    if (requireOneSet && !oneSet) throw new Error('ERC20 address missing');\n    if (!oneSet) investWeiAmounts.length = 0;\n\n    for (const index in investWeiAmounts) {\n      if (approvalContracts[index] !== undefined) {\n        const allowance = await approvalContracts[index]?.allowance(\n          this.address,\n          cfihContract?.address\n        );\n        if (allowance.lt(investWeiAmounts[index])) {\n          // USDT doesn't allow increase of existing allowance\n          if (balances[index] === 'USDT' && !allowance.eq(0)) {\n            throw new Error(\n              \"Revoke USDT allowance in 'Manage Approval' required!\"\n            );\n          }\n          const tx = await approvalContracts[index]?.approve(\n            cfihContract?.address,\n            this._checkUnlimited(\n              balances[parseInt(index)],\n              investWeiAmounts[index]\n            )\n          );\n          emitter.emit(msgType, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n    }\n    return { additionalGas: oneStableSet ? 400000 : 0, cfihContract };\n  };\n\n  _doCFolioItemWithdraw = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      if (!this.sftHolderContractRO) {\n        throw new Error('Contract not initialized');\n      }\n\n      // get cFolioAddress from cFolioTokenId\n      const cfa = await this.sftHolderContractRO.tokenIdToAddress(\n        cfolioTokenId.mask(128)\n      );\n      if (cfa === Store.nullAddress) {\n        throw new Error('Cannot get cfolio address');\n      }\n\n      const cfiLevel = this.assets.cfolioItems.find((cf) =>\n        cf.cards.find((cfc) => cfc.chainRef === cfolioType)\n      );\n      if (!cfiLevel) {\n        throw new Error('Unsupported cfolioType');\n      }\n\n      let cfihContract, balances;\n      if (cfiLevel.type === 'lpInvestment') {\n        cfihContract = this.cfihLpContract;\n        balances = ['WETH/WOWS LP'];\n      } else {\n        cfihContract = this.cfihScContract;\n        balances = this.getStableCurrencies();\n      }\n\n      if (!cfihContract || !this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (investAmount.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const cfolioAmounts: ethers.BigNumber[] = await cfihContract.getAmounts(\n        cfa\n      );\n\n      if (cfolioAmounts.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const withdrawWeiAmounts: ethers.BigNumber[] = [];\n      let oneStableSet = false;\n      for (const index in investAmount) {\n        const balance = this.assets.balances[balances[index]];\n        let withdrawWeiAmount = this.toWei(\n          investAmount[index],\n          balance.decimals\n        );\n        if (withdrawWeiAmount.gt(cfolioAmounts[index])) {\n          if (withdrawWeiAmount.sub(cfolioAmounts[index]).lt(balance.dust)) {\n            withdrawWeiAmount = cfolioAmounts[index];\n          } else {\n            throw new Error('Insufficient LP balances');\n          }\n        } else if (\n          cfolioAmounts[index].sub(withdrawWeiAmount).lt(balance.dust)\n        ) {\n          // Try to invest dust, too\n          withdrawWeiAmount = cfolioAmounts[index];\n        }\n        if (\n          cfihContract === this.cfihScContract &&\n          withdrawWeiAmount.gt(0) &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n\n        withdrawWeiAmounts.push(withdrawWeiAmount);\n      }\n\n      let options = {};\n      if (oneStableSet) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.withdraw(\n            sftTokenId,\n            cfolioTokenId,\n            withdrawWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + 400000 };\n      }\n\n      const tx = await cfihContract.withdraw(\n        sftTokenId,\n        cfolioTokenId,\n        withdrawWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx?.wait();\n\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'success',\n        tx: receipt.transactionHash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doCFolioItemUnlockAndTransfer = async (\n    payloadContent: PayloadContentCFolioItemLT\n  ) => {\n    const { src, dst, lockedCFIs, transferCFIs } = payloadContent;\n\n    try {\n      if (\n        !this.sftHolderContractRO ||\n        !this.tradeFloorContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n      if (src === dst) {\n        throw new Error('Ooups! src === dest');\n      }\n\n      // get destination address\n      let dstAddress = this.address;\n      if (dst !== BIGNUMBER_MAX) {\n        dstAddress = this.sftHolderContractRO.tokenIdToAddress(dst);\n        if (dstAddress === Store.nullAddress) {\n          throw new Error('Cannot get cfolio address');\n        }\n      }\n\n      this.eventsSuspended = true;\n\n      if (lockedCFIs.length > 0) {\n        if (src !== BIGNUMBER_MAX) {\n          throw new Error('Unlock only from Wallet');\n        }\n        const tradeFloorContract = this.tradeFloorContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await tradeFloorContract.burnBatch(\n          this.address,\n          lockedCFIs,\n          new Array(lockedCFIs.length).fill(1)\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx?.wait();\n\n        // CFIs are now in users wallet -> push them to cfiBridge\n        transferCFIs.push(...lockedCFIs.map((id) => id.mask(128)));\n      }\n      if (transferCFIs.length > 0) {\n        // CFI's has to be in TF contract!\n        let srcAddress = this.address;\n        if (src !== BIGNUMBER_MAX) {\n          srcAddress = this.sftHolderContractRO.tokenIdToAddress(src);\n          if (srcAddress === Store.nullAddress) {\n            throw new Error('Cannot get cfolio address');\n          }\n        }\n        const sftHolderContract = this.sftHolderContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await sftHolderContract.safeBatchTransferFrom(\n          srcAddress,\n          dstAddress,\n          transferCFIs,\n          new Array(transferCFIs.length).fill(1),\n          []\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx.hash,\n        } as StatusResult);\n\n        await tx.wait();\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'success',\n          tx: tx.hash,\n        } as StatusResult);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftClaim = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftMintContractRO || !this.ethersSigner) {\n        throw new Error('Invalid contract state');\n      }\n\n      const mintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const tx: ethers.ContractTransaction = await mintContract.claimSFTRewards(\n        payloadContent.id,\n        payloadContent.time ?? 0\n      );\n      emitter.emit(SFT_CLAIM, {\n        status: 'tx',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_CLAIM, {\n        status: 'success',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM, {\n        status: 'error',\n        type: SFT_CLAIM,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftClaimBooster = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.boosterContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.boosterContract.claimRewards(\n          payloadContent.id,\n          payloadContent.time\n        );\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftUpgrade = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftEvaluatorContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.sftEvaluatorContract.setRewardRate(payloadContent.id, true);\n      emitter.emit(SFT_UPGRADE, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n\n      this._setRewardRate(receipt);\n\n      emitter.emit(SFT_UPGRADE, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UPGRADE, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doRevokeApproval = async (payloadContent: PayloadContent) => {\n    const currency = payloadContent.filter ? payloadContent.filter[0] : '';\n    const balance = this.assets.balances[currency];\n    try {\n      if (!this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (!balance) {\n        throw new Error('Invalid input currency');\n      }\n\n      const approvalContract = new ethers.Contract(\n        balance.address ?? '',\n        ERC20Abi,\n        this.ethersSigner\n      );\n\n      const tx = await approvalContract.approve(balance.handlerAddress, 0);\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'tx',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'success',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['allowance'] },\n      } as Payload);\n    } catch (e) {\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'error',\n        type: currency,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  /******************** Misc *********************/\n\n  fromWei(n: ethers.BigNumber, decimals = 18) {\n    return parseFloat(ethers.utils.formatUnits(n, decimals));\n  }\n\n  toWei(n: number, decimals = 18) {\n    const parsed = typeof n === 'number' ? n.toFixed(decimals) : n;\n    return ethers.utils.parseUnits(parsed, decimals);\n  }\n\n  _checkUnlimited(currency: string, defaultReturn: ethers.BigNumber) {\n    const index = Object.keys(this.assets.balances).findIndex(\n      (b) => b === currency\n    );\n    if (index >= 0) {\n      const mask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n      if (mask & (1 << index)) return BIGNUMBER_MAX;\n    }\n    return defaultReturn;\n  }\n}\n\nconst StoreClasses = {\n  store: new Store(),\n  emitter: emitter,\n  dispatcher: dispatcher,\n};\n\nexport class StoreContainer extends React.Component<unknown> {\n  componentDidMount(): void {\n    window.addEventListener('load', async () => {\n      StoreClasses.store.mount();\n    });\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.store.unmount();\n  }\n\n  render(): React.ReactNode {\n    return <>{this.props.children}</>;\n  }\n}\n\nexport { StoreClasses };\n","export default \"data:image/png;base64,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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n// Events (used in dispatcher and emitter)\nexport const ASSETS_STATE = 'ASSETS_STATE';\nexport const REVOKE_APPROVAL = 'REVOKE_APPROVAL';\n\nexport const ADDRESS_COPIED = 'ADDRESS_COPIED';\nexport const CONNECTION_CHANGED = 'CONNECTION_CHANGED';\nexport const NEW_BLOCK = 'NEW_BLOCK'; // Block ticker\n\nexport const STAKE_ADD = 'STAKE_ADD'; // stake LP tokens\nexport const STAKE_CLAIM = 'STAKE_CLAIM'; // claim stake rewards\nexport const STAKE_EXIT = 'STAKE_EXIT'; // unstake and claim rewards\nexport const STAKE_STATE = 'STAKE_STATE'; // request Stake information\nexport const STAKE_LP_AVAILABLE = 'STAKE_LP_AVAILABLE'; // Available LP token\n\nexport const SFT_BUY = 'SFT_BUY'; // Buy (mint) an SFT with given level / class\nexport const SFT_CLAIM = 'SFT_CLAIM'; // Claim all SFT rewards\nexport const SFT_CLAIM_BOOSTER = 'SFT_CLAIM_BOOSTER'; // Claim all SFT rewards from booster\nexport const SFT_LOCK = 'SFT_LOCK'; // Transfer SFT to TradingFloor contract\nexport const SFT_PROOF = 'SFT_PROOF'; // Fire the Polygon Burn Proof\nexport const SFT_REWARD = 'SFT_REWARD'; // REQUEST REWARD INFO\nexport const SFT_TRANSFER = 'SFT_TRANSFER'; // Transfer / bridge\nexport const SFT_UNLOCK = 'SFT_UNLOCK'; // Burn NFT, transfer SFT back\nexport const SFT_UPGRADE = 'SFT_UPGRADE'; // Upgrade Reward Share\n\nexport const CFOLIO_ITEM_BUY = 'CFOLIO_ITEM_BUY'; // Buy (mint) cfolioItem\nexport const CFOLIO_ITEM_DEPOSIT = 'CFOLIO_ITEM_DEPOSIT'; // Add investment into existing CFI\nexport const CFOLIO_ITEM_WITHDRAW = 'CFOLIO_ITEM_WITHDRAW_LP'; // Remove LP token from existing CFI\nexport const CFOLIO_ITEM_UNLOCK_TRANSFER = 'CFOLIO_ITEM_UNLOCK_TRANSFER'; // UnlockBurn / transfer CFIs\n","export default __webpack_public_path__ + \"static/media/coinbase-wallet.9fa41556.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './image_slider.css';\n\nimport { ethers } from 'ethers';\nimport { Fragment, RefObject, useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport interface IMAGE_SLIDER_CFOLIO {\n  name: string;\n  tokenId: ethers.BigNumber;\n  disabled: boolean;\n}\n\nexport interface IMAGE_SLIDER_SLIDE {\n  url: string;\n  cfolioItems: IMAGE_SLIDER_CFOLIO[];\n  tokenId?: ethers.BigNumber;\n  locked?: boolean;\n}\n\nexport type IMAGE_SLIDER_INTERFACE = {\n  prev: () => void;\n  next: () => void;\n  go: (index: number) => void;\n};\n\ntype PROPS = {\n  sliderId?: string;\n  initCallback: (id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) => void;\n  onSlideChanged?: (\n    slideId: string | undefined,\n    index: number,\n    checked: number[]\n  ) => void;\n  slideWidth: number;\n  slides: IMAGE_SLIDER_SLIDE[];\n  startSlideId?: number;\n  checkbox?: boolean;\n  toolTippLink?: string;\n};\n\nconst ImageSlider = ({\n  sliderId,\n  initCallback,\n  onSlideChanged,\n  slideWidth,\n  slides,\n  startSlideId,\n  checkbox,\n  toolTippLink,\n}: PROPS): JSX.Element => {\n  const containerRef: RefObject<HTMLDivElement> = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [checked, setChecked] = useState([] as number[]);\n  const [displayIndex, setDisplayIndex] = useState(-1);\n  const [left, setLeft] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [useTransition, enableTransition] = useState(false);\n\n  const prev = () => {\n    if (currentIndex === 0) {\n      return setCurrentIndex(slides.length - 1);\n    }\n    slides.length > 0 && setCurrentIndex(currentIndex - 1);\n  };\n\n  const next = () => {\n    if (currentIndex + 1 === slides.length) {\n      return setCurrentIndex(0);\n    }\n    slides.length > currentIndex + 1 && setCurrentIndex(currentIndex + 1);\n  };\n\n  const go = (index: number) =>\n    index >= 0 && index < slides.length && setCurrentIndex(index);\n\n  const select = (index: number) => {\n    if (index >= 0 && index < slides.length) {\n      const newChecked = checked.filter((e) => e !== index);\n      if (newChecked.length === checked.length) newChecked.push(index);\n      setChecked(newChecked);\n    }\n  };\n\n  initCallback(sliderId, { prev, next, go });\n\n  useEffect(() => {\n    if (onSlideChanged) {\n      onSlideChanged(sliderId, currentIndex, checked);\n    }\n  }, [currentIndex, onSlideChanged, checked, sliderId]);\n\n  useEffect(() => {\n    setLeft((width - slideWidth) / 2 - currentIndex * slideWidth);\n    if (!checkbox && currentIndex !== displayIndex) {\n      setDisplayIndex(-1);\n      setTimeout(() => setDisplayIndex(currentIndex), 250);\n    }\n  }, [currentIndex, displayIndex, slideWidth, width, checkbox]);\n\n  useEffect(() => {\n    enableTransition(false);\n    setTimeout(() => enableTransition(true), 500);\n  }, [slides]);\n\n  useEffect(() => {\n    if (startSlideId === undefined) {\n      setChecked([]);\n      setDisplayIndex(-1);\n      setCurrentIndex(0);\n    } else setCurrentIndex(startSlideId);\n  }, [slides, startSlideId]);\n\n  useEffect(() => {\n    if (containerRef.current) setWidth(containerRef.current.clientWidth);\n\n    const resizeListener = () => {\n      if (containerRef.current) setWidth(containerRef.current.clientWidth);\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"image_slide_container tk-aktiv-grotesk-condensed\"\n      ref={containerRef}\n    >\n      <div\n        className={`image_slide_track ${useTransition && 'trans'}`}\n        style={{ left: left + 'px' }}\n      >\n        {slides.map((elem, index) => {\n          return (\n            <Fragment key={'si_' + index}>\n              <div className=\"d-flex flex-column justify-content-center text-center p-0 m-0 p_relative\">\n                <div\n                  className={\n                    'image_slide' +\n                    (checked.indexOf(index) >= 0\n                      ? ' active c-pointer'\n                      : index === displayIndex\n                      ? ' active c-default'\n                      : ' c-pointer')\n                  }\n                  style={{\n                    width: slideWidth + 'px',\n                    // ['--url' as string]: `url(${elem.url}`,\n                  }}\n                  onClick={() => (checkbox ? select(index) : go(index))}\n                >\n                  {elem.cfolioItems.length > 0 && (\n                    <>\n                      <div className={'slide_count'}>\n                        {elem.cfolioItems.length}\n                      </div>\n                      <div className=\"slide_tooltip_wrapper\">\n                        <div className=\"slide_tooltip_content\">\n                          {elem.cfolioItems.map((cfi) =>\n                            !toolTippLink ||\n                            index !== displayIndex ||\n                            cfi.disabled ? (\n                              <p\n                                key={cfi.tokenId.toHexString()}\n                                className={cfi.disabled ? 'disabled' : ''}\n                              >\n                                {cfi.name}\n                              </p>\n                            ) : (\n                              <Link\n                                key={cfi.tokenId.toHexString()}\n                                to={\n                                  toolTippLink +\n                                  '&tokenId=' +\n                                  cfi.tokenId.toHexString()\n                                }\n                              >\n                                {cfi.name}\n                              </Link>\n                            )\n                          )}\n                        </div>\n                      </div>\n                    </>\n                  )}\n                  {elem.locked && <div className={'slide_locked'} />}\n\n                  <img width=\"100%\" height=\"100%\" src={elem.url} alt=\"\" />\n                </div>\n\n                <span className=\"p-0 m-0 font-13 image_slider_tid\">\n                  {elem.tokenId && elem.tokenId.mask(128).toHexString()}\n                </span>\n              </div>\n            </Fragment>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport { ImageSlider };\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Approval.css';\n\nimport { useEffect, useReducer, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { ASSETS_STATE, REVOKE_APPROVAL } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  Payload,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\n\ntype PROPS = {\n  hideCB: () => void;\n  show: boolean;\n  t: TFunction;\n};\n\nfunction Approval({ hideCB, show, t }: PROPS): JSX.Element {\n  const [redraw, setRedraw] = useState(false);\n\n  const reducer = (\n    state: string[],\n    action: { action: number; key: string }\n  ) => {\n    switch (action.action) {\n      case 1:\n        return [...state, action.key];\n      case -1:\n        return state.filter((e) => e !== action.key);\n      default:\n        throw new Error();\n    }\n  };\n\n  const [approving, setApproving] = useReducer(reducer, []);\n\n  let checkMask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n\n  const setCheck = (index: number, checked: boolean) => {\n    checkMask = checked ? checkMask | (1 << index) : checkMask & ~(1 << index);\n    localStorage.setItem('APPROVAL', checkMask.toString());\n  };\n\n  useEffect(() => {\n    const assetState = (result: AssetStateresult) => {\n      if (result.status === 'allowance') setRedraw(true);\n    };\n\n    const handleRevoke = (result: StatusResult) => {\n      if (result.status !== 'tx') {\n        setApproving({ action: -1, key: result.type });\n      }\n    };\n\n    StoreClasses.emitter.on(ASSETS_STATE, assetState);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, handleRevoke);\n    StoreClasses.dispatcher.dispatch({\n      type: ASSETS_STATE,\n      content: { filter: ['allowance'] },\n    } as Payload);\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(REVOKE_APPROVAL, handleRevoke);\n      StoreClasses.emitter.off(ASSETS_STATE, assetState);\n    };\n  }, []);\n\n  const balances = StoreClasses.store.getAssets().balances;\n\n  const revoke = (key: string) => {\n    const payload = {\n      type: REVOKE_APPROVAL,\n      content: {\n        filter: [key],\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setApproving({ action: 1, key: key });\n  };\n\n  if (redraw) setRedraw(false);\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} size=\"lg\">\n      <Modal.Header closeButton>\n        <Modal.Title>Manage Approval</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        In order to allow our smart contracts work with the assets in your\n        wallet, you have to approve it.\n        <br />\n        By default we approve only the exact amount for an asset, which means\n        that you have to pay multiple times in gas if you process multiple\n        operations for the same asset (e.g. investment or NFT purchase)\n        <br />\n        Enabling \"Unlimited\" approval approves our smart contract only once, but\n        it comes with the risk that in case of a software bug or an attack our\n        smart contract is allowed to pull the full available asset amount out of\n        your wallet.\n        <br />\n        Revoke allowances early to make sure that in an extraordinary situation\n        your assets are safe.\n        <span className=\"d-block mt-2\">\n          <b>Hint: </b>MetaMask supports fine control for approval just before\n          you confirm the approve transaction\n        </span>\n        <table className=\"mt-4 w-100 tk-aktiv-grotesk-condensed font-14 text-center\">\n          <thead>\n            <tr>\n              <td>Asset</td>\n              <td>Unlimited</td>\n              <td>Allowance</td>\n              <td>Revoke</td>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.entries(balances).map(([k, v], index) => (\n              <tr key={`AT_${index}`}>\n                <td>{k}</td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    onChange={(e) => setCheck(index, e.target.checked)}\n                    defaultChecked={(checkMask & (1 << index)) !== 0}\n                  />\n                </td>\n                <td>\n                  {v.allowance < 0 ? 'UNLIMITED' : v.allowance.toFixed(2)}\n                </td>\n                <td>\n                  <button\n                    className={'wolves-btn font-16 white-border'}\n                    disabled={approving.includes(k) || v.allowance === 0}\n                    onClick={() => revoke(k)}\n                  >\n                    REVOKE\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Approval);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './asset_input.css';\n\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\ntype PROPS = {\n  currency: string;\n  defaultValue?: string;\n  minAmount: number;\n  maxAmount: number;\n  cb?: (n: number) => void;\n};\n\nfunction AssetInput({\n  cb,\n  currency,\n  defaultValue,\n  maxAmount,\n  minAmount,\n}: PROPS): JSX.Element {\n  const [hasFocus, setHasFocus] = useState(false);\n  const [amountChanged, setAmountChanged] = useState(false);\n  const inputRef: React.RefObject<HTMLInputElement> = useRef(null);\n\n  const handleOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.target.value = event.target.value\n      .replace(/[^0-9,.]/gi, '')\n      .replace(',', '.');\n    verifyAndCb();\n  };\n\n  const setMax = () => {\n    if (inputRef.current) inputRef.current.value = maxAmount.toString();\n    setAmountChanged(true);\n  };\n\n  const verifyAndCb = useCallback(() => {\n    if (cb && inputRef.current) {\n      const num =\n        minAmount === 0 && inputRef.current.value === ''\n          ? 0\n          : parseFloat(inputRef.current.value);\n      cb(num < minAmount || num > maxAmount ? NaN : num);\n    }\n  }, [cb, minAmount, maxAmount]);\n\n  useEffect(() => {\n    if (inputRef.current && !hasFocus) {\n      inputRef.current.value = defaultValue ?? '';\n      setAmountChanged(true);\n    }\n  }, [hasFocus, maxAmount, defaultValue]);\n\n  useEffect(() => {\n    if (defaultValue && inputRef.current) {\n      if (minAmount === 0 && parseFloat(defaultValue) === 0)\n        inputRef.current.value = '';\n      else inputRef.current.value = defaultValue;\n      setAmountChanged(true);\n    }\n  }, [defaultValue, minAmount]);\n\n  useEffect(() => {\n    if (amountChanged) {\n      setAmountChanged(false);\n      verifyAndCb();\n    }\n  }, [amountChanged, verifyAndCb]);\n\n  const maxVisible = inputRef.current\n    ? !hasFocus && inputRef.current.value === ''\n    : true;\n\n  return (\n    <div className=\"asset-input-container opaque\">\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        className=\"asset-input\"\n        onFocus={() => setHasFocus(true)}\n        onBlur={() => setHasFocus(false)}\n        onChange={handleOnChange}\n        ref={inputRef}\n      />\n      <div\n        className=\"asset-input-max\"\n        onClick={() => setMax()}\n        hidden={!maxVisible}\n      >\n        max\n      </div>\n      <div className=\"asset-input-currency\">{currency}</div>\n    </div>\n  );\n}\n\nexport default AssetInput;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Stable.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n} from '../../../stores/constants';\nimport {\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n} from '../../../stores/store';\nimport Approval from '../../Approval/Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction Stable({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [currencyIndex, setCurrencyIndex] = useState(0);\n  const [checkedIndex, setCheckedIndex] = useState(-1);\n  const [inputVals, setInputVals] = useState([0, 0, 0, 0, 0]);\n  const [txRunning, setTXRunning] = useState(false);\n  const [balances] = useState(StoreClasses.store.getAssets().balances);\n  const [modal, showModal] = useState(false);\n\n  const currencies = StoreClasses.store.getStableCurrencies();\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: inputVals.slice(0, currencies.length),\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    currencies.length === 0\n      ? 0\n      : tabOption === 0\n      ? balances[currencies[currencyIndex]].value\n      : (cfolioItem && cfolioItem.assets[currencyIndex]) ?? 0;\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  useEffect(() => {\n    if (tabOption) {\n      setCurrencyIndex(currencies.length - 1);\n      setCheckedIndex(0);\n    } else setCheckedIndex(-1);\n    setInputVals([0, 0, 0, 0, 0]);\n  }, [currencies, tabOption]);\n\n  useEffect(() => {\n    if (tabOption === 1) {\n      const newValues = Array.from({ length: currencies.length }, (v) => 0);\n      newValues[currencies.length - 1] = inputVals[currencies.length - 1];\n      if (checkedIndex >= 0 && curMaxAmount > 0) {\n        newValues[checkedIndex] = isNaN(inputVals[currencies.length - 1])\n          ? NaN\n          : (((cfolioItem && cfolioItem.assets[checkedIndex]) ?? 0) *\n              inputVals[currencies.length - 1]) /\n            curMaxAmount;\n      }\n      if (newValues.find((v, index) => v !== inputVals[index]) !== undefined) {\n        setInputVals(newValues);\n      }\n    }\n  }, [\n    checkedIndex,\n    currencies,\n    tabOption,\n    inputVals,\n    cfolioItem,\n    curMaxAmount,\n  ]);\n\n  const validCurrencies = () => {\n    if (tabOption === 1)\n      return isNaN(inputVals[currencies.length - 1])\n        ? undefined\n        : inputVals[currencies.length - 1] <= 0\n        ? []\n        : [currencies[currencies.length - 1]];\n    else if (inputVals.find((v) => isNaN(v)) !== undefined) return undefined;\n    else return currencies.filter((_, index) => inputVals[index] > 0);\n  };\n\n  const setCurrentValue = (v: number) => {\n    const newValues = inputVals.map((i) => i);\n    newValues[currencyIndex] = v;\n    setInputVals(newValues);\n  };\n\n  let vc: string[] | undefined;\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? (vc = validCurrencies()) === undefined\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : vc.length === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? {\n          l:\n            `WITHDRAW ${investCurrency}` +\n            (checkedIndex >= 0\n              ? ` AND RECEIVE ${currencies[checkedIndex]}`\n              : ''),\n          e: true,\n        }\n      : cfolioItem\n      ? { l: `DEPOSIT ${vc.join(' + ')}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (vc.length > 0 ? ` & DEPOSIT ${vc.join(' + ')}` : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'DEPOSIT MORE'\n    : sft?.isWallet\n    ? 'BUY \"STABLE I-NFT\" INTO MY WALLET'\n    : 'BUY \"STABLE I-NFT\" INTO MY C-FOLIO';\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'WITHDRAW')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {currencies[currencyIndex]}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      {/* Orange Horizontal Bar */}\n      <AssetInput\n        currency={currencies[currencyIndex]}\n        defaultValue={\n          isNaN(inputVals[currencyIndex]) || inputVals[currencyIndex] === 0\n            ? ''\n            : inputVals[currencyIndex].toString()\n        }\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        cb={(n) => setCurrentValue(n)}\n      />\n      <div id=\"currency-container\" className=\"tk-grotesk-lightbold mt-3\">\n        {currencies.map((currency, index) => (\n          <div\n            style={{ flexBasis: 100 / currencies.length - 1 + '%' }}\n            key={'cidx_' + index}\n            className={\n              index === currencyIndex\n                ? 'selected'\n                : index === checkedIndex\n                ? 'checked'\n                : ''\n            }\n            onClick={\n              index === currencyIndex\n                ? undefined\n                : tabOption === 1\n                ? () => setCheckedIndex(index === checkedIndex ? -1 : index)\n                : () => setCurrencyIndex(index)\n            }\n          >\n            {currency}\n            <br />\n            {isNaN(inputVals[index]) ? 'INVALID' : inputVals[index].toFixed(2)}\n          </div>\n        ))}\n      </div>\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(Stable);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './StakeLP.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n  STAKE_LP_AVAILABLE,\n} from '../../../stores/constants';\nimport {\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n  TokenContractResult,\n} from '../../../stores/store';\nimport Approval from '../../Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction StakeLP({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [investAmount, setInvestAmount] = useState(0);\n  const [hasSft, setHasSft] = useState(false);\n  const [inputVal, setInputVal] = useState(0);\n  const [txRunning, setTXRunning] = useState(false);\n  const [modal, showModal] = useState(false);\n\n  if ((sft === undefined) === hasSft) {\n    if (hasSft) setInvestAmount(0);\n    else {\n      StoreClasses.dispatcher.dispatch({\n        type: STAKE_LP_AVAILABLE,\n        content: {},\n      });\n    }\n    setHasSft(sft !== undefined);\n  }\n\n  useEffect(() => {\n    const onLpAvailable = (params: TokenContractResult) => {\n      const newInvestAmount =\n        params.error === undefined && params.tokenAmount !== undefined\n          ? params.tokenAmount\n          : 0;\n      setInvestAmount(newInvestAmount);\n    };\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(STAKE_LP_AVAILABLE, onLpAvailable);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n      StoreClasses.emitter.off(STAKE_LP_AVAILABLE, onLpAvailable);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'STAKE MORE'\n    : sft?.isWallet\n    ? 'ADD \"STAKE I-NFT\" INTO MY WALLET'\n    : 'ADD \"STAKE I-NFT\" INTO MY C-FOLIO';\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: [inputVal],\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    tabOption === 0 ? investAmount : (cfolioItem && cfolioItem.assets[0]) ?? 0;\n\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? isNaN(inputVal)\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : inputVal === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? { l: `UNSTAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : cfolioItem\n      ? { l: `STAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (inputVal > 0\n              ? ` & STAKE ${inputVal.toFixed(2)} ${investCurrency}`\n              : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'UNSTAKE')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {investCurrency}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      <AssetInput\n        currency={investCurrency}\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        defaultValue={\n          isNaN(inputVal) || inputVal === 0 ? '' : inputVal.toString()\n        }\n        cb={(n) => setInputVal(n)}\n      />\n      <span className=\"d-block left mt-1 font-14\">\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={\n            'https://app.uniswap.org/#/add/v2/ETH/' +\n            StoreClasses.store._getTokenContractAddress()\n          }\n        >\n          <u>GET UNI-V2 WOWS/ETH LP TOKENS HERE</u>\n        </a>\n      </span>\n\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(StakeLP);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './CFolioInvest.css';\n\nimport { ethers } from 'ethers';\nimport React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\n//import CoverLogo from '../../assets/COVER_LOGO_SMALL.png';\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport { ASSETS_STATE } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEMS } from '../types/cards';\nimport Stable from './Stable/Stable';\nimport StakeLP from './StakeLP/StakeLP';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype CFI_RENDER = {\n  cfolioItem?: SFTCHILD;\n  index: number;\n};\n\ntype STATE = {\n  cfiRender: CFI_RENDER[];\n  currentImage: number;\n  modalOpen: boolean;\n};\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\n// CFolio Investment\n\nclass CFolioInvest extends React.Component<PROPS, STATE> {\n  receiverImages: IMAGE[] = [];\n  cards?: CARDS;\n  cfolioItems?: CFOLIO_ITEMS;\n  sliderInterface?: IMAGE_SLIDER_INTERFACE;\n  slideIndex = 0;\n  displayType = '';\n  toolTippLink = '';\n  continueBuy: (() => void) | undefined;\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      cfiRender: [],\n      currentImage: 0,\n      modalOpen: false,\n    };\n    this._onAssetsState = this._onAssetsState.bind(this);\n    this.sliderCB = this.sliderCB.bind(this);\n\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n    this.displayType = query.get('type') || 'lpInvestment';\n    this.toolTippLink = '?type=' + this.displayType;\n  }\n\n  setCurrentImage(val: number) {\n    const { cfiRender } = this.state;\n    const { history } = this.props;\n    if (cfiRender[val].cfolioItem) {\n      history.push(\n        `?type=${this.displayType}&tokenId=${cfiRender[\n          val\n        ].cfolioItem?.tokenId.toHexString()}`\n      );\n    } else {\n      history.push(`?type=${this.displayType}&item=${cfiRender[val].index}`);\n    }\n  }\n\n  componentDidUpdate() {\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n    const newDisplayType = query.get('type') || 'lpInvestment';\n\n    if (newDisplayType !== this.displayType) {\n      this.displayType = newDisplayType;\n      this.slideIndex = 0;\n      this.sliderInterface?.go(0);\n      this.toolTippLink = '?type=' + this.displayType;\n      this.setState({ currentImage: 0 });\n      this._updateImages();\n    }\n\n    let index: number | undefined;\n    if (query.get('tokenId')) {\n      const newTokenId = ethers.BigNumber.from(query.get('tokenId'));\n      index = this.state.cfiRender.findIndex(\n        (elem) => elem.cfolioItem && elem.cfolioItem.tokenId.eq(newTokenId)\n      );\n    } else if (query.get('item')) {\n      const item = parseInt(query.get('item') || '-1');\n      index = this.state.cfiRender.findIndex(\n        (elem) => !elem.cfolioItem && elem.index === item\n      );\n    }\n\n    if (index !== undefined) {\n      if (index >= 0) {\n        if (index !== this.state.currentImage) {\n          this.setState({ currentImage: index });\n        }\n      } else if (this.receiverImages.length > 0) {\n        query.delete('tokenId');\n        query.delete('item');\n        history.replace('?' + query.toString());\n        this.setState({ currentImage: 0 });\n        return;\n      }\n    }\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this._onAssetsState);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this._onAssetsState);\n  }\n\n  _onAssetsState(result: AssetStateresult) {\n    if (['loaded', 'cards', 'tokens'].includes(result.status)) {\n      this._updateImages();\n    } else if (result.status === 'cfolio_amount') {\n      this.setState({ currentImage: this.state.currentImage });\n    }\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    const cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const newImages: IMAGE[] = [];\n    const allowedLevel =\n      this.displayType === 'lpInvestment' ? 0xff000000f0 : 0xff0000000f;\n\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (\n        sft.isStockCard &&\n        sft.status === SFTS.UNLOCKED &&\n        (allowedLevel & (1 << cards.cards[sft.levelId].chainRef)) !== 0\n      ) {\n        const url =\n          cards.cards[sft.levelId].cards[sft.cardId].url\n            .replace('{res}', '300')\n            .replace('.mp4', '.mp4.jpg') || '';\n        newImages.push({\n          url,\n          tokenId: sft.tokenId,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      } else if (sft.isWallet) {\n        newImages.push({\n          url: WalletLogo,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      }\n    });\n\n    this.receiverImages = newImages;\n    this.cards = cards;\n    this._updateCFolioItems();\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled:\n          (sft.isWallet && cfi.status > 0) ||\n          cfolioItems[cfi.levelId].type !== this.displayType,\n      });\n    });\n    return result;\n  }\n\n  _updateCFolioItems() {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const cfiRender: CFI_RENDER[] = [];\n\n    if (cfolioItems.length > 0) {\n      this.cfolioItems = cfolioItems.filter(\n        (elem) => elem.type === this.displayType\n      )[0];\n\n      if (this.cfolioItems) {\n        // Get all cFolioItems from selected card.\n        if (\n          this.slideIndex >= 0 &&\n          this.slideIndex < this.receiverImages.length\n        ) {\n          const isWallet = this.receiverImages[this.slideIndex].sft.isWallet;\n          this.receiverImages[this.slideIndex].sft.cfolioItems.forEach(\n            (cfolioItem) => {\n              if (\n                cfolioItems[cfolioItem.levelId].type === this.displayType &&\n                (!isWallet || cfolioItem.status === 0)\n              )\n                cfiRender.push({ cfolioItem, index: cfolioItem.cardId });\n            }\n          );\n        }\n        // Get all New cards\n        cfiRender.push(\n          ...this.cfolioItems.cards.map((_, index) => {\n            return { index };\n          })\n        );\n      }\n    }\n    this.setState({ cfiRender });\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterface = iface;\n  }\n\n  sliderCB(_: string | undefined, index: number) {\n    if (index !== this.slideIndex) {\n      this.slideIndex = index;\n      this._updateCFolioItems();\n    }\n  }\n\n  beforeBuyCallback = (cb: () => void) => {\n    const { cfiRender, currentImage, modalOpen } = this.state;\n    if (\n      !modalOpen &&\n      cfiRender.length > 1 &&\n      this.slideIndex === 0 &&\n      currentImage < cfiRender.length\n    ) {\n      const currentRender = cfiRender[currentImage];\n      if (!currentRender.cfolioItem) {\n        this.continueBuy = cb;\n        this.setState({ modalOpen: true });\n        return false;\n      } else {\n        return true;\n      }\n    } else return true;\n  };\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const { cfiRender, modalOpen } = this.state;\n\n    const handleImageChange = (change: number) => {\n      if (cfiRender.length > 1) {\n        if (this.state.currentImage + change < 0) {\n          return this.setCurrentImage(cfiRender.length - 1);\n        }\n\n        if (this.state.currentImage + change >= cfiRender.length) {\n          return this.setCurrentImage(0);\n        }\n\n        return this.setCurrentImage(this.state.currentImage + change);\n      }\n    };\n\n    const renderItem =\n      this.state.currentImage < cfiRender.length &&\n      cfiRender[this.state.currentImage];\n    const renderCFolioItem = renderItem && renderItem.cfolioItem;\n    const cfolioItemCard =\n      this.cfolioItems &&\n      renderItem &&\n      this.cfolioItems.cards[renderItem.index];\n    const scroll = cfiRender.length > 1;\n\n    const controlAttr = {\n      nftPrice: cfolioItemCard ? cfolioItemCard.price : 0,\n      nftType: cfolioItemCard ? cfolioItemCard.chainRef : 0,\n      investCurrency: this.cfolioItems?.token ?? '',\n      cfolioItem: renderCFolioItem || undefined,\n      sft:\n        this.slideIndex < this.receiverImages.length\n          ? this.receiverImages[this.slideIndex].sft\n          : undefined,\n      beforeBuy: this.beforeBuyCallback,\n    };\n\n    const hideCB = () => {\n      this.setState({ modalOpen: false });\n    };\n\n    const continueBuy = () => {\n      this.setState({ modalOpen: false });\n      if (this.continueBuy) this.continueBuy();\n    };\n\n    return (\n      <>\n        <>\n          <div\n            className={\n              'flex-column justify-content-center bg-flat2 text-white text-center '\n            }\n          >\n            {/* Title & heading */}\n            <div>\n              <h2 className=\"mt-4 tk-vincente-lightbold font-28 single-line\">\n                {this.cfolioItems?.shortDescription}\n              </h2>\n              <h3 className=\"tk-grotesk-lightbold font-14\">\n                PICK YOUR HIGHEST LEVEL C-FOLIO TO INVEST WITH\n              </h3>\n            </div>\n\n            {/* Card slider */}\n            <div\n              className={\n                'd-flex justify-content-center bg-transparent-orange mb-3 '\n              }\n            >\n              <div className=\"vw-90-safe py-3  border_thin_t border_thin_b p_relative center_triangle_up center_triangle_down min-height-190\">\n                <button\n                  onClick={() => this.sliderInterface?.prev()}\n                  className={'slide__arrow slide__arrow--left slide__arrows'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  onSlideChanged={this.sliderCB}\n                  slideWidth={150}\n                  slides={this.receiverImages}\n                  startSlideId={this.slideIndex}\n                  toolTippLink={this.toolTippLink}\n                />\n                <button\n                  onClick={() => this.sliderInterface?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            <div\n              id=\"cfolioInvest-nav\"\n              className=\"tk-vincente-lightbold font-20 single-line\"\n            >\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                }`}\n                onClick={() => handleImageChange(-1)}\n              >\n                &lt;{t('page.previousCard')}\n              </span>\n\n              <Link\n                to={`/cfolio-sfts?type=${this.displayType}`}\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line c-pointer `}\n              >\n                BACK TO I-NFTs\n              </Link>\n\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                } `}\n                onClick={() => handleImageChange(1)}\n              >\n                {t('page.nextCard')}&gt;\n              </span>\n            </div>\n\n            {/* Content */}\n            <div\n              className={\n                'cfolioInvest-container wolves-header center-container my-3'\n              }\n            >\n              <div className=\"left d-flex flex-column align-items-center justify-content-even\">\n                {cfolioItemCard && (\n                  <img\n                    className=\"card-visual\"\n                    src={cfolioItemCard.url.replace('{res}', '500')}\n                    alt=\"\"\n                    style={{ width: '100%' }}\n                  />\n                )}\n              </div>\n\n              <div className={'right t-left'}>\n                <div>\n                  <h1\n                    className={\n                      'tk-vincente no-margin' +\n                      (renderCFolioItem ? ' wolves-text-shaddow' : '')\n                    }\n                  >\n                    {' '}\n                    {cfolioItemCard ? cfolioItemCard.name : 'NFT'}{' '}\n                    {renderCFolioItem ? ' - MY NFT' : ' - NEW NFT'}\n                  </h1>\n                  {cfolioItemCard && (\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}: {cfolioItemCard.motto}\n                      </span>\n                    </h3>\n                  )}\n                  <div\n                    className={'tk-grotesk-lightbold font-16 line-break-enable'}\n                  >\n                    <h3 className=\"tk-vincente\">\n                      {renderCFolioItem ? (\n                        <>\n                          TOKEN ID:{' '}\n                          {renderCFolioItem.tokenId.mask(128).toHexString()}\n                          <br />\n                          INVESTMENT:{' '}\n                          {renderCFolioItem.assets[\n                            renderCFolioItem.assets.length - 1\n                          ].toFixed(4)}\n                          {' ' + controlAttr.investCurrency}\n                        </>\n                      ) : (\n                        cfolioItemCard && (\n                          <>\n                            PRICE: {cfolioItemCard.price.toFixed(2)} WOWS\n                            <br />\n                            AVAILABLE:{' '}\n                            {cfolioItemCard.maxMintable - cfolioItemCard.minted}\n                            /{cfolioItemCard.maxMintable}\n                          </>\n                        )\n                      )}\n                    </h3>\n                    <p>{cfolioItemCard && cfolioItemCard.description}</p>\n                    <p>{this.cfolioItems?.description}</p>\n                  </div>\n                </div>\n                <div\n                  id=\"cfolioInvest-control\"\n                  className=\"bg-blue-transparent-light tk-grotesk-lightbold\"\n                >\n                  {this.displayType === 'lpInvestment' ? (\n                    <StakeLP {...controlAttr} />\n                  ) : (\n                    <Stable {...controlAttr} />\n                  )}\n                </div>\n                {/*<div className=\"d-flex p_relative mt-1\">\n                  <img id=\"cover-image\" src={CoverLogo} alt=\"COVER\" />\n                  <span id=\"cover-inner\">\n                    <a\n                      className=\"tk-grotesk-lightbold\"\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      href=\"https://wolvesofwallstreet.finance\"\n                    >\n                      <u>GET COVER INSURANCE FOR YOUR INVESTMENT</u>\n                    </a>\n                  </span>\n                  </div>*/}\n              </div>\n            </div>\n          </div>\n          {modalOpen && (\n            <Modal\n              show={true}\n              backdrop=\"static\"\n              onHide={hideCB}\n              animation={false}\n            >\n              <Modal.Body>\n                Your current target for the new I-NFT is \"My Wallet\". In order\n                to receive WOWS rewards, the new I-NFT has to be in one of your\n                CFolios.\n                <br />\n                If you want to buy the new I-NFT into one of your CFolios,\n                CANCEL this message and select a CFolio on top of the page.\n              </Modal.Body>\n              <Modal.Footer>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={continueBuy}\n                >\n                  CONTINUE\n                </button>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={hideCB}\n                >\n                  CANCEL\n                </button>\n              </Modal.Footer>\n            </Modal>\n          )}\n        </>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioInvest);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nexport type CARD = {\n  id: string;\n  chainRef: number;\n  minted: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: 'image' | 'movie';\n  url: string;\n};\n\nexport type CARD_LEVEL = {\n  levelId: number;\n  chainRef: number;\n  type: string;\n  quantity: number;\n  price: number;\n  autoUpgrade: string;\n  profitReward: number;\n  upgradeReward: number;\n  header: string;\n  cards: CARD[];\n};\n\nexport type CARDS = {\n  levelNames: string[];\n  cards: CARD_LEVEL[];\n};\n\nexport type CFOLIO_ITEM = {\n  id: string;\n  chainRef: number;\n  price: number;\n  minted: number;\n  maxMintable: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: string;\n  url: string;\n};\n\nexport type CFOLIO_ITEMS = {\n  type: string;\n  token: string;\n  title: string;\n  shortDescription: string;\n  description: string;\n  constraints?: 'wolves' | 'bois';\n  cards: CFOLIO_ITEM[];\n};\n\nexport const INITIAL_CFOLIO_ITEMS: CFOLIO_ITEMS = {\n  type: '',\n  token: '',\n  title: '',\n  shortDescription: '',\n  description: '',\n  cards: [],\n};\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './CFolioItemSfts.css';\n\nimport { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport { ASSETS_STATE } from '../../stores/constants';\nimport { AssetStateresult, StoreClasses } from '../../stores/store';\nimport { INITIAL_CFOLIO_ITEMS } from '../types/cards';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  currentType: string;\n};\n\nconst INITIAL_STATE: STATE = {\n  currentType: '',\n};\n\nclass CFolioItemSfts extends Component<PROPS, STATE> {\n  target = '';\n  constructor(props: PROPS) {\n    super(props);\n    this.state = INITIAL_STATE;\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateContent();\n  }\n\n  componentDidUpdate() {\n    this._updateContent();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'cards'].includes(status.status))\n      this.setState({ currentType: this.state.currentType });\n  }\n\n  _updateContent() {\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    const filter = query.get('type') || '';\n    if (filter !== this.state.currentType) {\n      this.target = 'cfolio-invest?type=' + filter;\n      this.setState({ currentType: filter });\n    }\n  }\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const storeItems = StoreClasses.store\n      .getAssets()\n      .cfolioItems.filter((elem) => elem.type === this.state.currentType);\n    const items = storeItems.length > 0 ? storeItems[0] : INITIAL_CFOLIO_ITEMS;\n    const cardRender =\n      items.cards.length &&\n      items.cards.map((card, index) => {\n        return (\n          <div className=\"cfisft-card\" key={this.state.currentType + index}>\n            <Link to={`${this.target}&item=${index}`}>\n              <img\n                className=\"card-media\"\n                src={card.url.replace('{res}', '500')}\n                alt={card.name}\n              />\n            </Link>\n            <div className=\"wrapper\">\n              <span className=\"tk-vincente-lightbold font-32 m-0 mt-2 line-h\">\n                {card.name}\n              </span>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.motto')}: {card.motto}\n              </span>\n              <hr className=\"wolves\" />\n              {\n                <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                  {t('page.available')}: {card.maxMintable - card.minted}/\n                  {card.maxMintable}\n                </span>\n              }\n              <span className=\"tk-grotesk-lightbold font-14 m-0 line-h ellipsis\">\n                {t('page.price')}: {card.price.toFixed(2)} WOWS\n              </span>\n            </div>\n          </div>\n        );\n      });\n\n    return (\n      <>\n        <div id=\"top\" className={'wolves-container wolves-header bg-wolves'}>\n          {/* Hero heading */}\n          <div className=\"mb-3\">\n            <h2 className=\"tk-vincente-lightbold m-0\">{items.title}</h2>\n            <h4 className=\"tk-grotesk-lightbold m-0\">\n              {items.shortDescription}\n            </h4>\n          </div>\n\n          {/* Line */}\n          <span className=\"line-container cfisft-line-w-80\">\n            <span id=\"left\" className=\"dot\" />\n            <span className=\"line\" />\n            <span id=\"right\" className=\"dot\" />\n          </span>\n\n          {/* Section title */}\n          <span className=\"tk-vincente-lightbold\">\n            <span className=\"font-24\">\n              CORE LP NFT\n              <div id=\"triangle-down\" />\n            </span>\n          </span>\n\n          {/* Cards listing */}\n          <div className=\"cfisft-card-container mt-1\">{cardRender}</div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioItemSfts);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\nimport '../theme/checkbox/wolve_checkbox.css';\nimport './CFolioManager.css';\n\nimport React from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  PayloadContentCFolioItemLT,\n  SFT,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEM, CFOLIO_ITEMS } from '../types/cards';\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\ninterface SUBIMAGE extends IMAGE_SLIDER_SLIDE {\n  constraints?: 'wolves' | 'bois';\n  cfolioItem: CFOLIO_ITEM;\n}\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  txPending: boolean;\n  sliderImagesTop: IMAGE[];\n  sliderImagesMiddle: SUBIMAGE[];\n  sliderImagesBottom: IMAGE[];\n  checkedMiddle: number[];\n};\n\nclass CFolioManager extends React.Component<PROPS, STATE> {\n  cards?: CARDS;\n  cfolioItemCards: CFOLIO_ITEMS[] = [];\n  sliderInterfaces: { [id: string]: IMAGE_SLIDER_INTERFACE } = {};\n  sliderIndex = [0, 0, 0];\n  sliderImagesMiddleAll: SUBIMAGE[] = [];\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      txPending: false,\n      sliderImagesTop: [],\n      sliderImagesMiddle: [],\n      sliderImagesBottom: [],\n      checkedMiddle: [],\n    };\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onTransfer = this.onTransfer.bind(this);\n    this.setSliderIndex = this.setSliderIndex.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'tokens'].includes(status.status)) this._updateImages();\n  }\n\n  onTransfer(status: StatusResult) {\n    if (['error', 'success'].includes(status.status))\n      this.setState({ txPending: false });\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    this.cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const pred = (sft: SFT) => sft.cfolioItems.length > 0;\n    const newImages = this._getSftImages(tokenIds, pred);\n\n    this.cfolioItemCards = assets.cfolioItems;\n    this.setState({ sliderImagesTop: newImages });\n    this.setState({ checkedMiddle: [] });\n\n    this._createSliderImages(newImages);\n  }\n\n  _getSftImages(\n    tokenIds: SFT[],\n    pred: (s: SFT) => boolean,\n    pred2?: (l: number, i: number) => boolean\n  ): IMAGE[] {\n    const result: IMAGE[] = [];\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (pred(sft)) {\n        if (sft.isStockCard && !sft.status) {\n          if (!pred2 || pred2(sft.levelId, sft.cardId)) {\n            const url =\n              this.cards?.cards[sft.levelId].cards[sft.cardId].url\n                .replace('{res}', '300')\n                .replace('.mp4', '.mp4.jpg') || '';\n            result.push({\n              url,\n              cfolioItems: this._cfolioItemsForSlider(sft),\n              tokenId: sft.tokenId,\n              sft,\n            });\n          }\n        } else if (sft.isWallet) {\n          result.push({\n            url: WalletLogo,\n            cfolioItems: this._cfolioItemsForSlider(sft),\n            sft,\n          });\n        }\n      }\n    });\n    return result;\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled: false,\n      });\n    });\n    return result;\n  }\n\n  _createSliderImages(topImages: IMAGE[]) {\n    this.sliderImagesMiddleAll = [];\n    const bottomImages: IMAGE[] = [];\n    const constraints: { [x: string]: boolean } = {};\n\n    if (this.sliderIndex[0] < topImages.length) {\n      const cfolioItems = topImages[this.sliderIndex[0]].sft.cfolioItems;\n      cfolioItems.forEach((cfi) => {\n        let cfiCard: CFOLIO_ITEM | undefined;\n        const cat = this.cfolioItemCards.find(\n          (category) =>\n            (cfiCard = category.cards.find(\n              (card) => card.chainRef === cfi.type\n            ))\n        );\n        if (cfiCard) {\n          this.sliderImagesMiddleAll.push({\n            url: cfiCard?.url.replace('{res}', '300'),\n            locked: cfi.status > 0,\n            constraints: cat?.constraints,\n            cfolioItem: cfiCard,\n            tokenId: cfi.tokenId,\n            cfolioItems: [],\n          });\n          if (cat?.constraints) {\n            constraints[cat.constraints] = true;\n          } else {\n            constraints['wolves'] = true;\n            constraints['bois'] = true;\n          }\n        }\n      });\n\n      // Create bottom images, only contraint matching\n      // and never insert current selected top element\n      const pred = (sft: SFT) =>\n        sft.tokenId !== topImages[this.sliderIndex[0]].sft.tokenId;\n      const pred2 = (l: number, i: number) =>\n        constraints[this.cards?.cards[l].type || ''];\n      bottomImages.push(\n        ...this._getSftImages(\n          StoreClasses.store.getAssets().userSFT,\n          pred,\n          pred2\n        )\n      );\n    } else if (topImages.length > 0) {\n      return;\n    }\n    this.setState({ sliderImagesBottom: bottomImages });\n    this._filterSliderImagesMiddle(topImages, bottomImages, false);\n  }\n\n  _filterSliderImagesMiddle(\n    topImages: IMAGE[],\n    bottomImages: IMAGE[],\n    onlyIfChanged: boolean\n  ) {\n    let sliderImagesMiddle: SUBIMAGE[] = [];\n    if (\n      this.cards &&\n      this.sliderIndex[2] < bottomImages.length &&\n      this.sliderIndex[0] < topImages.length\n    ) {\n      if (\n        bottomImages[this.sliderIndex[2]].sft.isWallet ||\n        !topImages[this.sliderIndex[0]].sft.isWallet\n      ) {\n        sliderImagesMiddle = this.sliderImagesMiddleAll;\n      } else {\n        const filter =\n          this.cards.cards[bottomImages[this.sliderIndex[2]].sft.levelId].type;\n        sliderImagesMiddle = this.sliderImagesMiddleAll.filter(\n          (elem) => !elem.constraints || elem.constraints === filter\n        );\n      }\n    }\n    if (\n      !onlyIfChanged ||\n      JSON.stringify(sliderImagesMiddle) !==\n        JSON.stringify(this.state.sliderImagesMiddle)\n    ) {\n      this.setState({ checkedMiddle: [] });\n      this.setState({ sliderImagesMiddle });\n    }\n  }\n\n  setSliderIndex(id: string | undefined, index: number, checked?: number[]) {\n    const pos = parseInt(id ?? '0');\n    this.sliderIndex[pos] = index;\n    if (pos === 0) this._createSliderImages(this.state.sliderImagesTop);\n    else if (pos === 1 && checked && checked !== this.state.checkedMiddle)\n      this.setState({ checkedMiddle: checked });\n    else if (pos === 2) {\n      this._filterSliderImagesMiddle(\n        this.state.sliderImagesTop,\n        this.state.sliderImagesBottom,\n        true\n      );\n    }\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterfaces[id || 'default'] = iface;\n  }\n\n  handleBuy() {\n    const request: PayloadContentCFolioItemLT = {\n      src: this.state.sliderImagesTop[this.sliderIndex[0]].sft.tokenId,\n      dst: this.state.sliderImagesBottom[this.sliderIndex[2]].sft.tokenId,\n      lockedCFIs: [],\n      transferCFIs: [],\n    };\n    this.state.checkedMiddle.forEach((n) => {\n      if (this.state.sliderImagesMiddle[n].locked)\n        request.lockedCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n      else\n        request.transferCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n    });\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch({\n      type: CFOLIO_ITEM_UNLOCK_TRANSFER,\n      content: request,\n    });\n  }\n\n  render() {\n    let lockedCount = 0;\n    this.state.checkedMiddle.forEach(\n      (n) => (lockedCount += this.state.sliderImagesMiddle[n].locked ? 1 : 0)\n    );\n    const majority = this.state.checkedMiddle.length > 1 ? 's' : '';\n    const buttonState = this.state.txPending\n      ? { l: 'TRANSACTION PENDING', e: false }\n      : this.state.sliderImagesTop.length > 0\n      ? this.state.checkedMiddle.length > 0\n        ? lockedCount > 0\n          ? {\n              l: `UNLOCK (${lockedCount}) AND TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n          : {\n              l: `TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n        : { l: 'NOTHING SELECTED', e: false }\n      : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n    return (\n      <>\n        <div className={'cfm-container bg-wolves'}>\n          {/* Title & heading */}\n          <div>\n            <h2 className=\"tk-vincente-lightbold font-28 mt-1 single-line\">\n              {'WELCOME TO YOUR C-FOLIO TRANSFER MANAGER'}\n            </h2>\n            <h3 className=\"tk-grotesk-lightbold font-14\">\n              {'MANAGE YOUR ASSETS WITH MULTI TRANSACTIONS IN ONE.'}\n            </h3>\n          </div>\n\n          <div\n            className={\n              'd-flex flex-column bg-blue-transparent wolves-orange-border font-16 my-2 pt-2'\n            }\n          >\n            {/* Card slider-1 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center-container center_triangle_down rotate-180'\n              }\n            >\n              <div className=\"d-flex\">\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesTop}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* Card slider-2 */}\n            <div className={'w-90-safe center-container pt-2'}>\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"1\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={135}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesMiddle}\n                  checkbox={true}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* center btn, arrow */}\n            <div\n              className={\n                'center-container d-flex flex-column justify-content-center align-items-center'\n              }\n            >\n              <button\n                disabled={!buttonState.e}\n                className={'wolves-btn white-border w280px font-14'}\n                onClick={this.handleBuy.bind(this)}\n              >\n                {buttonState.l}\n              </button>\n              <div className={'arrow_down mt-1'} />\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* Card slider-3 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center_triangle_down center-container'\n              }\n            >\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[2].prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"2\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesBottom}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[2]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioManager);\n","export default __webpack_public_path__ + \"static/media/icons_discord.e3adf3ed.svg\";","export default __webpack_public_path__ + \"static/media/icons_etherscan.ece3f2bb.svg\";","export default __webpack_public_path__ + \"static/media/icons_github.07a75d5f.svg\";","export default __webpack_public_path__ + \"static/media/icons_TG.e3e58f9f.svg\";","export default __webpack_public_path__ + \"static/media/icons_Twitter.b8aba8a1.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport React, { Component, ReactNode } from 'react';\n\nimport discord from '../../assets/icons_discord.svg';\nimport etherscan from '../../assets/icons_etherscan.svg';\nimport github from '../../assets/icons_github.svg';\nimport telegram from '../../assets/icons_TG.svg';\nimport twitter from '../../assets/icons_Twitter.svg';\n\nclass Social extends Component {\n  render(): ReactNode {\n    return (\n      <div className=\"social-menu\">\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://twitter.com/WolvesWallst\"\n          >\n            <img src={twitter} alt=\"Twitter\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://etherscan.io/address/0x672EF7E4Fe230B5cA1466C5fDD40588d30FdF90a\"\n          >\n            <img src={etherscan} alt=\"Etherscan\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://github.com/wolvesofwallstreet\"\n          >\n            <img src={github} alt=\"Github\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://discord.gg/CCqZtze8kg\"\n          >\n            <img src={discord} alt=\"Discord\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://t.me/wolveswallstreet\"\n          >\n            <img src={telegram} alt=\"Telegram\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Social;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './footer.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport Social from '../social/social';\n\ntype FooterProps = {\n  t: TFunction;\n};\n\ntype FooterState = {\n  showModal: boolean;\n  policyChanged: boolean;\n};\n\nclass Footer extends Component<FooterProps, FooterState> {\n  privacyFile = '';\n  privacyTerms = '';\n\n  constructor(props: FooterProps) {\n    super(props);\n    this.state = { showModal: false, policyChanged: false };\n  }\n\n  loadTerms() {\n    const { t } = this.props;\n    const privacyFile = t('privacyTermsFile');\n\n    if (privacyFile !== this.privacyFile) {\n      import('../../locales/en_US/privacy_policy.json').then((text) => {\n        this.privacyTerms = text.default.policy;\n        this.setState({ policyChanged: !this.state.policyChanged });\n      });\n      this.privacyFile = privacyFile;\n    }\n  }\n\n  render(): ReactNode {\n    const { showModal } = this.state;\n    this.loadTerms();\n\n    return (\n      <div className=\"footer-main\">\n        <p className=\"footer-notes tk-grotesk-lightbold\">\n          BY MAKING USE OF THE WOLVES OF WALL STREET PLATFORM YOU ARE AWARE OF\n          THE RISKS ASSOCIATED WITH TRANSACTIONS OF DIGITAL TOKEN. YOU ARE USING\n          THE PLATFORM AT YOUR OWN RISK.\n          <br />\n          ALL LIABILITY RESIDES WITH THE USER AND THE WOLVES OF WALL STREET\n          SHALL NOT BE LIABLE FOR ANY SUCH RISKS OR ADVERSE OUTCOMES.\n          <br />\n          COPYRIGHT&copy; ALL RIGHTS RESERVED WOLVES OF WALL STREET 2021\n        </p>\n        <div className=\"footer-terms-container\">\n          <Social />\n          <div\n            className=\"footer-notes footer-terms tk-grotesk-lightbold\"\n            onClick={() => this.setState({ showModal: true })}\n          >\n            PRIVACY TERMS & CONDITIONS\n          </div>\n        </div>\n        <Modal\n          show={showModal}\n          onHide={() => this.setState({ showModal: false })}\n          size=\"lg\"\n          animation={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              <h1>Terms & Conditions</h1>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body dangerouslySetInnerHTML={{ __html: this.privacyTerms }} />\n          <Modal.Footer />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Footer);\n","export default __webpack_public_path__ + \"static/media/wolves_sft_logo.4ce0479e.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './header.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Form, Image, Navbar } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport logo from '../../assets/wolves_sft_logo.svg';\nimport { ASSETS_STATE, CONNECTION_CHANGED } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  ConnectResult,\n  StoreClasses,\n} from '../../stores/store';\n\ninterface HEADER_PROPS {\n  location: Location;\n  t: TFunction;\n}\n\ninterface HEADER_STATE {\n  address: string;\n  networkName: string;\n  wowsPrice?: number;\n  wowsAmount?: number;\n  isSidechain?: boolean;\n}\n\ntype DropDownItem = {\n  id: string;\n  to: string;\n};\n\ntype NAVITEM = {\n  id: string;\n  to: string;\n  disabled: boolean;\n  dropdown?: boolean;\n  dropdownItems?: DropDownItem[];\n};\n\nclass Header extends Component<HEADER_PROPS, HEADER_STATE> {\n  store = StoreClasses.store;\n  emitter = StoreClasses.emitter;\n\n  constructor(props: HEADER_PROPS) {\n    super(props);\n    this.state = {\n      address: '',\n      networkName: '',\n      wowsAmount: 0,\n      isSidechain: false,\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.renderDropDown = this.renderDropDown.bind(this);\n  }\n\n  componentDidMount(): void {\n    this.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    this.emitter.on(ASSETS_STATE, this.onAssetsState);\n  }\n\n  componentWillUnmount(): void {\n    this.emitter.off(ASSETS_STATE, this.onAssetsState);\n    this.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') this.setState(params);\n    const isSidechain = this.store.isSidechain();\n    if (isSidechain !== this.state.isSidechain) this.setState({ isSidechain });\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'rewards') {\n      const wowsPrice = StoreClasses.store.getAssets().rewardInfo[0].priceWOWS;\n      this.setState({\n        wowsPrice: wowsPrice > 0 ? wowsPrice : undefined,\n      });\n    }\n    if (status.status === 'balances') {\n      this.setState({\n        wowsAmount: StoreClasses.store.getAssets().balances['WOWS'].value,\n      });\n    }\n  }\n\n  handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n    if (this.store.isConnected()) {\n      this.store.disconnect(true, true);\n    } else {\n      this.store.connect();\n    }\n    event.preventDefault();\n  }\n\n  _shortAddress(): string {\n    const { address, networkName } = this.state;\n    return address !== ''\n      ? address.substring(0, 6) +\n          '...' +\n          address.substring(address.length - 4, address.length) +\n          ' (' +\n          networkName +\n          ')'\n      : 'CONNECT WALLET';\n  }\n\n  renderDropDown(title: string, dropdownItems: DropDownItem[]): ReactNode {\n    const { pathname, search } = this.props.location;\n\n    return (\n      <span className=\"nav-item dropdown mx-0 my-0\" key={Math.random() + title}>\n        <span\n          className=\"nav-link dropdown-toggle text-white navbar-text\"\n          data-bs-toggle=\"dropdown\"\n          aria-expanded=\"false\"\n        >\n          {title}\n        </span>\n        <ul className=\"dropdown-menu bg-blue-transparent-dark translateY_-10\">\n          {dropdownItems.map((item, index) => {\n            const isActiveNav = pathname + search === item.to;\n            return (\n              <li key={'navLink' + index}>\n                {isActiveNav && (\n                  <span className=\"dropdown-item active\"> {item.id} </span>\n                )}\n                {!isActiveNav && (\n                  <Link className=\"dropdown-item\" to={item.to}>\n                    {item.id}\n                  </Link>\n                )}\n              </li>\n            );\n          })}\n        </ul>\n      </span>\n    );\n  }\n\n  _getNavItems(): NAVITEM[] {\n    const { location, t } = this.props;\n    const query = new URLSearchParams(location.search);\n    const type = query.get('type');\n    const levelId = query.get('levelId') || 0;\n    const result = StoreClasses.store.isSidechain()\n      ? [\n          {\n            id: 'WOLF TRADE FLOOR',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.buyStake'),\n                to: '/cfolio-sfts?type=lpInvestment',\n              },\n              {\n                id: t('header.stakeInvest'),\n                to: '/cfolio-invest?type=lpInvestment',\n              },\n            ],\n          },\n          {\n            id: 'BOIS BOARDROOMS',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.buyYearn'),\n                to: '/cfolio-sfts?type=stableInvestment',\n              },\n              {\n                id: t('header.yearnInvest'),\n                to: '/cfolio-invest?type=stableInvestment',\n              },\n            ],\n          },\n          {\n            id: t('header.myPack'),\n            to: '/my?type=myPack&levelId=' + levelId,\n            disabled: location.pathname === '/my',\n          },\n          {\n            id: 'C-FOLIO MANAGER',\n            to: '/c_folio_manager',\n            disabled: location.pathname === '/c_folio_manager',\n          },\n        ]\n      : [\n          {\n            id: 'WOLF TRADE FLOOR',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.wolvesCf'),\n                to: '/shop?type=wolves&levelId=' + levelId,\n                disabled: type === 'wolves',\n              },\n            ],\n          },\n          {\n            id: 'BOIS BOARDROOMS',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.boisCf'),\n                to: '/shop?type=bois&levelId=' + levelId,\n                disabled: type === 'bois',\n              },\n            ],\n          },\n          {\n            id: t('header.myPack'),\n            to: '/my?type=myPack&levelId=' + levelId,\n            disabled: location.pathname === '/my',\n          },\n          {\n            id: 'WOWS V1',\n            to: 'https://appv1.wows.finance',\n            disabled: false,\n          },\n        ];\n    return result;\n  }\n\n  render(): ReactNode {\n    const shortAddress = this._shortAddress();\n    const navItems = this._getNavItems();\n    const isSidechain = this.state.isSidechain;\n    return (\n      <Navbar bg=\"wolf\" variant=\"dark\" expand=\"md\">\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Brand className=\"navbar-brand mr-auto\" as={Link} to=\"/\">\n          <Image src={logo} width=\"300\" className=\"logo\" />\n        </Navbar.Brand>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          {navItems.map((navItem: NAVITEM, index: number) => {\n            // render Dropdown items\n            if ('dropdownItems' in navItem && navItem.dropdownItems) {\n              return this.renderDropDown(\n                navItem.id,\n                navItem?.dropdownItems as DropDownItem[]\n              );\n            }\n\n            // Active nav item\n            if (navItem.disabled) {\n              return <span key={index}>{navItem.id}</span>;\n            }\n\n            // nav item\n            return navItem.to.startsWith('http') ? (\n              <a key={index} href={navItem.to}>\n                {navItem.id}\n              </a>\n            ) : (\n              <Link key={index} to={navItem.to}>\n                {' '}\n                {navItem.id}\n              </Link>\n            );\n          })}\n        </Navbar.Collapse>\n\n        <div className=\"dp-conn-container\">\n          <div className=\"dp-chain-container\">\n            <span\n              className={`icon ethereum${isSidechain ? '' : ' selected'}`}\n              onClick={() => StoreClasses.store.switchChain('ethereum')}\n            />\n            <span\n              className={`icon polygon${isSidechain ? ' selected' : ''}`}\n              onClick={() => StoreClasses.store.switchChain('polygon')}\n            />\n          </div>\n          <div>\n            <Form onSubmit={this.handleSubmit}>\n              <input\n                className=\"wolves-btn dp-conn-btn\"\n                type=\"submit\"\n                value={shortAddress}\n              />\n            </Form>\n            {this.state.wowsPrice !== undefined && (\n              <span className=\"dp-conn-price\">\n                1 WOWS &asymp; ${this.state.wowsPrice.toFixed(0)}\n              </span>\n            )}\n            <br />\n            {this.state.wowsAmount !== undefined && (\n              <span className=\"dp-conn-price\">\n                My WOWS: {this.state.wowsAmount.toFixed(2)}\n              </span>\n            )}\n          </div>\n        </div>\n      </Navbar>\n    );\n  }\n\n  scrollSection(section: string): void {\n    section = '';\n  }\n}\n\nexport default withTranslation()(Header);\n","export default __webpack_public_path__ + \"static/media/bois_shadow.b0ae95a7.png\";","export default __webpack_public_path__ + \"static/media/wolves_shadow.717f45ae.png\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page1.css';\n\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport BoisLogo from '../../assets/bois_shadow.png';\nimport WolvesLogo from '../../assets/wolves_shadow.png';\nimport { StoreClasses } from '../../stores/store';\n\ntype PAGE1_PROPS = {\n  t: TFunction;\n};\n\nfunction Page1(props: PAGE1_PROPS) {\n  const { t } = props;\n  return (\n    <div className=\"page1-container\">\n      <div className=\"page1-title-box\">\n        {/* <WowsStatus /> */}\n        <div className=\"page1-title-box-text\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.head1')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">{t('page1.head2')}</h3>\n          {!StoreClasses.store.isSidechain() && (\n            <>\n              <a\n                id=\"wows-link\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href={`https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=${StoreClasses.store._getTokenContractAddress()}&use=v2`}\n              >\n                BUY WOWS ON UNISWAP V.2\n              </a>\n              <br />\n              <a\n                id=\"wows-link-migrate\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                rel=\"noreferrer\"\n                href={'https://appv1.wows.finance'}\n              >\n                <b>VISIT V1 AND MIGRATE MY CFOLIO's</b>\n              </a>\n            </>\n          )}\n        </div>\n      </div>\n      {/************** Left ************/}\n      <div className=\"page1-bg page1-left\">\n        <span className=\"page1-line-v\" />\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.wolves2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <span className=\"page1-line-h\" />\n          <span className=\"page1-dot\" />\n          <Link\n            to={\n              StoreClasses.store.isSidechain()\n                ? '/cfolio-sfts?type=lpInvestment'\n                : '/shop?type=wolves'\n            }\n          >\n            <img src={WolvesLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n      {/************** Right ************/}\n      <div className=\"page1-bg page1-right\">\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.bois2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <Link\n            to={\n              StoreClasses.store.isSidechain()\n                ? '/cfolio-sfts?type=stableInvestment'\n                : '/shop?type=bois'\n            }\n          >\n            <img src={BoisLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withTranslation()(Page1);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABjCAYAAACPO76VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyMTA2RUNGM0UxODExRUI4NjM2ODVGMEIwREEwNTI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyMTA2RUQwM0UxODExRUI4NjM2ODVGMEIwREEwNTI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjIxMDZFQ0QzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjIxMDZFQ0UzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6zocrdAAAcrklEQVR42uxd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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './cardbox.css';\n\nimport { TFunction } from 'i18next';\nimport { RefObject, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n  BIGNUMBER_MAX,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\n\ntype CARDBOX_PROPS = {\n  sft?: SFT;\n  cfolio?: SFTCHILD;\n  earned: number;\n  t: TFunction;\n  progressRefs?: RefObject<HTMLSpanElement>[];\n};\n\nexport function CardBox(props: CARDBOX_PROPS): JSX.Element {\n  const { cfolio, earned, progressRefs, sft, t } = props;\n  const assets = StoreClasses.store.getAssets();\n  const progressRef: RefObject<HTMLSpanElement> = useRef(null);\n\n  useEffect(() => {\n    progressRefs?.push(progressRef);\n    return () => {\n      progressRefs?.splice(progressRefs.indexOf(progressRef), 1);\n    };\n  }, [progressRefs]);\n\n  let name,\n    motto,\n    levelId,\n    type,\n    tokenId,\n    cardId,\n    cardType,\n    url,\n    quantity,\n    price,\n    minted,\n    prowess,\n    status,\n    investment;\n  if (sft) {\n    const level = assets.cards.cards[sft.levelId];\n    const card = level.cards[sft.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = level.levelId;\n    tokenId = sft.tokenId !== BIGNUMBER_MAX ? sft.tokenId : undefined;\n    type = tokenId ? 'myPack' : level.type;\n    cardId = card.id;\n    cardType = card.type;\n    url = card.url;\n    quantity = level.quantity;\n    minted = card.minted;\n    price = level.price;\n    prowess = sft.rewardRate;\n    status = sft.status;\n  } else if (cfolio) {\n    const level = assets.cfolioItems[cfolio.levelId];\n    const card = level.cards[cfolio.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = 4;\n    type = 'myPack';\n    tokenId = cfolio.tokenId;\n    cardId = cfolio.cardId;\n    cardType = 'image';\n    url = card.url;\n    quantity = card.maxMintable;\n    minted = card.minted;\n    price = card.price;\n    prowess = 0;\n    status = cfolio.status;\n    investment =\n      cfolio.assets[0].toFixed(6) +\n      ' ' +\n      assets.cfolioItems[cfolio.levelId].token;\n  } else return <></>;\n\n  const renderCFolioItems = () => {\n    if (sft && sft.cfolioItems.length > 0) {\n      const topOffset =\n        sft.cfolioItems.length > 1\n          ? Math.min((314 - 82) / (sft.cfolioItems.length - 1), 86)\n          : 0;\n      return (\n        <>\n          {sft.cfolioItems.map((sftc, index) => {\n            const cfi = assets.cfolioItems[sftc.levelId].cards[sftc.cardId];\n            return (\n              <img\n                key={'cfi' + index}\n                id=\"cfi-image\"\n                style={{ top: 6 + index * topOffset + 'px' }}\n                height=\"80px\"\n                alt={cfi.name}\n                src={cfi.url.replace('{res}', '300')}\n              />\n            );\n          })}\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className=\"card-container\">\n      <span className=\"tk-vincente-lightbold font-32\">{name}</span>\n      <Link\n        className=\"p_relative\"\n        to={\n          '/detail?type=' +\n          type +\n          '&levelId=' +\n          levelId +\n          '&cardId=' +\n          cardId +\n          (tokenId !== undefined ? '&tokenId=' + tokenId.toHexString() : '')\n        }\n      >\n        {cardType === 'movie' ? (\n          <video\n            disableRemotePlayback={true}\n            className=\"card-visual\"\n            autoPlay={true}\n            loop={true}\n            src={url?.replace('{res}', '300')}\n            poster={url?.replace('{res}', '300') + '.jpg'}\n            playsInline\n          />\n        ) : (\n          <img\n            className=\"card-visual\"\n            src={url?.replace('{res}', '300')}\n            alt={name}\n          />\n        )}\n        {status > 0 && (\n          <div className={status > SFTS.LOCKED ? 'bridged' : 'locked'} />\n        )}\n        {renderCFolioItems()}\n      </Link>\n      <div className=\"wrapper\">\n        <span id=\"triangle-up\" />\n        {tokenId !== undefined && (\n          <span className=\"tk-vincente-lightbold font-28\">\n            {`TOKEN ID: 0x${tokenId\n              .mask(128)\n              .toHexString()\n              .substr(2)\n              .padStart(8, '0')}`}\n          </span>\n        )}\n        <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n          {t('page.motto')}: {motto}\n        </span>\n        <span className=\"bg-orange my-2\">\n          <span\n            className=\"progress\"\n            ref={sft && sft.cfolioItems.length > 0 ? progressRef : undefined}\n          ></span>\n        </span>\n        {tokenId === undefined ? (\n          <>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.available')}: {quantity - minted}/{quantity}\n            </span>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis line-h\">\n              {t('page.price')}: {price} WOWS{' '}\n            </span>\n          </>\n        ) : sft && StoreClasses.store.isSidechain() ? (\n          <>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.prowess')}: {prowess / 10000}%\n            </span>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.earned')}: {earned.toFixed(6)} WOWS\n            </span>\n          </>\n        ) : (\n          StoreClasses.store.isSidechain() && (\n            <>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.investment')}: {investment}\n              </span>\n            </>\n          )\n        )}\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page3.css';\n\nimport React, { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_REWARD,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport { CARDS } from '../types/cards';\nimport { CardBox } from './cardbox';\n\ntype PAGE3_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n  display: 'shop' | 'auction' | 'my';\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE3_STATE = {\n  contentLoaded: boolean;\n  contentChanged: boolean;\n  type: QueryType;\n  levelId: number;\n  isWalletConnected: boolean;\n};\n\nconst INITIAL_PAGE3_STATE: PAGE3_STATE = {\n  contentLoaded: false,\n  contentChanged: false,\n  type: 'wolves',\n  levelId: -1,\n  isWalletConnected: false,\n};\n\nclass Page3 extends Component<PAGE3_PROPS, PAGE3_STATE> {\n  content: CARDS = {\n    levelNames: [],\n    cards: [],\n  };\n  levelDescription = '';\n  tokenIds: SFT[] = [];\n  walletTokenIds: SFTCHILD[] = [];\n  levelFilter = 0;\n  nextLevel = -1;\n  prevLevel = -1;\n  scrollOnUpdate = true;\n  mainRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  progessStart: Date = new Date();\n  progressRefs: React.RefObject<HTMLSpanElement>[] = [];\n  progressInterval?: number;\n\n  constructor(props: PAGE3_PROPS) {\n    super(props);\n    this.state = INITIAL_PAGE3_STATE;\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._checkContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateRewards();\n  }\n\n  componentDidUpdate(): void {\n    this._checkContent();\n    if (this.scrollOnUpdate) {\n      this.mainRef.current?.scrollIntoView();\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    window.clearInterval(this.progressInterval);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (!['error', 'cfolio_amount'].includes(status.status)) {\n      this.setState({ contentChanged: true });\n      if (status.status === 'tokens') {\n        this.setState({ levelId: -1 });\n        this._updateRewards();\n      }\n    }\n  }\n\n  _checkContent(): void {\n    const { display, history, location } = this.props;\n    const { type } = this.state;\n    let { contentLoaded } = this.state;\n    let { levelId } = this.state;\n\n    const query = new URLSearchParams(location.search);\n    const newType = query.get('type') as QueryType;\n\n    if (newType !== type) {\n      this.setState({ type: newType });\n      levelId = -1;\n      contentLoaded = false;\n    }\n    if (!contentLoaded) {\n      this.content = StoreClasses.store.getAssets().cards;\n    }\n    if (this.state.contentChanged) this.setState({ contentChanged: false });\n\n    if (this.content.levelNames.length > 0) {\n      if (!contentLoaded) {\n        this.setState({ contentLoaded: true, levelId: -1 });\n        return;\n      }\n      const newLevelId = parseInt(query.get('levelId') || '0') | 0;\n      if (levelId !== newLevelId) {\n        window.clearInterval(this.progressInterval);\n        this.progressInterval = undefined;\n        // retrieve level description\n        // reset level filter\n        this.levelFilter = 0;\n        if (display !== 'my') {\n          this.content.cards.forEach((level) => {\n            if (level.type === newType && level.cards.length > 0)\n              this.levelFilter |= 1 << level.levelId;\n          });\n          const idx = this.content.cards.findIndex(\n            (level) => level.levelId === newLevelId && level.type === newType\n          );\n          if (idx >= 0) {\n            this.levelDescription = this.content.cards[idx].header.replace(\n              '{Q}',\n              this.content.cards[idx].quantity.toString()\n            );\n            this.tokenIds = this.content.cards[idx].cards.map(\n              (card, cardId) => {\n                return {\n                  tokenId: BIGNUMBER_MAX,\n                  levelId: idx,\n                  cardId,\n                  isBaseCard: true,\n                  isStockCard: true,\n                  isWallet: false,\n                  status: SFTS.UNLOCKED,\n                  rewardRate: 0,\n                  rewardShare: 0,\n                  rewardEarned: 0,\n                  mintTimestamp: 0,\n                  cfolioItems: [],\n                  boosterRewards: {\n                    total: 0,\n                    pending: 0,\n                    apr: 0,\n                  },\n                };\n              }\n            );\n          }\n          this.walletTokenIds = [];\n        } else {\n          // get our base tokenIds\n          this.tokenIds = StoreClasses.store\n            .getAssets()\n            .userSFT.filter((n) => n.isStockCard);\n          // get cfolioItems from wallet\n          this.walletTokenIds =\n            StoreClasses.store.getAssets().userSFT.find((n) => n.isWallet)\n              ?.cfolioItems ?? [];\n          // collect tokenId bitmask\n          let hasCFolioItems = false;\n          this.tokenIds.forEach((n) => {\n            this.levelFilter |= 1 << this.content.cards[n.levelId].levelId;\n            if (\n              this.content.cards[n.levelId].levelId === newLevelId &&\n              n.cfolioItems.length > 0\n            )\n              hasCFolioItems = true;\n          });\n          this.levelDescription =\n            (this.levelFilter & (1 << newLevelId)) === 0\n              ? ''\n              : (this.levelDescription = this.content.cards[\n                  newLevelId\n                ].header.replace(\n                  '{Q}',\n                  this.content.cards[newLevelId].quantity.toString()\n                ));\n          if (this.walletTokenIds.length > 0) {\n            this.levelFilter |= 1 << 4;\n          }\n          if (hasCFolioItems && StoreClasses.store.isSidechain()) {\n            this.progessStart = new Date();\n            this.progressInterval = window.setInterval(\n              this._ticker.bind(this),\n              1000\n            );\n          }\n        }\n\n        if (this.levelFilter && (this.levelFilter & (1 << newLevelId)) === 0) {\n          let defaultLevelId = 4;\n          if (this.levelFilter & 1) defaultLevelId = 0;\n          else if (this.levelFilter & 2) defaultLevelId = 1;\n          else if (this.levelFilter & 4) defaultLevelId = 2;\n          query.set('levelId', defaultLevelId.toString());\n          history.replace(location.pathname + '?' + query.toString());\n        }\n        this.prevLevel = -1;\n        this.nextLevel = -1;\n        // check for next level\n        const levelLength = this.content.levelNames.length;\n        for (\n          let i = newLevelId + 1;\n          this.nextLevel < 0 && i < levelLength;\n          ++i\n        ) {\n          if (this.levelFilter & (1 << i)) this.nextLevel = i;\n        }\n\n        // check for next level\n        for (let i = newLevelId - 1; this.prevLevel < 0 && i >= 0; --i) {\n          if (this.levelFilter & (1 << i)) this.prevLevel = i;\n        }\n        this.setState({ levelId: newLevelId });\n      }\n    }\n    if (query.get('scroll') === 'false') this.scrollOnUpdate = false;\n  }\n\n  _ticker() {\n    let perc = 100 - (new Date().getTime() - this.progessStart.getTime()) / 300;\n    if (perc < 0) {\n      this._updateRewards();\n      this.progessStart = new Date();\n      perc = 100;\n    }\n    this.progressRefs.forEach((ref) => {\n      if (ref.current) ref.current.style.width = perc.toString() + '%';\n    });\n  }\n\n  _updateRewards = async () => {\n    if (StoreClasses.store.isSidechain()) {\n      StoreClasses.dispatcher.dispatch({\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    }\n  };\n\n  render(): JSX.Element {\n    const { display, t } = this.props;\n    const { contentLoaded, isWalletConnected, levelId, type } = this.state;\n    const levelPosition = levelId;\n    const hasMoreLevels = this.nextLevel >= 0;\n\n    const startPosition = 0;\n\n    return (\n      <>\n        <div\n          ref={this.mainRef}\n          className={'wolves-container wolves-header bg-' + type}\n        >\n          {!isWalletConnected && display === 'my' ? (\n            <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n              Wallet is not connected.\n              <br /> Please connect your wallet.\n            </span>\n          ) : (\n            <>\n              <img\n                src={Logo}\n                alt=\"WOWS\"\n                width=\"50px\"\n                height=\"50px\"\n                className={`${type === 'bois' ? 'rotate' : ''}`}\n              />\n              <h2 className=\"tk-vincente-lightbold no-margin\">\n                {t('page3.welcome-' + type)}\n              </h2>\n              <h4 className=\"tk-grotesk-lightbold\">\n                {t('page3.newCrypto-' + type).replace(\n                  '{Q}',\n                  (levelId + 1).toString()\n                )}\n              </h4>\n              <span className=\"line-container\">\n                <span id=\"left\" className=\"dot\" />\n                <span className=\"line\" />\n                <span id=\"right\" className=\"dot\" />\n              </span>\n              <div id=\"page3-section-header\">\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange fixed-pos\">\n                  &lt;\n                  {this.prevLevel < 0 || levelPosition <= startPosition ? (\n                    <Link className=\"noselect\" to=\"/\">\n                      {t('page.home')}\n                    </Link>\n                  ) : (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.prevLevel}\n                    >\n                      {t('page.previous')}\n                    </Link>\n                  )}\n                </span>\n                <span className=\"page3-section-container tk-vincente-lightbold\">\n                  {contentLoaded &&\n                    this.content.levelNames.map(\n                      (name: string, index: number) => {\n                        if ((1 << index) & this.levelFilter) {\n                          return levelId === index ? (\n                            <span\n                              key={`sec_` + index}\n                              className=\"page3-section page3-section-selected\"\n                            >\n                              {name}\n                              <div id=\"triangle-down\" />\n                            </span>\n                          ) : (\n                            <Link\n                              key={'sec_' + index}\n                              className=\"page3-section\"\n                              to={'?type=' + type + '&levelId=' + index}\n                            >\n                              {name}\n                            </Link>\n                          );\n                        } else return null;\n                      }\n                    )}\n                </span>\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange\">\n                  {hasMoreLevels ? (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.nextLevel}\n                    >\n                      {t('page.nextLevel')}\n                    </Link>\n                  ) : (\n                    t('page.nextLevel')\n                  )}\n                  &gt;\n                </span>\n              </div>\n              {contentLoaded && (\n                <h4 className=\"tk-grotesk-lightbold\">\n                  {this.levelDescription}\n                </h4>\n              )}\n              {contentLoaded && (\n                <div id=\"page3-content-container\">\n                  {levelId !== 4 &&\n                    this.tokenIds.map((id, index) => {\n                      const level = this.content.cards[id.levelId];\n                      return (\n                        level.levelId === levelId &&\n                        (display === 'my' || type === level.type) && (\n                          <CardBox\n                            sft={id}\n                            earned={id.rewardEarned + id.boosterRewards.pending}\n                            key={'card_' + index}\n                            t={t}\n                            progressRefs={this.progressRefs}\n                          />\n                        )\n                      );\n                    })}\n                  {levelId === 4 &&\n                    this.walletTokenIds.map((sftc, index) => (\n                      <CardBox\n                        cfolio={sftc}\n                        earned={0}\n                        key={'cfolio_' + index}\n                        t={t}\n                      />\n                    ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\nexport default withTranslation()(Page3);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nexport function remainingFromSecs(secondsLeft: number): string {\n  if (secondsLeft < 0) return '0d:0h:0m:0s';\n\n  const secInMinute = 60;\n  const secInHour = secInMinute * 60;\n  const secInDay = secInHour * 24;\n\n  const days = Math.floor(secondsLeft / secInDay)\n    .toString()\n    .padStart(2, '0');\n  const hours = Math.floor((secondsLeft % secInDay) / secInHour)\n    .toString()\n    .padStart(2, '0');\n  const minutes = Math.floor((secondsLeft % secInHour) / secInMinute)\n    .toString()\n    .padStart(2, '0');\n  const seconds = Math.floor(secondsLeft % secInMinute)\n    .toString()\n    .padStart(2, '0');\n\n  return (\n    days +\n    'd:' +\n    hours +\n    'h:' +\n    minutes +\n    'm' +\n    (days === '00' ? ':' + seconds + 's' : '')\n  );\n}\n","/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Transfer.css';\n\nimport { ethers } from 'ethers';\nimport { useEffect, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { SFT_TRANSFER } from '../../../stores/constants';\nimport { StatusResult, StoreClasses } from '../../../stores/store';\n\ntype PROPS = {\n  t: TFunction;\n  tokenId: ethers.BigNumber;\n  name: string;\n  show: boolean;\n  hideCB: () => void;\n};\n\nfunction Transfer({ hideCB, name, show, tokenId, t }: PROPS): JSX.Element {\n  const [txRunning, setTXRunning] = useState(false);\n  const [tOption, setTOption] = useState(0);\n  const [bridgeTarget, setBridgeTarget] = useState({\n    name: '...',\n    address: '',\n  });\n\n  const handleTransfer = () => {\n    const payload = {\n      type: SFT_TRANSFER,\n      content: {\n        id: tokenId,\n        address: bridgeTarget.address,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) {\n        setTXRunning(false);\n        if (result.status === 'success') hideCB();\n      }\n    };\n\n    StoreClasses.emitter.on(SFT_TRANSFER, resetTx);\n    setBridgeTarget(StoreClasses.store.getBridgeTarget());\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(SFT_TRANSFER, resetTx);\n    };\n  }, [hideCB]);\n\n  const transferState = (n: number): string => {\n    return tOption === n ? 'active' : 'select';\n  };\n\n  const transferFunc = (n: number) => {\n    return tOption === n ? undefined : () => setTOption(n);\n  };\n\n  const buttonText =\n    tOption === 1 || bridgeTarget.name === 'ETHEREUM'\n      ? { l: 'COMING SOON', d: true }\n      : txRunning\n      ? { l: t('page4.txPending'), d: true }\n      : { l: t('page4.transferTo', { name: bridgeTarget.name }), d: false };\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} backdrop={true}>\n      <Modal.Header closeButton>\n        <Modal.Title>Transfer {name}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"lock-container\">\n          <div className={transferState(0)} onClick={transferFunc(0)}>\n            {bridgeTarget.name}\n          </div>\n          <div className={transferState(1)} onClick={transferFunc(1)}>\n            ADDRESS\n          </div>\n        </div>\n        {tOption === 0 && bridgeTarget.address !== '' && (\n          <span className=\"tk-aktiv-grotesk mt-2 d-inline-block\">\n            {bridgeTarget.name === 'POLYGON' ? (\n              <>\n                Bridging to the Polygon network takes about 3-5 minutes.\n                <br />\n                Your CFOLIO will automatically appear after this time if you are\n                connected to the Polygon network.\n              </>\n            ) : (\n              <>\n                Bridging to Ethereum network is a 2 step process and can take up\n                to 2 hours. Your CFOLIO appears immediately in the Ethereum\n                network and displays the transfer state:\n                <br />\n                <ol style={{ marginTop: '0.5em', paddingLeft: '1.5em' }}>\n                  <li>CFOLIO is waiting for the bridge process to finish.</li>\n                  <li>\n                    You have to release the CFOLIO from the bridge with an\n                    ethereum transaction.\n                  </li>\n                </ol>\n              </>\n            )}\n          </span>\n        )}\n        <button\n          className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n          onClick={() => handleTransfer()}\n          disabled={buttonText?.d}\n        >\n          {buttonText?.l}\n        </button>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Transfer);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page4.css';\n\nimport { BigNumber, ethers } from 'ethers';\nimport React, { Component } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport { remainingFromSecs } from '../../utils/utils';\nimport {\n  CARD,\n  CARD_LEVEL,\n  CARDS,\n  CFOLIO_ITEM,\n  CFOLIO_ITEMS,\n} from '../types/cards';\nimport Transfer from './Transfer/Transfer';\n\ntype PAGE4_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE4_STATE = {\n  type: QueryType;\n  cards?: CARDS;\n  cfolios?: CFOLIO_ITEMS[];\n  renderList: RenderListItem[];\n  tokenIds?: SFT[];\n  isWalletConnected: boolean;\n  txPending: boolean;\n  currentIndex: number;\n  selectedCFolio: number;\n  modalOpen: boolean;\n  transferOpen: boolean;\n  boosterExistingValue: number;\n  boosterNewValue: number;\n  boosterRelock: number;\n};\n\ntype RenderListItem = {\n  sft?: SFT;\n  cfi?: SFTCHILD;\n  tokenId?: ethers.BigNumber;\n  level: number;\n  index: number;\n};\n\nconst INITIAL_PAGE4_STATE: PAGE4_STATE = {\n  type: 'wolves',\n  renderList: [],\n  isWalletConnected: false,\n  txPending: false,\n  currentIndex: -1,\n  selectedCFolio: -1,\n  modalOpen: false,\n  transferOpen: false,\n  boosterExistingValue: 1,\n  boosterNewValue: 15552000,\n  boosterRelock: 1,\n};\n\nclass Page4 extends Component<PAGE4_PROPS, PAGE4_STATE> {\n  scrollOnUpdate = true;\n  needUpdate = true;\n  imageContainerRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  constructor(props: PAGE4_PROPS) {\n    super(props);\n    this.state = {\n      ...INITIAL_PAGE4_STATE,\n      cards: StoreClasses.store.getAssets().cards,\n      cfolios: StoreClasses.store.getAssets().cfolioItems,\n      tokenIds: StoreClasses.store.getAssets().userSFT,\n    };\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onSFTTransaction = this.onSFTTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._updateContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onSFTTransaction);\n  }\n\n  componentDidUpdate(): void {\n    this._updateContent();\n    if (this.scrollOnUpdate) {\n      window.scrollTo(0, 0);\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n      this.hideCB();\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'loaded' || status.status === 'cards') {\n      this.needUpdate = true;\n      this.setState({\n        cards: StoreClasses.store.getAssets().cards,\n        cfolios: StoreClasses.store.getAssets().cfolioItems,\n      });\n    } else if (status.status === 'tokens') {\n      this.needUpdate = true;\n      this.setState({\n        tokenIds: StoreClasses.store.getAssets().userSFT,\n        selectedCFolio: -1,\n      });\n    } else if (status.status === 'rewards') {\n      this.setState({ tokenIds: StoreClasses.store.getAssets().userSFT });\n    }\n  }\n\n  onSFTTransaction(status: StatusResult): void {\n    if (status.status === 'success' || status.status === 'error')\n      this.setState({ txPending: false });\n  }\n\n  _updateContent() {\n    const { cards, tokenIds, type } = this.state;\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    let newType: QueryType = 'wolves';\n    switch (query.get('type')) {\n      case 'bois':\n        newType = 'bois';\n        break;\n      case 'myPack':\n        newType = 'myPack';\n        break;\n    }\n\n    if (newType !== type) {\n      this.needUpdate = true;\n      this.setState({ type: newType });\n      query.delete('type');\n      query.append('type', newType);\n      history.replace('?' + query.toString());\n      return;\n    }\n\n    if (!cards) return;\n\n    if (!this.needUpdate) {\n      return this._getCurrentIndex();\n    }\n\n    let currentIndex = -1;\n    let fixIndex = 0;\n    const newRenderList: RenderListItem[] = [];\n\n    this.needUpdate = false;\n\n    if (type === 'myPack' && tokenIds) {\n      const curTokenId = query.get('tokenId')\n        ? ethers.BigNumber.from(query.get('tokenId'))\n        : undefined;\n      // Display Wallet's CFolioItems if tokenId is CFI\n      if (\n        curTokenId &&\n        tokenIds.length &&\n        tokenIds[0].cfolioItems.find((cfi) =>\n          cfi.tokenId.mask(128).eq(curTokenId.mask(128))\n        )\n      ) {\n        // loop through cfolio items and create renderlist\n        tokenIds[0].cfolioItems.forEach((cfi) => {\n          if (curTokenId && cfi.tokenId.mask(128).eq(curTokenId.mask(128)))\n            currentIndex = newRenderList.length;\n          newRenderList.push({\n            cfi,\n            tokenId: cfi.tokenId,\n            level: cfi.levelId,\n            index: cfi.cardId,\n          });\n        });\n      } else {\n        // loop through tokenIds and create renderlist\n        tokenIds.forEach((sft) => {\n          if (sft.isStockCard) {\n            if (curTokenId) {\n              if (sft.tokenId.eq(curTokenId)) {\n                currentIndex = newRenderList.length;\n              } else if (sft.tokenId.mask(128).eq(curTokenId.mask(128))) {\n                fixIndex = newRenderList.length;\n              }\n            }\n            newRenderList.push({\n              sft,\n              tokenId: sft.tokenId,\n              level: sft.levelId,\n              index: sft.cardId,\n            });\n          }\n        });\n      }\n    } else if (type !== 'myPack') {\n      const curCardId = query.get('cardId') || '';\n      cards.cards.forEach((level, index1) => {\n        if (level.type === type) {\n          level.cards.forEach((card, index2) => {\n            if (card.id === curCardId) currentIndex = newRenderList.length;\n            newRenderList.push({ level: index1, index: index2 });\n          });\n        }\n      });\n    }\n    this.setState({ renderList: newRenderList });\n    if (currentIndex < 0 && newRenderList.length > 0) {\n      this._fixUrl(fixIndex);\n      return;\n    }\n    if (this.state.currentIndex !== currentIndex) {\n      this.setState({ currentIndex, selectedCFolio: -1 });\n    }\n    if (\n      currentIndex >= 0 &&\n      (newRenderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n    )\n      this.onProgressIteration();\n  }\n\n  _getCurrentIndex() {\n    const { cards, renderList, type } = this.state;\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n    let fixIndex = 0;\n\n    if (cards && renderList.length > 0) {\n      let currentIndex = -1;\n      if (type === 'myPack' && query.get('tokenId')) {\n        const curTokenId = ethers.BigNumber.from(query.get('tokenId'));\n        currentIndex = renderList.findIndex((elem) =>\n          elem.tokenId?.mask(128).eq(curTokenId.mask(128))\n        );\n        if (\n          currentIndex >= 0 &&\n          renderList[currentIndex]?.tokenId &&\n          !renderList[currentIndex]?.tokenId?.eq(curTokenId)\n        ) {\n          fixIndex = currentIndex;\n          currentIndex = -1;\n        }\n      } else if (type !== 'myPack' && query.get('cardId')) {\n        const curCardId = query.get('cardId');\n        currentIndex = renderList.findIndex(\n          (elem) => cards.cards[elem.level].cards[elem.index].id === curCardId\n        );\n      }\n      if (currentIndex < 0 && renderList.length > 0) {\n        this._fixUrl(fixIndex);\n        return;\n      }\n      if (this.state.currentIndex !== currentIndex) {\n        this.setState({ currentIndex, selectedCFolio: -1 });\n        if (\n          currentIndex >= 0 &&\n          (renderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n        )\n          this.onProgressIteration();\n      }\n    }\n  }\n\n  _fixUrl(index: number) {\n    const { history, location } = this.props;\n    const { renderList } = this.state;\n    const query = new URLSearchParams(location.search);\n    if (index < renderList.length) {\n      if (this.state.type === 'myPack') {\n        query.delete('tokenId');\n        const tokenId = renderList[index].tokenId;\n        if (tokenId) {\n          query.append('tokenId', tokenId.toHexString());\n        }\n        history.replace('?' + query.toString());\n        if (index === this.state.currentIndex) this.onProgressIteration();\n      }\n    }\n  }\n\n  _onBuy(): void {\n    const { cards, currentIndex, renderList } = this.state;\n    if (currentIndex >= 0 && cards) {\n      const current = renderList[this.state.currentIndex];\n      const status = current.sft\n        ? current.sft.status\n        : current.cfi\n        ? current.cfi.status\n        : 0;\n      const payload = {\n        type:\n          current.tokenId === undefined\n            ? SFT_BUY\n            : status > SFTS.LOCKED\n            ? SFT_PROOF\n            : status > 0\n            ? SFT_UNLOCK\n            : SFT_LOCK,\n        content: {},\n      };\n      const cardLevel = cards.cards[current.level];\n      payload.content = {\n        amount: cardLevel.price,\n        id: BigNumber.from(\n          current.tokenId === undefined\n            ? (cardLevel.chainRef << 8) |\n                cardLevel.cards[current.index].chainRef\n            : current.tokenId\n        ),\n      };\n      this.setState({ txPending: true });\n      StoreClasses.dispatcher.dispatch(payload);\n    }\n  }\n\n  _onClaim(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_CLAIM,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: renderList[currentIndex].sft?.boosterRewards.secsLeft\n          ? this.state.boosterExistingValue\n          : this.state.boosterNewValue,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onClaimBooster(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_CLAIM_BOOSTER,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: this.state.boosterRelock,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onUpgrade(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_UPGRADE,\n      content: {\n        id: renderList[currentIndex].tokenId,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  onProgressIteration() {\n    StoreClasses.dispatcher.dispatch({\n      type: SFT_REWARD,\n      content: {},\n    } as Payload);\n  }\n\n  toggleImage(event: React.MouseEvent<HTMLImageElement>) {\n    this.setState({\n      selectedCFolio:\n        this.state.selectedCFolio < 0\n          ? parseInt(event.currentTarget.getAttribute('data-id') || '-1')\n          : -1,\n    });\n  }\n\n  hideCB = () => {\n    this.setState({ modalOpen: false, transferOpen: false });\n  };\n\n  render(): JSX.Element {\n    const { history, t } = this.props;\n    const {\n      cards,\n      cfolios,\n      currentIndex,\n      selectedCFolio,\n      isWalletConnected,\n      renderList,\n      txPending,\n      type,\n      modalOpen,\n      transferOpen,\n      boosterExistingValue,\n      boosterNewValue,\n      boosterRelock,\n    } = this.state;\n\n    const currentRender =\n      currentIndex >= 0 ? renderList[currentIndex] : undefined;\n\n    const currentLevel =\n      cards && cfolios && currentRender\n        ? currentRender.cfi\n          ? cfolios[currentRender.level]\n          : cards.cards[currentRender.level]\n        : undefined;\n\n    const currentCard =\n      currentLevel && currentRender\n        ? currentLevel.cards[currentRender.index]\n        : undefined;\n\n    const noQuantity =\n      !currentCard ||\n      !currentRender ||\n      !currentLevel ||\n      (type !== 'myPack' &&\n        (currentCard as CARD).minted >= (currentLevel as CARD_LEVEL).quantity);\n\n    const levelId = currentRender?.cfi\n      ? 4\n      : (currentLevel as CARD_LEVEL)?.levelId ?? 0;\n\n    const sftStatus = currentRender?.sft\n      ? currentRender.sft.status\n      : currentRender?.cfi\n      ? currentRender.cfi.status\n      : 0;\n\n    const buttonText = !isWalletConnected\n      ? { l: t('header.connectWallet').toString(), d: true }\n      : noQuantity\n      ? { l: t('page4.noQuantity').toString(), d: true }\n      : txPending\n      ? { l: t('page4.txPending'), d: true }\n      : currentRender?.tokenId === undefined\n      ? { l: t('page4.buy', { name: currentCard?.name }).toString(), d: false }\n      : sftStatus === SFTS.BRIDGE_PENDING\n      ? {\n          l: t('page4.waitProof', { name: currentCard?.name }).toString(),\n          d: true,\n        }\n      : sftStatus === SFTS.BRIDGE_READY\n      ? {\n          l: t('page4.proof', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : sftStatus > 0\n      ? {\n          l: t('page4.unlock', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : {\n          l: t('page4.lock', { name: currentCard?.name }).toString(),\n          d: false,\n        };\n\n    // Create Navigation Links\n    let prevUrl: string | undefined, nextUrl: string | undefined;\n    if (renderList && renderList.length > 1) {\n      const prevIndex =\n        currentIndex > 0 ? currentIndex - 1 : renderList.length - 1;\n      const nextIndex =\n        currentIndex < renderList.length - 1 ? currentIndex + 1 : 0;\n      if (type === 'myPack') {\n        prevUrl = `?type=myPack&tokenId=${renderList[\n          prevIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n        nextUrl = `?type=myPack&tokenId=${renderList[\n          nextIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n      } else {\n        prevUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[prevIndex].level].cards[\n            renderList[prevIndex].index\n          ].id\n        }&scroll=false`;\n        nextUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[nextIndex].level].cards[\n            renderList[nextIndex].index\n          ].id\n        }&scroll=false`;\n      }\n    }\n\n    const backUrl =\n      type === 'myPack'\n        ? `my?type=myPack&levelId=${levelId}`\n        : `/shop?type=${type}&levelId=${levelId}`;\n\n    const assetIndex =\n      currentLevel?.type === 'bois' || currentLevel?.type === 'stableInvestment'\n        ? StoreClasses.store.getStableCurrencies().length - 1\n        : 0;\n\n    let price,\n      quantity,\n      autoUpgrade,\n      profitReward,\n      autoUpgradeText,\n      apr,\n      apy,\n      investment,\n      share;\n    if (currentRender?.cfi && currentCard) {\n      quantity = (currentCard as CFOLIO_ITEM).maxMintable;\n      investment =\n        currentRender?.cfi.assets[assetIndex].toFixed(6) +\n        ' ' +\n        (currentLevel as CFOLIO_ITEMS).token;\n    } else if (currentRender && currentLevel) {\n      quantity = (currentLevel as CARD_LEVEL).quantity;\n      autoUpgrade = (currentLevel as CARD_LEVEL).autoUpgrade;\n      if (autoUpgrade === '') autoUpgrade = undefined;\n      profitReward = currentRender?.sft\n        ? currentRender.sft.rewardRate / 10000\n        : (currentLevel as CARD_LEVEL).profitReward;\n      if (!currentRender?.sft) price = (currentLevel as CARD_LEVEL).price;\n      if (autoUpgrade && currentRender.sft) {\n        if (\n          sftStatus === 0 &&\n          profitReward === (currentLevel as CARD_LEVEL).profitReward\n        ) {\n          autoUpgrade =\n            60 * 86400 + currentRender.sft?.mintTimestamp - Date.now() / 1000;\n          const upgradeReward = (currentLevel as CARD_LEVEL).upgradeReward;\n          autoUpgradeText = txPending\n            ? t('page4.txPending')\n            : autoUpgrade <= 0\n            ? `UPGRADE TO ${upgradeReward} PROWESS NOW`\n            : `UPGRADE TO ${upgradeReward} PROWESS IN ` +\n              remainingFromSecs(autoUpgrade);\n        } else {\n          autoUpgrade = undefined;\n        }\n      }\n\n      if (profitReward && currentLevel) {\n        const rewardIndex = currentLevel.type === 'wolves' ? 0 : 1;\n        const rewardInfo =\n          StoreClasses.store.getAssets().rewardInfo[rewardIndex];\n        if (rewardInfo.apr) {\n          apr = (rewardInfo.apr * profitReward) / 100;\n          apy = StoreClasses.store.aprToApy(apr);\n          share = currentRender.sft?.rewardShare.toFixed(2);\n        }\n      }\n    }\n\n    const claimableAmount = currentRender?.sft\n      ? currentRender?.sft.rewardEarned +\n        currentRender?.sft.boosterRewards.pending\n      : 0;\n    const claimText =\n      currentRender?.sft &&\n      (currentRender.sft.cfolioItems.length > 0 || claimableAmount > 0)\n        ? !isWalletConnected\n          ? { l: t('header.connectWallet').toString(), d: true }\n          : txPending && !modalOpen && !transferOpen\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t('page4.claim', {\n                amount: claimableAmount.toFixed(6),\n              }).toString(),\n              d: sftStatus > 0 || claimableAmount === 0,\n            }\n        : undefined;\n\n    const renderCFolioItems = () => {\n      if (\n        currentRender?.sft &&\n        currentRender.sft.cfolioItems.length > 0 &&\n        this.imageContainerRef.current &&\n        cfolios\n      ) {\n        const topOffset =\n          currentRender.sft.cfolioItems.length > 1\n            ? Math.min(\n                (this.imageContainerRef.current.clientHeight - 82) /\n                  (currentRender.sft.cfolioItems.length - 1),\n                86\n              )\n            : 0;\n        const sftChild =\n          selectedCFolio >= 0 &&\n          selectedCFolio < currentRender.sft.cfolioItems.length &&\n          currentRender.sft.cfolioItems[selectedCFolio];\n        return (\n          <>\n            {currentRender.sft.cfolioItems.map((sftc, index) => {\n              const cfi = cfolios[sftc.levelId].cards[sftc.cardId];\n              return (\n                <img\n                  key={'cfi' + index}\n                  id=\"cfi-image\"\n                  data-id={index}\n                  onClick={this.toggleImage.bind(this)}\n                  className=\"selectable\"\n                  style={\n                    selectedCFolio !== index\n                      ? { right: '6px', top: 6 + index * topOffset + 'px' }\n                      : {\n                          right: '15%',\n                          zIndex: 20,\n                          top: '12px',\n                          transition: 'all 0.5s',\n                        }\n                  }\n                  height={selectedCFolio !== index ? '80px' : '70%'}\n                  alt={cfi.name}\n                  src={cfi.url.replace('{res}', '500')}\n                />\n              );\n            })}\n            <span\n              id=\"page4-content-image-inner-info\"\n              className=\"tk-vincente-lightbold\"\n              style={{ visibility: selectedCFolio < 0 ? 'hidden' : 'visible' }}\n            >\n              {sftChild && (\n                <>\n                  <h3>\n                    {cfolios[sftChild.levelId].cards[sftChild.cardId].name}\n                  </h3>\n                  <h3>\n                    {t('page.tokenId')}:{' '}\n                    {sftChild.tokenId.mask(128).toHexString()}\n                  </h3>\n                  <h3>\n                    {t('page.investment')}:{' '}\n                    {sftChild.assets[assetIndex].toFixed(6)}{' '}\n                    {cfolios[sftChild.levelId].token}\n                  </h3>\n                </>\n              )}\n            </span>\n          </>\n        );\n      }\n    };\n\n    const imgClass =\n      selectedCFolio < 0 ? 'card-visual' : 'card-visual monochrome';\n\n    const boosterState = (value: number, n: number): string => {\n      return value === n ? 'active' : 'select';\n    };\n\n    const boosterFuncN = (n: number) => {\n      return boosterNewValue === n\n        ? undefined\n        : () => this.setState({ boosterNewValue: n });\n    };\n\n    const boosterFuncR = (n: number) => {\n      return boosterRelock === n\n        ? undefined\n        : () => this.setState({ boosterRelock: n });\n    };\n\n    const boosterFuncE = (n: number) => {\n      return boosterExistingValue === n\n        ? undefined\n        : () => this.setState({ boosterExistingValue: n });\n    };\n\n    let boosterFarmButtonText, boosterButtonText, boosterPeriod;\n\n    const boosterTotal = currentRender?.sft?.boosterRewards.total.toFixed(2);\n    if (currentRender?.sft?.boosterRewards.secsLeft) {\n      switch (currentRender.sft.boosterRewards.apr) {\n        case 1.75:\n        case 1.875:\n          boosterPeriod = '6 months';\n          break;\n        case 1.3:\n          boosterPeriod = '3 months';\n          break;\n        case 1.0:\n          boosterPeriod = '1 month';\n          break;\n        default:\n          boosterPeriod = 'Unknown';\n      }\n    } else {\n      boosterPeriod = modalOpen && 'No period started';\n    }\n\n    if (modalOpen && currentRender?.sft) {\n      if (currentRender.sft.rewardEarned) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterExistingValue > 0;\n        } else {\n          lockRewards = boosterNewValue > 0;\n        }\n        boosterFarmButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.lockWows' : 'page4.claim', {\n                amount: currentRender.sft.rewardEarned.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n\n      if (currentRender.sft.boosterRewards.pending) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterRelock;\n        } else {\n          lockRewards = false;\n        }\n        boosterButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.relockWows' : 'page4.claim', {\n                amount: currentRender.sft.boosterRewards.pending.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n    }\n\n    const transferButtonText =\n      txPending && !transferOpen && !modalOpen\n        ? { l: t('page4.txPending'), d: true }\n        : { l: t('page4.transfer', { name: currentCard?.name }), d: false };\n\n    return (\n      <div\n        id=\"top\"\n        className={\n          'wolves-container wolves-header tk-grotesk-lightbold bg-' +\n          (currentLevel ? currentLevel.type : 'wolves')\n        }\n      >\n        <img src={Logo} alt=\"WOWS\" width=\"50px\" height=\"50px\" />\n        <h2 className=\"tk-vincente-lightbold no-margin\">\n          {t('page4.welcome-' + type)}\n        </h2>\n        <h4\n          className=\"tk-grotesk-lightbold\"\n          dangerouslySetInnerHTML={{ __html: t('page4.header-' + type) }}\n        />\n        {currentIndex >= 0 && (\n          <div className=\"back-level-container\">\n            <span\n              className=\"tk-vincente-lightbold font-24 content-margin c-pointer\"\n              onClick={() => history.push(backUrl)}\n            >\n              &lt;{t('page.back')}\n            </span>\n            <span className=\"tk-vincente-lightbold font-24 content-margin\">\n              {currentLevel ? cards?.levelNames[levelId] : ''}\n            </span>\n          </div>\n        )}\n        <span className=\"line-container\">\n          <span id=\"left\" className=\"dot\" />\n          <span className=\"line\" />\n          <span id=\"right\" className=\"dot\" />\n        </span>\n        <div\n          id=\"page4-section-header\"\n          className=\"tk-vincente-lightbold font-20 single-line\"\n        >\n          <span>\n            <span\n              className={`tk-vincente-lightbold font-24 single-line noselect ${\n                prevUrl ? 'c-pointer' : 'disabled-link'\n              }`}\n              onClick={() => (prevUrl ? history.push(prevUrl) : undefined)}\n            >\n              &lt;{t('page.previousCard')}\n            </span>\n          </span>\n          <span\n            className={`tk-vincente-lightbold font-24 single-line noselect ${\n              nextUrl ? 'c-pointer' : 'disabled-link'\n            } `}\n            onClick={() => (nextUrl ? history.replace(nextUrl) : undefined)}\n          >\n            {t('page.nextCard')}&gt;\n          </span>\n        </div>\n        {!isWalletConnected && type === 'myPack' ? (\n          <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n            Wallet is not connected.\n            <br /> Please connect your wallet.\n          </span>\n        ) : (\n          <div id=\"page4-content-container\">\n            <div id=\"page4-content-image\">\n              <div id=\"page4-content-image-inner\" ref={this.imageContainerRef}>\n                {currentCard &&\n                  (currentCard.type === 'movie' ? (\n                    <video\n                      disableRemotePlayback={true}\n                      className={imgClass}\n                      autoPlay={true}\n                      loop={true}\n                      src={currentCard.url.replace('{res}', '500')}\n                      poster={currentCard.url.replace('{res}', '300') + '.jpg'}\n                      playsInline\n                    />\n                  ) : (\n                    <img\n                      className={imgClass}\n                      src={currentCard.url.replace('{res}', '500')}\n                      alt={currentCard.name}\n                    />\n                  ))}\n                {sftStatus > 0 && (\n                  <div\n                    className={sftStatus > SFTS.LOCKED ? 'bridged' : 'locked'}\n                  />\n                )}\n                {renderCFolioItems()}\n              </div>\n            </div>\n            <div id=\"page4-content-text\" className=\"gro\">\n              {currentCard && (\n                <>\n                  <div>\n                    <h1\n                      className={\n                        'tk-vincente-lightbold h-1 single-line' +\n                        (currentRender?.tokenId !== undefined\n                          ? ' wolves-text-shaddow'\n                          : '')\n                      }\n                    >\n                      {currentCard.name}\n                    </h1>\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}:{currentCard.motto}\n                      </span>\n                    </h3>\n                    {currentRender?.tokenId !== undefined && (\n                      <h3 className=\"tk-vincente-lightbold\">\n                        <span>\n                          {` ${t('page.tokenId')}: 0x${currentRender?.tokenId\n                            .mask(128)\n                            .toHexString()\n                            .replace('0x', '')\n                            .toUpperCase()\n                            .padStart(8, '0')}`}\n                        </span>\n                      </h3>\n                    )}\n                    <p className=\"font-16\">{currentCard.description}</p>\n                    {currentRender?.sft && sftStatus < SFTS.BRIDGE_PENDING && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedSft'\n                            : 'page4.unlockedSft'\n                        )}\n                      </p>\n                    )}\n                    {currentRender?.cfi && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedCfi'\n                            : 'page4.unlockedCfi'\n                        )}\n                      </p>\n                    )}\n                    <ul className=\"tk-vincente-lightbold font-24 rarity-box\">\n                      <li>\n                        <h3 className=\"no-margin\">RARITY: 1/{quantity}</h3>\n                      </li>\n                      {profitReward && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.prowess')}: {profitReward}%{' '}\n                          </h3>\n                        </li>\n                      )}\n                      {boosterPeriod && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            <span\n                              className=\"ulink c-pointer\"\n                              onClick={() => this.setState({ modalOpen: true })}\n                            >\n                              {t('page4.booster', {\n                                period: boosterPeriod,\n                                amount: boosterTotal,\n                              })}\n                            </span>\n                          </h3>\n                        </li>\n                      )}\n                      {apr && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.aprapy', { apr, apy })}\n                          </h3>\n                        </li>\n                      )}\n                      {share && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.share', { share })}\n                          </h3>\n                        </li>\n                      )}\n                      {autoUpgrade && (\n                        <li>\n                          {typeof autoUpgrade !== 'number' ? (\n                            <h3 className=\"no-margin\">\n                              {t('page.autoUpgrade')}: {autoUpgrade}\n                            </h3>\n                          ) : (\n                            <input\n                              className=\"wolves-btn tk-grotesk-lightbold font-16 mt-1\"\n                              type=\"button\"\n                              value={autoUpgradeText}\n                              disabled={autoUpgrade > 0 || txPending}\n                              onClick={() => this._onUpgrade()}\n                            />\n                          )}\n                        </li>\n                      )}\n                      {price && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.price')}: {price} WOWS\n                          </h3>\n                        </li>\n                      )}\n                      {investment && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.investment')}: {investment}\n                          </h3>\n                        </li>\n                      )}\n                    </ul>\n                  </div>\n                  <div>\n                    {claimText && (\n                      <span className=\"p_relative\" style={{ display: 'block' }}>\n                        <input\n                          className=\"wolves-btn mt-1\"\n                          type=\"button\"\n                          value={claimText.l}\n                          disabled={claimText.d}\n                          onClick={() => this.setState({ modalOpen: true })}\n                        />\n                        {!txPending &&\n                          isWalletConnected &&\n                          currentRender?.sft &&\n                          currentRender.sft.cfolioItems.length > 0 && (\n                            <span\n                              onAnimationIteration={this.onProgressIteration}\n                              className=\"info-progress absolute\"\n                              style={{ marginLeft: '2px', marginRight: '2px' }}\n                            />\n                          )}\n                      </span>\n                    )}\n                    {currentRender?.sft && !currentRender?.sft?.status && (\n                      <input\n                        className=\"wolves-btn mt-1\"\n                        type=\"button\"\n                        value={transferButtonText.l}\n                        disabled={transferButtonText.d}\n                        onClick={() => this.setState({ transferOpen: true })}\n                      />\n                    )}\n                    <input\n                      className=\"wolves-btn mt-1\"\n                      type=\"button\"\n                      value={buttonText.l}\n                      disabled={buttonText.d}\n                      onClick={() => this._onBuy()}\n                    />\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        )}\n        {modalOpen && (\n          <Modal\n            show={true}\n            backdrop=\"static\"\n            onHide={this.hideCB}\n            animation={false}\n          >\n            <Modal.Header closeButton>\n              <span className=\"tk-vincente-bold font-28 lh-1 mb-0\">\n                BOOST MY REWARDS\n              </span>\n            </Modal.Header>\n            <Modal.Body>\n              <span className=\"tk-grotesk-lightbold\">\n                <p>\n                  Your can boost your rewards by locking them into the Booster.\n                  While the rewards are locked, you can claim 10% per month\n                  either directly into your wallet, or reinvest into the Booster\n                  to earn more.\n                </p>\n                <p>\n                  Once you have created a lock period, you cannot change it's\n                  expire time. But you can always add rewards into it.\n                </p>\n                <hr />\n                <span className=\"d-block w-100 text-center\">\n                  <b>Booster lock:</b> {boosterPeriod}\n                  {currentRender?.sft?.boosterRewards.secsLeft && (\n                    <>\n                      <br />\n                      <b>Terminate:</b>{' '}\n                      {remainingFromSecs(\n                        currentRender.sft.boosterRewards.secsLeft\n                      )}\n                      <br />\n                      <b>Locked Amount:</b> {boosterTotal} WOWS\n                      <br />\n                      <b>APR:</b> {currentRender.sft.boosterRewards.apr * 100} %\n                    </>\n                  )}\n                </span>\n                {currentRender?.sft && currentRender.sft.rewardEarned > 0 && (\n                  <>\n                    <hr />\n                    <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                      FARM REWARDS\n                    </span>\n                    {currentRender.sft.boosterRewards.secsLeft ? (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterExistingValue, 1)}\n                          onClick={boosterFuncE(1)}\n                        >\n                          Lock into Booster\n                        </div>\n                        <div\n                          className={boosterState(boosterExistingValue, 0)}\n                          onClick={boosterFuncE(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterNewValue, 2592000)}\n                          onClick={boosterFuncN(2592000)}\n                        >\n                          1 month (100% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 7776000)}\n                          onClick={boosterFuncN(7776000)}\n                        >\n                          3 months (130% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 15552000)}\n                          onClick={boosterFuncN(15552000)}\n                        >\n                          6 months (175% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 0)}\n                          onClick={boosterFuncN(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    )}\n                    <button\n                      className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                      onClick={() => this._onClaim()}\n                      disabled={boosterFarmButtonText?.d}\n                    >\n                      {boosterFarmButtonText?.l}\n                    </button>\n                  </>\n                )}\n                {currentRender?.sft &&\n                  currentRender.sft.boosterRewards.pending > 0 && (\n                    <>\n                      <hr />\n                      <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                        BOOSTER REWARDS\n                      </span>\n                      {currentRender.sft.boosterRewards.secsLeft && (\n                        <div className=\"lock-container\">\n                          <div\n                            className={boosterState(boosterRelock, 1)}\n                            onClick={boosterFuncR(1)}\n                          >\n                            Relock into Booster\n                          </div>\n                          <div\n                            className={boosterState(boosterRelock, 0)}\n                            onClick={boosterFuncR(0)}\n                          >\n                            Claim into wallet\n                          </div>\n                        </div>\n                      )}\n                      <button\n                        className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                        onClick={() => this._onClaimBooster()}\n                        disabled={boosterButtonText?.d}\n                      >\n                        {boosterButtonText?.l}\n                      </button>\n                    </>\n                  )}\n              </span>\n            </Modal.Body>\n          </Modal>\n        )}\n        {transferOpen &&\n          !currentRender?.sft?.status &&\n          currentRender?.tokenId && (\n            <Transfer\n              tokenId={currentRender.tokenId}\n              name={currentCard?.name ?? 'UNKNOWN'}\n              show={true}\n              hideCB={this.hideCB}\n            />\n          )}\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Page4);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './pageStatus.css';\n\nimport { getInjectedProvider } from 'web3modal';\n\nfunction isMobile(): boolean {\n  let mobile = false;\n\n  function hasTouchEvent(): boolean {\n    try {\n      document.createEvent('TouchEvent');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function hasMobileUserAgent(): boolean {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n        navigator.userAgent\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n        navigator.userAgent.substr(0, 4)\n      )\n    ) {\n      return true;\n    } else if (hasTouchEvent()) {\n      return true;\n    }\n    return false;\n  }\n\n  mobile = hasMobileUserAgent();\n\n  return mobile;\n}\n\nfunction replaceLogo(key: string, value: string): string {\n  return key === 'logo' && value !== '' ? '[ImageData]' : value;\n}\n\nexport function PageStatus(props: unknown): JSX.Element {\n  return (\n    <div id=\"page-status\" className=\"wolves-container\">\n      <h2>InjectedProvider</h2>\n      <pre>{JSON.stringify(getInjectedProvider(), replaceLogo, 2)}</pre>\n      <h2>window.ethereum</h2>\n      <pre>{JSON.stringify(window.ethereum, null, 2)}</pre>\n      <h2>IsMobile</h2>\n      <pre>{isMobile() ? 'true' : 'false'}</pre>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport 'react-toastify/dist/ReactToastify.css';\nimport './wolftoast.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport {\n  toast,\n  ToastContainer,\n  ToastOptions,\n  UpdateOptions,\n} from 'react-toastify';\n\nimport logo from '../../assets/wolves-token_99.png';\nimport {\n  ADDRESS_COPIED,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport { ConnectResult, StatusResult, StoreClasses } from '../../stores/store';\n\nexport type ToastMessage = {\n  type: ['info' | 'success' | 'failure'];\n  message: string;\n  autoClose: number | false;\n};\n\ntype TOASTSTATE = {\n  show: boolean;\n};\n\ntype TOASTPROPS = {\n  t: TFunction;\n};\n\nclass WolfToast extends Component<TOASTPROPS, TOASTSTATE> {\n  t: TFunction;\n  txId: React.ReactText | undefined;\n  connectId: React.ReactText | undefined;\n\n  constructor(props: TOASTPROPS) {\n    super(props);\n    this.t = this.props.t;\n\n    this.onAddressCopied = this.onAddressCopied.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onTransaction = this.onTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(ADDRESS_COPIED, this.onAddressCopied);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.on(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, this.onTransaction);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(REVOKE_APPROVAL, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ADDRESS_COPIED, this.onAddressCopied);\n  }\n\n  onAddressCopied(): void {\n    toast(this._formatToast(undefined, this.t('toast.addressCopied')), {\n      autoClose: 2000,\n    });\n  }\n\n  onConnectionChanged(result: ConnectResult): void {\n    if (result.type !== 'event') {\n      const msg = this.t(\n        result.address === ''\n          ? 'toast.walletDisconnected'\n          : 'toast.walletConnected'\n      );\n      this.connectId = this._updateToast(this.connectId, {\n        render: this._formatToast(undefined, msg),\n        autoClose: 2000,\n      });\n    }\n  }\n\n  onTransaction(result: StatusResult) {\n    if (result.status === 'approve')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          undefined,\n          this.t('toast.transactionApproving')\n        ),\n        autoClose: false,\n      });\n    else if (result.status === 'tx')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(undefined, this.t('toast.transactionMined')),\n        autoClose: false,\n      });\n    else if (result.status === 'success')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'success',\n          this.t('toast.transactionFinished')\n        ),\n        autoClose: 3000,\n      });\n    else\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'failure',\n          result.errorMessage || this.t('toast.undefinedError')\n        ),\n        autoClose: 5000,\n      });\n  }\n\n  _updateToast(\n    key: React.ReactText | undefined,\n    options: UpdateOptions\n  ): React.ReactText | undefined {\n    if (key && toast.isActive(key)) {\n      toast.update(key, options);\n    } else {\n      key = toast(options.render, options as ToastOptions);\n    }\n    return key;\n  }\n\n  _formatToast(type: string | undefined, message: string): ReactNode {\n    const className = type ? 'wolflogo wolflogo--' + type : 'wolflogo';\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <img\n          alt=\"logo\"\n          src={logo}\n          className={className}\n          width=\"24px\"\n          height=\"24px\"\n        />\n        <span style={{ display: 'block', flexGrow: 1 }}>{message}</span>\n      </div>\n    );\n  }\n\n  render(): ReactNode {\n    return <ToastContainer position=\"bottom-left\" pauseOnFocusLoss={false} />;\n  }\n}\n\nexport default withTranslation()(WolfToast);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './App.css';\nimport './wolves_scheme.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './components/theme/button/wolve_button.css';\nimport './components/theme/form/input/wolve_input.css';\n\nimport React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport CFolioInvest from './components/CFolioInvest';\nimport CFolioItemSfts from './components/CFolioItemSfts';\nimport CFolioManager from './components/CFolioManager/CFolioManager';\nimport Footer from './components/footer';\nimport Header from './components/header';\nimport Page1 from './components/page1';\nimport Page3 from './components/page3';\nimport Page4 from './components/page4';\nimport { PageStatus } from './components/pageStatus';\nimport WolfToast from './components/toast/wolftoast';\nimport { CONNECTION_CHANGED } from './stores/constants';\nimport { ConnectResult, StoreClasses, StoreContainer } from './stores/store';\n\ntype APP_STATE = {\n  isSideChain: boolean;\n};\n\nclass App extends React.Component<unknown, APP_STATE> {\n  constructor(props: unknown) {\n    super(props);\n    this.state = { isSideChain: false };\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  setNetwork = (result: ConnectResult): void => {\n    if (result.type === 'prod' && result.address !== '') {\n      this.setState({ isSideChain: StoreClasses.store.isSidechain() });\n    }\n  };\n\n  render(): JSX.Element {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <StoreContainer>\n            <WolfToast />\n            <Route component={Header} />\n            <Switch>\n              {!this.state.isSideChain && (\n                <Route\n                  path=\"/shop\"\n                  render={(props) => <Page3 {...props} display={'shop'} />}\n                />\n              )}\n              <Route\n                path=\"/my\"\n                render={(props) => <Page3 {...props} display={'my'} />}\n              />\n              <Route path=\"/detail\" component={Page4} />\n              <Route path=\"/status\" component={PageStatus} />\n              <Route path=\"/cfolio-sfts\" component={CFolioItemSfts} />\n              {this.state.isSideChain && (\n                <Route path=\"/cfolio-invest\" component={CFolioInvest} />\n              )}\n              {this.state.isSideChain && (\n                <Route path=\"/c_folio_manager\" component={CFolioManager} />\n              )}\n              <Route component={Page1} />\n            </Switch>\n            <Footer />\n          </StoreContainer>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport { ReportHandler } from 'web-vitals/src/types';\n\nconst reportWebVitals: (onPerfEntry: ReportHandler) => void = (\n  onPerfEntry: ReportHandler\n) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './i18n';\nimport './index.css';\nimport 'assets/fonts/wp_fonts.css';\nimport 'assets/fonts/font_variants.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}