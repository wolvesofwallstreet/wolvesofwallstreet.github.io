{"version":3,"sources":["stores/polygon/MessageProof.tsx","i18n.ts","stores/store.tsx","assets/openwallet_low.png","stores/constants.tsx","assets/coinbase-wallet.svg","components/controls/image_slider.tsx","components/Approval/Approval.tsx","components/controls/asset_input.tsx","components/CFolioInvest/Stable/Stable.tsx","components/CFolioInvest/StakeLP/StakeLP.tsx","components/CFolioInvest/CFolioInvest.tsx","components/types/cards.ts","components/CFolioItemSfts/CFolioItemSfts.tsx","components/CFolioManager/CFolioManager.tsx","assets/icons_discord.svg","assets/icons_etherscan.svg","assets/icons_github.svg","assets/icons_TG.svg","assets/icons_Twitter.svg","components/social/social.tsx","components/footer/footer.tsx","assets/wolves_sft_logo.svg","components/header/header.tsx","assets/bois_shadow.png","assets/wolves_shadow.png","components/page1/page1.tsx","assets/wolves-token_99.png","components/page3/cardbox.tsx","components/page3/page3.tsx","utils/utils.tsx","components/page4/Transfer/Transfer.tsx","components/page4/page4.tsx","components/pageStatus/pageStatus.tsx","components/toast/wolftoast.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CPM_ABI","anonymous","inputs","indexed","internalType","name","type","constant","outputs","payable","stateMutability","GRAPH_BASE","GRAPH_ACCOUNT","MerkleTree","leaves","layers","length","Error","depth","Math","ceil","log","this","concat","Array","from","pow","zeros","createHashes","nodes","treeLevel","i","left","right","data","Buffer","push","keccak","MessageProof","ethereumProvider","chainId","checkPointManagerAddress","account","rootTunnel","childTunnel","cb","provider","checkPointManager","localStorageKey","localStorageItems","newBlockFilter","rootGraph","childGraph","changed","launchBlock","changeHandler","_onNewHeaderBlock","result","_findHeaderBlockNumber","_setup","a","_scanPendingTokenIds","pendingItems","getLastChildBlock","lastChildBlock","toNumber","scanHeaderTo","pI","headerBlockId","txBlockNumber","scanHeaderFrom","rootBlock","ethLastHeaderScanned","on","getBlockNumber","ethBlockNumber","query","fetch","method","headers","body","json","results","syncedBlockNumber","indexingStatusForCurrentVersion","chains","latestBlock","number","polygonLastScanned","getBlock","mumbaiTime","timestamp","bridgeItems","Map","sftTransferEntities","ent","tokenIds","map","tid","ethers","BigNumber","toHexString","join","item","get","count","hash","polygonBlockNumber","txHash","parseInt","block","logTimestamp","blockTimestamp","trunc","set","ethLastScanned","keys","key","value","split","pending","sort","b","window","localStorage","setItem","JSON","stringify","setTimeout","console","providers","JsonRpcProvider","LSKMUMBAI","LSKMATIC","Contract","items","getItem","indexOf","parse","filters","NewHeaderBlock","tokenId","tokenIdHex","filter","elem","includes","available","flat","find","buildPayloadForExit","getTransactionReceipt","receipt","send","utils","hexValue","blockNumber","lt","headerBlocks","headerBlock","_buildBlockProof","start","end","blockProof","_getReceiptProof","receiptProof","logIndex","logs","findIndex","topics","toLowerCase","_encodePayload","transactionsRoot","slice","receiptsRoot","_getReceiptBytes","parentNodes","path","headerNumber","buildBlockProof","receiptParentNodes","bufferToHex","rlp","encode","scanStart","scanEnd","eventLogs","piIndex","fromBlock","toBlock","getLogs","parsed","interface","parseLog","args","off","_getFastMerkleProof","proof","p","toBuffer","merkleTreeDepth","log2","reversedProof","targetIndex","offset","leftBound","rightBound","newLeftBound","newRightBound","expectedHeight","subTreeHeight","heightDifference","remainingNodesHash","nLeaves","pivotLeaf","min","_queryRootHash","leafRoots_1","_recursiveZeroHash","subTreeMerkleRoot","getRoot","reverse","n","subHash","keccak256","defaultAbiCoder","stateSyncTxHash","_getStateSyncTxHash","receiptsTrie","BaseTrie","receiptPromises","transactions","tx","Promise","all","receipts","siblingReceipt","transactionIndex","rawReceipt","put","findPath","node","remaining","blockHash","stack","s","raw","root","_getRawHeader","receiptTrie","decode","encodedData","undefined","status","cumulativeGasUsed","logsBloom","l","address","toString","fromUtf8","setLengthLeft","blockHeaderFromRpc","resources","en","translation","zh","i18n","use","detector","initReactI18next","init","detection","order","supportedLngs","fallbackLng","interpolation","escapeValue","SFTS","ASSETS_STATE","REVOKE_APPROVAL","ADDRESS_COPIED","CONNECTION_CHANGED","SFT_BUY","SFT_CLAIM","SFT_CLAIM_BOOSTER","SFT_LOCK","SFT_PROOF","SFT_REWARD","SFT_TRANSFER","SFT_UNLOCK","SFT_UPGRADE","CFOLIO_ITEM_BUY","CFOLIO_ITEM_DEPOSIT","CFOLIO_ITEM_WITHDRAW","CFOLIO_ITEM_UNLOCK_TRANSFER","emitter","Emitter","EventEmitter","dispatcher","Dispatcher","BIGNUMBER_MAX","STABLE_CURRENCIES","readUint256","substr","AsyncLock","disable","promise","alert","resolve","Store","web3Modal","ethersProvider","eventProvider","ethersSigner","isWSEventProvider","tokenContract","cfihLpContract","cfihScContract","sftEvaluatorContract","boosterContract","sftHolderContractRO","sftMintContractRO","tradeFloorContractRO","lpContractRO","uniDaiWethPairContractRO","curveDepositContractRO","cfolioFarmLpAddress","cfolioFarmScAddress","bridgeTargetAddress","networkName","accountId","tokenContractAddress","nullAddress","lastAprTime","eventsSuspended","lock","dispatchQueue","polygonBridge","assets","balances","WOWS","decimals","dust","DUST_18","allowance","USDC","DUST_6","USDT","DAI","TUSD","yCrv","am3Crv","userSFT","cards","levelNames","myPackLevelDescriptions","cfolioItems","rewardInfo","total","rewardDuration","rewardPerDuration","priceWOWS","priceToken","apr","getAssets","handleBridgeChange","dispatch","content","connect","disconnect","endpoint","getEndpoint","web3Provider","subscribeProvider","Web3Provider","listAccounts","accounts","getAddress","getNetwork","network","_launchEventProvider","_setupContracts","_emitNetworkChange","getSigner","chainAddresses","_getChainAddresses","p_checkpointManager","polygonRootTunnelProxy","p_childTunnel","autoconnect","URLSearchParams","location","search","defaultChain","defaultAccountId","cachedProvider","clearCache","fireEvent","removeItem","removeAllListeners","clearCachedProvider","close","e","wsEventProvider","_websocket","onclose","onerror","destroy","isConnected","isEventConnected","_addDQ","payload","_resolveDQ","forEach","enable","startsWith","WebSocketProvider","InfuraProvider","getWebSocketProvider","process","_setupEventContracts","emit","_setupEvents","switchChain","chain","ethereum","newChain","request","params","code","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","symbol","_getSftState","payloadContent","levels","cardIds","level","card","chainRef","isSidechain","getBaseSpec","sftResult","index","price","fromWei","prices","quantity","maxMintable","minted","numMinted","cfolioTypes","getCFolioSpec","cfolioResult","message","_getUserSft","getTokenIds","bridgeToken","mergeList","t","newUserSFT","mask","lte","BASE_CARD_MAX","bn","cr","cardIndex","levelIndex","c","bridgeItem","eq","levelId","cardId","isBaseCard","isStockCard","STOCK_CARD_MAX","isWallet","BRIDGE_READY","BRIDGE_PENDING","LOCKED","UNLOCKED","rewardRate","rewardShare","rewardEarned","mintTimestamp","boosterRewards","gt","unshift","getTokenInformation","result2","readIndex","destinationId","sft","numCFolios","childId","child","numAssets","bidx","getStableCurrencies","_getSftRewards","plc","contracts","sfts","getRewardInfo","cfiResult","ri","boosterLocked","boosterPending","boosterApr","secsLeft","boosterSecsLeft","_updatePoolAPR","_getAssetsBalances","input","Object","entries","getErc20Balances","_getAssetsAllowances","spender","handlerAddress","getErc20Allowances","mul","_doSftBuy","amount","id","sftAmount","toWei","balanceOf","walletAmount","cardData","sftMintContract","approve","_checkUnlimited","wait","mintWowsSFT","errorMessage","error","_doSftLock","sftHolderContract","safeTransferFrom","_doSftTransfer","_doSftMessageProof","processPending","contract","RootTunnelAbi","receiveMessage","resetPending","_doSftUnlock","tradeFloorContract","burn","_doCFolioItemBuy","wowsAmount","investAmount","sftTokenId","cfolioType","weiAmount","investWeiAmounts","_investmentApproval","additionalGas","options","estimateGas","mintCFolioItemSFT","gasEstimation","gasLimit","_doCFolioItemDeposit","cfolioTokenId","cfihContract","deposit","_setCFolioAmount","msgType","cfiType","requireOneSet","cfiLevel","cf","cfc","approvalContracts","oneSet","oneStableSet","balance","approvalContract","ERC20Abi","investWeiAmount","sub","_doCFolioItemWithdraw","tokenIdToAddress","cfa","getAmounts","cfolioAmounts","withdrawWeiAmounts","withdrawWeiAmount","withdraw","transactionHash","_doCFolioItemUnlockAndTransfer","src","dst","lockedCFIs","transferCFIs","dstAddress","burnBatch","fill","srcAddress","safeBatchTransferFrom","_doSftClaim","mintContract","claimSFTRewards","time","_doSftClaimBooster","claimRewards","_doSftUpgrade","setRewardRate","_setRewardRate","_doRevokeApproval","currency","providerOptions","walletconnect","package","WalletConnectProvider","infuraId","display","logo","WalletLinkLogo","description","appName","networkUrl","WalletLink","connector","_","walletLink","makeWeb3Provider","providerInfo","getInjectedProvider","injected","getProviderDescription","Web3Modal","cacheProvider","register","_payload","then","default","wss","wssEndpoint","rpcEndpoint","handleTransfer","operator","to","addresses","token","uniV2Pair","UniV2PairAbi","sftHolderProxy","SFTHolderAbi","sftMinterProxy","SFTMinterAbi","tradeFloorProxy","TradeFloorAbi","cfolioFarmLP","cfolioFarmSC","uniDaiWeth","curveADeposit","CurveDepositAbi","curveYDeposit","usdcToken","usdtToken","daiToken","tusdToken","curveYToken","curveAToken","cfolioItemHandlerLPProxy","cfolioItemHandlerSCProxy","signer","TokenAbi","CFolioItemHandlerAbi","sftEvaluatorProxy","SftEvaluatorAbi","boosterProxy","BoosterAbi","bridgeTarget","cfolio","iface","Interface","CFolioFarmAbi","stableCurrencies","isft","amounts","e18","getReserves","daiWethReserves","wethPrice","reserve0","reserve1","div","wowsWethReserves","wowsPrice","stakedPrice","totalSupply","wowsWethTotalSupply","poolPrice","add","calc_withdraw_one_coin","emmission","apy","toFixed","parseFloat","formatUnits","parseUnits","defaultReturn","StoreClasses","store","StoreContainer","addEventListener","mount","unmount","props","children","React","Component","ImageSlider","sliderId","initCallback","onSlideChanged","slideWidth","slides","startSlideId","checkbox","toolTippLink","containerRef","useRef","useState","currentIndex","setCurrentIndex","checked","setChecked","displayIndex","setDisplayIndex","setLeft","width","setWidth","useTransition","enableTransition","go","prev","next","useEffect","current","clientWidth","resizeListener","removeEventListener","className","ref","style","onClick","newChecked","select","cfi","disabled","locked","height","url","alt","withTranslation","hideCB","show","redraw","setRedraw","useReducer","state","action","approving","setApproving","checkMask","assetState","handleRevoke","Modal","onHide","animation","size","Header","closeButton","Title","Body","k","v","onChange","setCheck","target","defaultChecked","revoke","Footer","AssetInput","defaultValue","maxAmount","minAmount","hasFocus","setHasFocus","amountChanged","setAmountChanged","inputRef","verifyAndCb","useCallback","num","NaN","maxVisible","autoComplete","onFocus","onBlur","event","replace","hidden","cfolioItem","investCurrency","nftPrice","nftType","beforeBuy","tabOption","setTabOption","currencyIndex","setCurrencyIndex","checkedIndex","setCheckedIndex","inputVals","setInputVals","txRunning","setTXRunning","modal","showModal","currencies","curMaxAmount","resetTx","newValues","isNaN","vc","buttonText","renderSpan","caption","spanText","setCurrentValue","flexBasis","handleBuy","setInvestAmount","hasSft","setHasSft","inputVal","setInputVal","onAssetsState","rel","href","_getTokenContractAddress","CFolioInvest","receiverImages","sliderInterface","slideIndex","displayType","continueBuy","beforeBuyCallback","cfiRender","currentImage","modalOpen","setState","_onAssetsState","bind","sliderCB","val","history","newDisplayType","_updateImages","newTokenId","delete","newImages","allowedLevel","tokenIdIdx","_cfolioItemsForSlider","WalletLogo","_updateCFolioItems","handleImageChange","change","setCurrentImage","renderItem","renderCFolioItem","cfolioItemCard","scroll","controlAttr","shortDescription","sliderInit","motto","backdrop","INITIAL_CFOLIO_ITEMS","title","INITIAL_STATE","currentType","CFolioItemSfts","_updateContent","storeItems","cardRender","CFolioManager","cfolioItemCards","sliderInterfaces","sliderIndex","sliderImagesMiddleAll","txPending","sliderImagesTop","sliderImagesMiddle","sliderImagesBottom","checkedMiddle","onTransfer","setSliderIndex","_getSftImages","_createSliderImages","pred","pred2","topImages","bottomImages","constraints","cfiCard","cat","category","_filterSliderImagesMiddle","onlyIfChanged","pos","lockedCount","majority","buttonState","Social","twitter","etherscan","github","discord","telegram","privacyFile","privacyTerms","policyChanged","text","policy","loadTerms","dangerouslySetInnerHTML","__html","handleSubmit","onConnectionChanged","renderDropDown","preventDefault","substring","dropdownItems","pathname","isActiveNav","random","shortAddress","_shortAddress","navItems","_getNavItems","Navbar","bg","variant","expand","Toggle","Brand","as","Link","Image","Collapse","navItem","Form","onSubmit","section","WolvesLogo","BoisLogo","CardBox","cardType","prowess","investment","earned","progressRefs","progressRef","splice","disableRemotePlayback","autoPlay","loop","poster","playsInline","topOffset","sftc","top","renderCFolioItems","padStart","INITIAL_PAGE3_STATE","contentLoaded","contentChanged","isWalletConnected","Page3","levelDescription","walletTokenIds","levelFilter","nextLevel","prevLevel","scrollOnUpdate","mainRef","createRef","progessStart","Date","progressInterval","_updateRewards","_checkContent","scrollIntoView","clearInterval","newType","newLevelId","idx","header","hasCFolioItems","setInterval","_ticker","defaultLevelId","levelLength","perc","getTime","levelPosition","hasMoreLevels","Logo","remainingFromSecs","secondsLeft","secInHour","secInMinute","days","floor","hours","minutes","seconds","canBridge","tOption","setTOption","setBridgeTarget","customAddress","setCustomAddress","getBridgeTarget","transferState","transferFunc","d","addressvalid","marginTop","paddingLeft","INITIAL_PAGE4_STATE","renderList","selectedCFolio","transferOpen","boosterExistingValue","boosterNewValue","boosterRelock","Page4","needUpdate","imageContainerRef","cfolios","onSFTTransaction","scrollTo","append","_getCurrentIndex","fixIndex","newRenderList","curTokenId","curCardId","index1","index2","_fixUrl","onProgressIteration","cardLevel","currentTarget","getAttribute","prevUrl","nextUrl","currentRender","currentLevel","currentCard","noQuantity","sftStatus","prevIndex","nextIndex","autoUpgrade","profitReward","autoUpgradeText","share","backUrl","assetIndex","now","upgradeReward","rewardIndex","aprNum","aprToApy","boosterFarmButtonText","boosterButtonText","boosterPeriod","claimableAmount","claimText","imgClass","boosterState","boosterFuncN","boosterFuncR","boosterFuncE","boosterTotal","lockRewards","transferButtonText","clientHeight","sftChild","toggleImage","zIndex","transition","visibility","toUpperCase","period","_onUpgrade","onAnimationIteration","marginLeft","marginRight","_onBuy","_onClaim","_onClaimBooster","isMobile","test","navigator","userAgent","document","createEvent","hasTouchEvent","replaceLogo","PageStatus","WolfToast","txId","connectId","onAddressCopied","onTransaction","toast","_formatToast","autoClose","msg","_updateToast","render","isActive","update","alignItems","flexGrow","position","pauseOnFocusLoss","App","setNetwork","isSideChain","component","Page1","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2b0e63a8.chunk.js","sourcesContent":["/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n//import { Buffer } from 'safe-buffer';\nimport { BlockHeader } from '@ethereumjs/block/dist/header';\nimport blockHeaderFromRpc from '@ethereumjs/block/dist/header-from-rpc';\nimport {\n  bufferToHex,\n  fromUtf8,\n  keccak,\n  keccak256,\n  rlp,\n  setLengthLeft,\n  toBuffer,\n  zeros,\n} from 'ethereumjs-util';\nimport { ethers } from 'ethers';\nimport { BaseTrie } from 'merkle-patricia-tree';\n\nconst CPM_ABI = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'proposer',\n        type: 'address',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'headerBlockId',\n        type: 'uint256',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'reward',\n        type: 'uint256',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'start',\n        type: 'uint256',\n      },\n      { indexed: false, internalType: 'uint256', name: 'end', type: 'uint256' },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'root',\n        type: 'bytes32',\n      },\n    ],\n    name: 'NewHeaderBlock',\n    type: 'event',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'currentHeaderBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'getLastChildBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    name: 'headerBlocks',\n    outputs: [\n      { internalType: 'bytes32', name: 'root', type: 'bytes32' },\n      { internalType: 'uint256', name: 'start', type: 'uint256' },\n      { internalType: 'uint256', name: 'end', type: 'uint256' },\n      { internalType: 'uint256', name: 'createdAt', type: 'uint256' },\n      { internalType: 'address', name: 'proposer', type: 'address' },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n];\n\nconst SEND_MESSAGE_SIG =\n  '0x8c5261668696ce22758910d05bab8f186d6eb247ceac2af2e82c7dc17669b036';\n\nconst GRAPH_BASE = 'https://api.thegraph.com/subgraphs/name/';\nconst GRAPH_INDEX = 'https://api.thegraph.com/index-node/graphql';\nconst GRAPH_ACCOUNT = 'havan/';\n\ntype HeaderBlock = {\n  root: string;\n  start: ethers.BigNumber;\n  end: ethers.BigNumber;\n  createdAt: ethers.BigNumber;\n  proposer: string;\n};\n\ntype RawBlock = {\n  hash: string;\n  number: string;\n  timestamp: string;\n  transactionsRoot: string;\n  receiptsRoot: string;\n  transactions: [{ hash: string }];\n};\n\ntype PendingItem = {\n  rootBlock: number; // The blocknumber on the root chain at create tie\n  headerBlockId: number; // The header blockId (checkpointed)\n  tokenIds: string[];\n  txHash: string; // Child chain TX hash\n  txBlockNumber: number; // Child chain block number\n  pending: boolean;\n};\n\ntype Storage = {\n  ethLastHeaderScanned: number;\n  ethLastScanned: number;\n  polygonLastScanned: number;\n  pendingItems: PendingItem[];\n};\n\ntype CB_FUNC = () => void;\n\nclass MerkleTree {\n  leaves: Buffer[];\n  layers: Buffer[][];\n\n  constructor(leaves: Buffer[]) {\n    if (leaves === void 0) {\n      leaves = [];\n    }\n    if (leaves.length < 1) {\n      throw new Error('Atleast 1 leaf needed');\n    }\n    const depth = Math.ceil(Math.log(leaves.length) / Math.log(2));\n    if (depth > 20) {\n      throw new Error('Depth must be 20 or less');\n    }\n    this.leaves = leaves.concat(\n      Array.from(Array(Math.pow(2, depth) - leaves.length), function () {\n        return zeros(32);\n      })\n    );\n    this.layers = [this.leaves];\n    this.createHashes(this.leaves);\n  }\n\n  createHashes(nodes: Buffer[]) {\n    if (nodes.length === 1) {\n      return false;\n    }\n    const treeLevel = [];\n    for (let i = 0; i < nodes.length; i += 2) {\n      const left = nodes[i];\n      const right = nodes[i + 1];\n      const data = Buffer.concat([left, right]);\n      treeLevel.push(keccak(data));\n    }\n    // is odd number of nodes\n    if (nodes.length % 2 === 1) {\n      treeLevel.push(nodes[nodes.length - 1]);\n    }\n    this.layers.push(treeLevel);\n    this.createHashes(treeLevel);\n  }\n\n  getRoot(): Buffer {\n    return this.layers[this.layers.length - 1][0];\n  }\n}\n\n//////////////////////////////////////////////////////////////////////////////\n// MainClass\n//////////////////////////////////////////////////////////////////////////////\n\nexport class MessageProof {\n  provider: ethers.providers.JsonRpcProvider;\n  checkPointManager: ethers.Contract;\n  localStorageKey: string;\n  localStorageItems: Storage;\n  newBlockFilter: ethers.EventFilter;\n  account: string;\n  rootTunnel: string;\n  childTunnel: string;\n  rootGraph: string;\n  childGraph: string;\n  changed = false;\n  launchBlock = 0;\n  changeHandler: CB_FUNC;\n\n  static LSKMUMBAI = 'mumbai_goerli_bridge';\n  static LSKMATIC = 'matic_mainnet_bridge';\n\n  constructor(\n    ethereumProvider: ethers.providers.Provider,\n    chainId: number,\n    checkPointManagerAddress: string,\n    account: string,\n    rootTunnel: string,\n    childTunnel: string,\n    cb: CB_FUNC\n  ) {\n    if (chainId === 5) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://rpc-mumbai.maticvigil.com/'\n      );\n      this.rootGraph = 'sft-token-transfers-goerli';\n      this.childGraph = 'sft-token-transfers-maticmum';\n      this.localStorageKey = MessageProof.LSKMUMBAI + '_' + account;\n    } else if (chainId === 1) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://polygon-rpc.com/'\n      );\n      this.rootGraph = 'sft-token-transfers-mainnet';\n      this.childGraph = 'sft-token-transfers-matic';\n      this.localStorageKey = MessageProof.LSKMATIC + '_' + account;\n    } else {\n      this.localStorageKey = '';\n      throw new Error('Unsupported chainId');\n    }\n\n    this.checkPointManager = new ethers.Contract(\n      checkPointManagerAddress,\n      CPM_ABI,\n      ethereumProvider\n    );\n\n    const items = window.localStorage.getItem(this.localStorageKey);\n    // Migrate from old format\n    if (items && items.indexOf('ethLastHeaderScanned') > 0) {\n      this.localStorageItems = JSON.parse(items);\n    } else {\n      this.localStorageItems = {\n        ethLastHeaderScanned: 1,\n        ethLastScanned: 1,\n        polygonLastScanned: chainId === 5 ? 18923386 : 19420655,\n        pendingItems: [],\n      };\n    }\n\n    this.newBlockFilter = this.checkPointManager.filters.NewHeaderBlock();\n    this.account = account;\n    this.rootTunnel = rootTunnel;\n    this.childTunnel = childTunnel;\n    this.changeHandler = cb;\n\n    this._setup();\n  }\n\n  removeItem(tokenId: ethers.BigNumber): void {\n    if (this.localStorageKey) {\n      const tokenIdHex = tokenId.toHexString();\n      this.localStorageItems.pendingItems =\n        this.localStorageItems.pendingItems.filter((elem) =>\n          elem.tokenIds.includes(tokenIdHex)\n        );\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.localStorageItems)\n      );\n    }\n  }\n\n  getTokenIds(\n    account: string\n  ): { tokenId: ethers.BigNumber; available: boolean }[] {\n    return this.localStorageItems.pendingItems\n      .filter((item) => !item.pending)\n      .map((item) =>\n        item.tokenIds.map((tid) => {\n          return {\n            tokenId: ethers.BigNumber.from(tid),\n            available: item.headerBlockId > 0,\n          };\n        })\n      )\n      .flat();\n  }\n\n  processPending(tokenId: ethers.BigNumber): Promise<string> {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.localStorageItems.pendingItems.find((item) =>\n      item.tokenIds.includes(tokenIdHex)\n    );\n    if (!item || !item.headerBlockId) throw new Error('TokenId invalid');\n    item.pending = true;\n\n    return this.buildPayloadForExit(item.headerBlockId, item.txHash);\n  }\n\n  resetPending(tokenId: ethers.BigNumber): void {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.localStorageItems.pendingItems.find((item) =>\n      item.tokenIds.includes(tokenIdHex)\n    );\n    if (item) item.pending = false;\n  }\n\n  async buildPayloadForExit(\n    headerBlockId: number,\n    txHash: string\n  ): Promise<string> {\n    if (!this.checkPointManager || !this.provider) return '';\n\n    // Get the last ChildBlock in checkPointManager\n    const lastChildBlock: ethers.BigNumber =\n      await this.checkPointManager.getLastChildBlock();\n\n    const receipt = await this.provider.getTransactionReceipt(txHash);\n    const block = (await this.provider.send('eth_getBlockByNumber', [\n      ethers.utils.hexValue(receipt.blockNumber),\n      true,\n    ])) as RawBlock;\n\n    if (lastChildBlock.lt(receipt.blockNumber))\n      throw new Error('Not yet checkpointed');\n\n    const headerBlock: HeaderBlock = await this.checkPointManager.headerBlocks(\n      headerBlockId\n    );\n\n    const blockProof = await this._buildBlockProof(\n      headerBlock.start.toNumber(),\n      headerBlock.end.toNumber(),\n      receipt.blockNumber\n    );\n\n    const receiptProof = await this._getReceiptProof(receipt, block);\n\n    const logIndex = receipt.logs.findIndex(function (log) {\n      return log.topics[0].toLowerCase() === SEND_MESSAGE_SIG;\n    });\n\n    return this._encodePayload(\n      headerBlockId,\n      blockProof,\n      receipt.blockNumber,\n      parseInt(block.timestamp),\n      Buffer.from(block.transactionsRoot.slice(2), 'hex'),\n      Buffer.from(block.receiptsRoot.slice(2), 'hex'),\n      this._getReceiptBytes(receipt),\n      receiptProof.parentNodes as Buffer[][],\n      receiptProof.path as Buffer,\n      logIndex\n    );\n  }\n\n  _onNewHeaderBlock = (result: ethers.providers.Log): void => {\n    this._findHeaderBlockNumber(0, 0, [result]);\n  };\n\n  _setup = async (): Promise<void> => {\n    await this._scanPendingTokenIds();\n    if (this.localStorageItems.pendingItems.length > 0) {\n      // Get the last ChildBlock in checkPointManager\n      const lastChildBlock = (\n        (await this.checkPointManager.getLastChildBlock()) as ethers.BigNumber\n      ).toNumber();\n\n      // Run throu pendingItems and look which are ready\n      let scanHeaderFrom,\n        scanHeaderTo = 0;\n      for (const pI of this.localStorageItems.pendingItems) {\n        if (!pI.headerBlockId) {\n          if (pI.txBlockNumber <= lastChildBlock) {\n            if (!scanHeaderFrom) scanHeaderFrom = pI.rootBlock;\n            scanHeaderTo = pI.rootBlock;\n          }\n        }\n      }\n      if (scanHeaderFrom) {\n        if (scanHeaderFrom < this.localStorageItems.ethLastHeaderScanned)\n          scanHeaderFrom = this.localStorageItems.ethLastHeaderScanned;\n        await this._findHeaderBlockNumber(scanHeaderFrom, scanHeaderTo);\n      }\n      if (\n        this.localStorageItems.pendingItems[\n          this.localStorageItems.pendingItems.length - 1\n        ].txBlockNumber > lastChildBlock\n      ) {\n        this.checkPointManager.provider.on(\n          this.newBlockFilter,\n          this._onNewHeaderBlock\n        );\n      }\n    }\n  };\n\n  _scanPendingTokenIds = async (): Promise<void> => {\n    //Step 1: fetch all sft token transfers to childTunnel\n    try {\n      const ethBlockNumber =\n        await this.checkPointManager.provider.getBlockNumber();\n      // Poll until we reached startup block\n      let query = `{ \"query\": \"{indexingStatusForCurrentVersion(subgraphName: \\\\\"${GRAPH_ACCOUNT}${this.childGraph}\\\\\") { chains { latestBlock { number }}}}\"}`;\n      let results = await (\n        await fetch(GRAPH_INDEX, {\n          method: 'POST', // or 'PUT'\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: query,\n        })\n      ).json();\n      const syncedBlockNumber =\n        results.data.indexingStatusForCurrentVersion.chains[0].latestBlock\n          .number;\n\n      query = `{\"query\":\"{ sftTransferEntities(where: {to: \\\\\"${this.childTunnel}\\\\\", from: \\\\\"${this.account}\\\\\", block_gt: ${this.localStorageItems.polygonLastScanned}}, orderBy: block) { txHash block blockTimestamp tokenIds }}\",\"variables\":null}`;\n      this.localStorageItems.polygonLastScanned =\n        await this.provider.getBlockNumber();\n      const mumbaiTime = (\n        await this.provider.getBlock(this.localStorageItems.polygonLastScanned)\n      ).timestamp;\n      if (!this.launchBlock)\n        this.launchBlock = this.localStorageItems.polygonLastScanned;\n\n      results = await (\n        await fetch(GRAPH_BASE + GRAPH_ACCOUNT + this.childGraph, {\n          method: 'POST', // or 'PUT'\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: query,\n        })\n      ).json();\n\n      // Step 2: Create a Set with tokenIds as key\n      const bridgeItems = new Map<\n        string,\n        {\n          count: number;\n          hash: string;\n          polygonBlockNumber: number;\n          ethBlockNumber: number;\n        }\n      >();\n      for (const ent of results.data.sftTransferEntities) {\n        const tokenIds = ent.tokenIds\n          .map((tid: string) => ethers.BigNumber.from(tid).toHexString())\n          .join('_');\n        const item = bridgeItems.get(tokenIds) ?? {\n          count: 0,\n          hash: '',\n          polygonBlockNumber: 0,\n          ethBlockNumber: 0,\n        };\n        ++item.count;\n        item.hash = ent.txHash;\n        item.polygonBlockNumber = parseInt(ent.block);\n        const logTimestamp = parseInt(ent.blockTimestamp);\n        item.ethBlockNumber = Math.trunc(\n          ethBlockNumber - (mumbaiTime - logTimestamp) / 10\n        );\n        bridgeItems.set(tokenIds, item);\n      }\n\n      query = `{\"query\":\"{ sftTransferEntities(where: {to: \\\\\"${this.account}\\\\\", from: \\\\\"${this.rootTunnel}\\\\\", txMethodID: \\\\\"0xf953cec7\\\\\", block_gt: ${this.localStorageItems.ethLastScanned}}, orderBy: block) { txHash block blockTimestamp tokenIds }}\",\"variables\":null}`;\n      this.localStorageItems.ethLastScanned = ethBlockNumber;\n\n      results = await (\n        await fetch(GRAPH_BASE + GRAPH_ACCOUNT + this.rootGraph, {\n          method: 'POST', // or 'PUT'\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: query,\n        })\n      ).json();\n\n      // Step 4: Create a Set with tokenIds as key\n      for (const ent of results.data.sftTransferEntities) {\n        const tokenIds = ent.tokenIds\n          .map((tid: string) => ethers.BigNumber.from(tid).toHexString())\n          .join('_');\n        const item = bridgeItems.get(tokenIds);\n        if (!item || item.count <= 0) throw new Error('Sync mismatch');\n        --item.count;\n      }\n\n      // Collect the results\n      for (const key of bridgeItems.keys()) {\n        const value = bridgeItems.get(key);\n        if (value && value.count > 0) {\n          this.localStorageItems.pendingItems.push({\n            rootBlock: value.ethBlockNumber,\n            headerBlockId: 0,\n            tokenIds: key.split('_'),\n            txHash: value.hash,\n            txBlockNumber: value.polygonBlockNumber,\n            pending: false,\n          });\n          this.changed = true;\n        }\n      }\n\n      this.localStorageItems.pendingItems.sort(\n        (a, b) => a.txBlockNumber - b.txBlockNumber\n      );\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.localStorageItems)\n      );\n\n      if (this.launchBlock > syncedBlockNumber)\n        window.setTimeout(this._setup, 10000);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  _encodePayload(\n    headerNumber: number,\n    buildBlockProof: string,\n    blockNumber: number,\n    timestamp: number,\n    transactionsRoot: Buffer,\n    receiptsRoot: Buffer,\n    receipt: Buffer,\n    receiptParentNodes: Array<Buffer[]>,\n    path: Buffer,\n    logIndex: number\n  ): string {\n    return bufferToHex(\n      rlp.encode([\n        headerNumber,\n        buildBlockProof,\n        blockNumber,\n        timestamp,\n        bufferToHex(transactionsRoot),\n        bufferToHex(receiptsRoot),\n        bufferToHex(receipt),\n        bufferToHex(rlp.encode(receiptParentNodes)),\n        bufferToHex(Buffer.concat([Buffer.from('00', 'hex'), path])),\n        logIndex,\n      ])\n    );\n  }\n\n  async _findHeaderBlockNumber(\n    scanStart: number,\n    scanEnd: number,\n    eventLogs?: ethers.providers.Log[]\n  ): Promise<void> {\n    let piIndex = 0;\n    let logs = eventLogs;\n    if (!logs) {\n      if (!scanStart) {\n        // TODO: Find start eth block by timestamp\n        throw new Error('Historical scan not yet mplemented');\n      }\n      const filter = {\n        ...this.checkPointManager.filters.NewHeaderBlock(),\n        fromBlock: scanStart,\n        toBlock: scanEnd + 1000,\n      };\n      logs = await this.checkPointManager.provider.getLogs(filter);\n    }\n\n    const pendingItems = this.localStorageItems.pendingItems;\n\n    for (const log of logs) {\n      const parsed = this.checkPointManager.interface.parseLog(log);\n      while (\n        piIndex < pendingItems.length &&\n        pendingItems[piIndex].txBlockNumber <= parsed.args.end\n      ) {\n        if (\n          !pendingItems[piIndex].headerBlockId &&\n          pendingItems[piIndex].txBlockNumber >= parsed.args.start\n        ) {\n          pendingItems[piIndex].headerBlockId =\n            parsed.args.headerBlockId.toNumber();\n          this.changed = true;\n        }\n        ++piIndex;\n      }\n      if (piIndex >= pendingItems.length) break;\n    }\n    if (piIndex >= pendingItems.length) {\n      this.checkPointManager.provider.off(\n        this.newBlockFilter,\n        this._onNewHeaderBlock\n      );\n    }\n\n    if (this.changed) {\n      this.localStorageItems.ethLastHeaderScanned =\n        logs[logs.length - 1].blockNumber;\n\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.localStorageItems)\n      );\n      this.changeHandler();\n      this.changed = false;\n    }\n  }\n\n  async _buildBlockProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<string> {\n    const proof = await this._getFastMerkleProof(start, end, blockNumber);\n\n    return bufferToHex(\n      Buffer.concat(\n        proof.map(function (p) {\n          return toBuffer(p);\n        })\n      )\n    );\n  }\n\n  async _getFastMerkleProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<(string | Buffer)[]> {\n    const merkleTreeDepth = Math.ceil(Math.log2(end - start + 1));\n    const reversedProof = [];\n    const offset = start;\n    const targetIndex = blockNumber - offset;\n    let leftBound = 0;\n    let rightBound = end - offset;\n    let depth = 0;\n\n    while (depth < merkleTreeDepth) {\n      let newLeftBound: number,\n        newRightBound: number,\n        expectedHeight: number,\n        subTreeHeight: number,\n        heightDifference: number,\n        remainingNodesHash: Buffer;\n\n      const nLeaves = Math.pow(2, merkleTreeDepth - depth);\n      const pivotLeaf = leftBound + nLeaves / 2 - 1;\n      if (!(targetIndex > pivotLeaf)) {\n        newRightBound = Math.min(rightBound, pivotLeaf);\n        expectedHeight = merkleTreeDepth - (depth + 1);\n        if (!(rightBound <= pivotLeaf)) {\n          subTreeHeight = Math.ceil(Math.log2(rightBound - pivotLeaf));\n          heightDifference = expectedHeight - subTreeHeight;\n          remainingNodesHash = await this._queryRootHash(\n            offset + pivotLeaf + 1,\n            offset + rightBound\n          );\n          // The remaining leaves will hold the merkle root of a zero-filled tree of height subTreeHeight\n          const leafRoots_1 = this._recursiveZeroHash(subTreeHeight);\n          const leaves = Array.from(\n            { length: Math.pow(2, heightDifference) },\n            function () {\n              return toBuffer(leafRoots_1);\n            }\n          );\n          leaves[0] = remainingNodesHash;\n          const subTreeMerkleRoot = new MerkleTree(leaves).getRoot();\n          reversedProof.push(subTreeMerkleRoot);\n        } else {\n          const subTreeMerkleRoot = this._recursiveZeroHash(expectedHeight);\n          reversedProof.push(subTreeMerkleRoot);\n        }\n        rightBound = newRightBound;\n      } else {\n        newLeftBound = pivotLeaf + 1;\n        const subTreeMerkleRoot = await this._queryRootHash(\n          offset + leftBound,\n          offset + pivotLeaf\n        );\n        reversedProof.push(subTreeMerkleRoot);\n        leftBound = newLeftBound;\n      }\n      depth += 1;\n    }\n    return reversedProof.reverse();\n  }\n\n  async _queryRootHash(start: number, end: number): Promise<Buffer> {\n    return toBuffer(\n      '0x' + (await this.provider.send('eth_getRootHash', [start, end]))\n    );\n  }\n\n  _recursiveZeroHash(n: number): string | Buffer {\n    if (n === 0)\n      return '0x0000000000000000000000000000000000000000000000000000000000000000';\n    const subHash = this._recursiveZeroHash(n - 1);\n    return keccak256(\n      toBuffer(\n        ethers.utils.defaultAbiCoder.encode(\n          ['bytes32', 'bytes32'],\n          [subHash, subHash]\n        )\n      )\n    );\n  }\n\n  async _getReceiptProof(\n    receipt: ethers.providers.TransactionReceipt,\n    block: RawBlock\n  ): Promise<Record<string, unknown>> {\n    const stateSyncTxHash = bufferToHex(this._getStateSyncTxHash(block));\n    const receiptsTrie = new BaseTrie();\n    const receiptPromises: Promise<ethers.providers.TransactionReceipt>[] = [];\n\n    for (const tx of block.transactions) {\n      if (tx.hash !== stateSyncTxHash) {\n        receiptPromises.push(this.provider.getTransactionReceipt(tx.hash));\n      }\n    }\n    const receipts = await Promise.all(receiptPromises);\n\n    for (const siblingReceipt of receipts) {\n      const path = rlp.encode(siblingReceipt.transactionIndex);\n      const rawReceipt = this._getReceiptBytes(siblingReceipt);\n\n      await receiptsTrie.put(path, rawReceipt);\n    }\n\n    const path = await receiptsTrie.findPath(\n      rlp.encode(receipt.transactionIndex)\n    );\n    if (!path.node || path.remaining.length > 0)\n      throw new Error('findpath failed');\n    return {\n      blockHash: toBuffer(receipt.blockHash),\n      parentNodes: path.stack.map(function (s) {\n        return s.raw();\n      }),\n      root: this._getRawHeader(block).receiptTrie as Buffer,\n      path: rlp.encode(receipt.transactionIndex),\n      value: rlp.decode(path.node.value),\n    };\n  }\n\n  _getReceiptBytes(receipt: ethers.providers.TransactionReceipt): Buffer {\n    let encodedData = rlp.encode([\n      toBuffer(\n        receipt.status !== undefined && receipt.status != null\n          ? receipt.status\n            ? '0x1'\n            : '0x'\n          : receipt.root\n      ),\n      toBuffer(receipt.cumulativeGasUsed.toNumber()),\n      toBuffer(receipt.logsBloom),\n      // encoded log array\n      receipt.logs.map(function (l) {\n        // [address, [topics array], data]\n        return [toBuffer(l.address), l.topics.map(toBuffer), toBuffer(l.data)];\n      }),\n    ]);\n    if (receipt.status !== undefined && receipt.type !== 0) {\n      encodedData = Buffer.concat([\n        toBuffer('0x' + receipt.type.toString(16)),\n        encodedData,\n      ]);\n    }\n    return encodedData;\n  }\n\n  _getStateSyncTxHash(block: RawBlock): Buffer {\n    return keccak256(\n      Buffer.concat([\n        toBuffer(fromUtf8('matic-bor-receipt-')),\n        setLengthLeft(toBuffer(block.number), 8),\n        toBuffer(block.hash),\n      ])\n    );\n  }\n\n  _getRawHeader(block: RawBlock): BlockHeader {\n    return blockHeaderFromRpc(block);\n  }\n}\n","import i18n from 'i18next';\nimport detector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nimport translationEN from './locales/en_US/translation.json';\nimport translationZH from './locales/zh_CN/translation.json';\n\n// the translations\nconst resources = {\n  en: {\n    translation: translationEN,\n  },\n  zh: {\n    translation: translationZH,\n  },\n};\n\nconst options = {\n  order: ['path', 'navigator'],\n};\n\ni18n\n  .use(detector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    detection: options,\n    supportedLngs: ['en', 'zh'],\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // react already safes from xss\n    },\n  });\n\nexport default i18n;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport ERC20Abi from 'abi/contracts/0xerc1155/interfaces/IERC20.sol/IERC20.json';\nimport CurveDepositAbi from 'abi/contracts/interfaces/curve/CurveDepositInterface3.sol/ICurveFiDeposit3.json';\nimport UniV2PairAbi from 'abi/contracts/interfaces/uniswap/IUniswapV2Pair.sol/IUniswapV2Pair.json';\nimport BoosterAbi from 'abi/contracts/src/booster/Booster.sol/Booster.json';\nimport CFolioItemHandlerAbi from 'abi/contracts/src/cfolio/interfaces/ICFolioItemHandler.sol/ICFolioItemHandler.json';\nimport SftEvaluatorAbi from 'abi/contracts/src/cfolio/SFTEvaluator.sol/SFTEvaluator.json';\nimport SFTMinterAbi from 'abi/contracts/src/crowdsale/WOWSSftMinter.sol/WOWSSftMinter.json';\nimport CFolioFarmAbi from 'abi/contracts/src/investment/CFolioFarm.sol/CFolioFarm.json';\nimport RootTunnelAbi from 'abi/contracts/src/polygon/WOWSERC1155RootTunnel.sol/WOWSERC1155RootTunnel.json';\nimport TradeFloorAbi from 'abi/contracts/src/token/TradeFloor.sol/TradeFloor.json';\nimport TokenAbi from 'abi/contracts/src/token/WOWSErc20.sol/WowsToken.json';\nimport SFTHolderAbi from 'abi/contracts/src/token/WOWSERC1155.sol/WOWSERC1155.json';\nimport { ethers } from 'ethers';\nimport Emitter from 'events';\nimport Dispatcher from 'flux';\nimport React from 'react';\nimport { WalletLink } from 'walletlink';\nimport Web3Modal, {\n  getInjectedProvider,\n  getProviderDescription,\n  IProviderOptions,\n} from 'web3modal';\n\nimport WalletLinkLogo from '../assets/coinbase-wallet.svg';\nimport { CARD_LEVEL, CARDS, CFOLIO_ITEMS } from '../components/types/cards';\nimport { addresses } from '../config/addresses';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from './constants';\nimport { MessageProof } from './polygon';\n\nconst emitter = new Emitter.EventEmitter();\nconst dispatcher = new Dispatcher.Dispatcher();\n\ntype PayloadContent = {\n  amount?: number;\n  investment?: number;\n  time?: number;\n  id?: ethers.BigNumber;\n  type?: number;\n  filter?: Array<string>;\n  address?: string;\n};\n\ntype PayloadContentCFolioItem = {\n  wowsAmount: number;\n  investAmount: number[];\n  sftTokenId: ethers.BigNumber;\n  cfolioTokenId?: ethers.BigNumber;\n  cfolioType: number;\n};\n\nexport type PayloadContentCFolioItemLT = {\n  src: ethers.BigNumber;\n  dst: ethers.BigNumber;\n  lockedCFIs: ethers.BigNumber[];\n  transferCFIs: ethers.BigNumber[];\n};\n\nexport type Payload = {\n  type: string;\n  content: PayloadContent;\n};\n\ninterface ChainAddresses {\n  rpcEndpoint?: string;\n  wssEndpoint?: string;\n  token: string;\n  uniV2Pair: string;\n  stakeFarm?: string;\n  sftMinterProxy: string;\n  sftHolderProxy: string;\n  boosterProxy: string;\n  tradeFloorProxy: string;\n  sftEvaluatorProxy: string;\n  cfolioFarmLP?: string;\n  cfolioItemHandlerLPProxy?: string;\n  cfolioFarmSC?: string;\n  cfiBridgeProxy?: string;\n  cfolioItemHandlerSCProxy?: string;\n  bridgeTarget: string;\n  uniDaiWeth: string;\n  daiToken?: string;\n  tusdToken?: string;\n  usdcToken?: string;\n  usdtToken?: string;\n  curveADeposit?: string;\n  curveAToken?: string;\n  curveYDeposit?: string;\n  curveYToken?: string;\n}\n\ninterface PolygonAddresses {\n  p_checkpointManager?: string;\n  p_sftHolderProxy?: string;\n  p_childTunnel?: string;\n  polygonRootTunnelProxy?: string;\n}\n\ninterface IIndexable {\n  [key: number]: ChainAddresses;\n}\n\nexport type AssetStateresult = {\n  status:\n    | 'error'\n    | 'loaded'\n    | 'cards'\n    | 'tokens'\n    | 'cfolio_amount'\n    | 'rewards'\n    | 'balances'\n    | 'allowance';\n};\n\nexport type TokenContractResult = {\n  error: string | undefined;\n  tokenAmount: number | undefined;\n};\n\nexport type ConnectResult = {\n  type: 'event' | 'prod';\n  address: string;\n  networkName: string;\n};\n\nexport type StatusResult = {\n  status: 'error' | 'tx' | 'success' | 'approve';\n  type: string;\n  errorMessage: string | undefined;\n  tx: string | undefined;\n};\n\nexport type StakeResult = {\n  error: string | undefined;\n  state: {\n    poolSupply: number; // amount tokens in pool\n    reserve0: number; // amount pair::token0\n    reserve1: number; // amount pair::token1\n    priceReserve0: number; // price per token0\n    stakeSupply: number; // amount tokens staked\n    stakeSupplyUser: number; // amount tokens staked user\n    rewardsDuration: number; // duration in seconds reward is based on\n    rewardPerDuration: number; // reward per rewardsDuration time\n    earned: number; // amount of reward tokens earned\n  };\n};\n\nexport enum SFTS {\n  UNLOCKED,\n  LOCKED,\n  BRIDGE_PENDING,\n  BRIDGE_READY,\n}\n\nexport type SFTCHILD = {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  status: SFTS;\n  type: number;\n  assets: number[];\n};\n\nexport type BoosterRewards = {\n  total: number;\n  pending: number;\n  apr: number;\n  secsLeft?: number;\n};\n\nexport type SFT = {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  isBaseCard: boolean;\n  isStockCard: boolean;\n  isWallet: boolean;\n  status: SFTS;\n  rewardRate: number;\n  rewardShare: number;\n  rewardEarned: number;\n  mintTimestamp: number;\n  cfolioItems: SFTCHILD[];\n  boosterRewards: BoosterRewards;\n};\n\nexport const BIGNUMBER_MAX = ethers.BigNumber.from(\n  '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'\n);\n\nexport const STABLE_CURRENCIES = [\n  ['DAI', 'USDC', 'USDT', 'am3Crv'],\n  ['DAI', 'USDC', 'USDT', 'TUSD', 'yCrv'],\n  [],\n];\n\nconst SECONDS_PER_YEAR = 31536000;\n\nexport const REWARD_POOL_LP = 0;\nexport const REWARD_POOL_SC = 1;\n\ntype REWARD_INFO = {\n  total: ethers.BigNumber;\n  rewardDuration: number;\n  rewardPerDuration: ethers.BigNumber;\n  priceWOWS: number;\n  priceToken: number;\n  apr: number;\n};\n\nexport type ASSET_BALANCE = {\n  [key: string]: {\n    decimals: number;\n    dust: ethers.BigNumber;\n    value: number;\n    address?: string;\n    allowance: number;\n    handlerAddress?: string;\n  };\n};\n\ntype ASSETS = {\n  balances: ASSET_BALANCE;\n  userSFT: SFT[];\n  cards: CARDS;\n  cfolioItems: CFOLIO_ITEMS[];\n  rewardInfo: REWARD_INFO[];\n};\n\nconst readUint256 = (s: string, i: number) =>\n  ethers.BigNumber.from('0x' + s.substr(i * 64 + 2, 64));\n\nclass AsyncLock {\n  disable: () => void;\n  promise: Promise<void>;\n  constructor() {\n    this.disable = () => {\n      if (!this) alert('');\n    };\n    this.promise = Promise.resolve();\n  }\n  enable() {\n    this.promise = new Promise((resolve) => (this.disable = resolve));\n  }\n}\n\nclass Store {\n  web3Modal: Web3Modal;\n  /* Provider */\n  ethersProvider?: ethers.providers.JsonRpcProvider;\n  eventProvider?: ethers.providers.BaseProvider;\n  ethersSigner?: ethers.Signer;\n  isWSEventProvider = false;\n\n  /* Contracts */\n  tokenContract?: ethers.Contract;\n  cfihLpContract?: ethers.Contract;\n  cfihScContract?: ethers.Contract;\n  sftEvaluatorContract?: ethers.Contract;\n  boosterContract?: ethers.Contract;\n\n  sftHolderContractRO?: ethers.Contract;\n  sftMintContractRO?: ethers.Contract;\n  tradeFloorContractRO?: ethers.Contract;\n  lpContractRO?: ethers.Contract;\n  uniDaiWethPairContractRO?: ethers.Contract;\n  curveDepositContractRO?: ethers.Contract;\n\n  cfolioFarmLpAddress = '';\n  cfolioFarmScAddress = '';\n  bridgeTargetAddress = '';\n\n  static nullAddress = '0x0000000000000000000000000000000000000000';\n  static BASE_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFFFFFFFFFF');\n  static STOCK_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFF');\n  static DUST_6 = ethers.BigNumber.from(10);\n  static DUST_18 = ethers.BigNumber.from(1000000000000);\n\n  /* Misc */\n  networkName = 'mainnet';\n  accountId = 0;\n  chainId = 0;\n  address = '';\n  tokenContractAddress = Store.nullAddress;\n  lastAprTime = 0;\n  eventsSuspended = false;\n  lock = new AsyncLock();\n\n  dispatchQueue: Payload[] = [];\n\n  polygonBridge?: MessageProof;\n\n  assets = {\n    balances: {\n      WOWS: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      'WETH/WOWS LP': {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      USDC: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      USDT: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      DAI: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      TUSD: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      yCrv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      am3Crv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n    },\n    userSFT: [],\n    cards: { levelNames: [], cards: [], myPackLevelDescriptions: [] },\n    cfolioItems: [],\n    rewardInfo: Array.from({ length: 2 }, () => ({\n      total: ethers.BigNumber.from(0),\n      rewardDuration: 0,\n      rewardPerDuration: ethers.BigNumber.from(0),\n      priceWOWS: 0,\n      priceToken: 0,\n      apr: 0,\n    })),\n  } as ASSETS;\n\n  constructor() {\n    const providerOptions: IProviderOptions = {\n      walletconnect: {\n        package: WalletConnectProvider,\n        options: {\n          infuraId: process.env.REACT_APP_INFURA_ID,\n        },\n      },\n      'custom-walletlink': {\n        display: {\n          logo: WalletLinkLogo,\n          name: 'WalletLink',\n          description: 'Scan with WalletLink to connect',\n        },\n        options: {\n          appName: 'WolvesOfWallStreet', // Your app name\n          networkUrl: `https://mainnet.infura.io/v3/${process.env.REACT_APP_INFURA_ID}`,\n          chainId: this.chainId,\n        },\n        package: WalletLink,\n        connector: async (_, options) => {\n          const { appName, networkUrl, chainId } = options;\n          const walletLink = new WalletLink({\n            appName,\n          });\n          const provider = walletLink.makeWeb3Provider(networkUrl, chainId);\n          await provider.enable();\n          return provider;\n        },\n      },\n    };\n\n    const providerInfo = getInjectedProvider();\n    if (providerInfo) {\n      providerOptions.injected = {\n        display: {\n          logo: providerInfo.logo,\n          name: providerInfo.name,\n          description: getProviderDescription(providerInfo),\n        },\n        package: null,\n      };\n    }\n\n    this.web3Modal = new Web3Modal({\n      network: this.networkName,\n      cacheProvider: true,\n      providerOptions: providerOptions,\n    });\n\n    dispatcher.register((payload) => {\n      const _payload = payload as Payload;\n      switch (_payload.type) {\n        case CFOLIO_ITEM_BUY:\n          this._doCFolioItemBuy(_payload.content as PayloadContentCFolioItem);\n          break;\n        case CFOLIO_ITEM_DEPOSIT:\n          this._doCFolioItemDeposit(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_WITHDRAW:\n          this._doCFolioItemWithdraw(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_UNLOCK_TRANSFER:\n          this._doCFolioItemUnlockAndTransfer(\n            _payload.content as PayloadContentCFolioItemLT\n          );\n          break;\n        /** Staking */\n        case REVOKE_APPROVAL:\n          this._doRevokeApproval(_payload.content);\n          break;\n        /** SFT */\n        case SFT_BUY:\n          this._doSftBuy(_payload.content);\n          break;\n        case SFT_CLAIM:\n          this._doSftClaim(_payload.content);\n          break;\n        case SFT_CLAIM_BOOSTER:\n          this._doSftClaimBooster(_payload.content);\n          break;\n        case SFT_LOCK:\n          this._doSftLock(_payload.content);\n          break;\n        case SFT_REWARD:\n          this._getSftRewards(_payload.content);\n          break;\n        case SFT_PROOF:\n          this._doSftMessageProof(_payload.content);\n          break;\n        case SFT_TRANSFER:\n          this._doSftTransfer(_payload.content);\n          break;\n        case ASSETS_STATE:\n          if (_payload.content.filter?.includes('cards'))\n            this._getSftState(_payload.content);\n          if (_payload.content.filter?.includes('tokens'))\n            this._getUserSft(_payload.content).then(() =>\n              this._getSftRewards(_payload.content)\n            );\n          if (_payload.content.filter?.includes('balances'))\n            this._getAssetsBalances(_payload.content);\n          if (_payload.content.filter?.includes('allowance'))\n            this._getAssetsAllowances(_payload.content);\n          break;\n        case SFT_UNLOCK:\n          this._doSftUnlock(_payload.content);\n          break;\n        case SFT_UPGRADE:\n          this._doSftUpgrade(_payload.content);\n          break;\n        default: {\n          return;\n        }\n      }\n    });\n\n    /** Load assets **/\n    import('locales/en_US/cards.json').then((content) => {\n      this.assets.cards.levelNames = content.default.levelNames;\n      this.assets.cards.cards = content.default.levels as CARD_LEVEL[];\n      // Load CFolioItems\n      import('locales/en_US/cFolioItems.json').then((content) => {\n        this.assets.cfolioItems = content.default as CFOLIO_ITEMS[];\n        emitter.emit(ASSETS_STATE, { status: 'loaded' } as AssetStateresult);\n        dispatcher.dispatch({\n          type: ASSETS_STATE,\n          content: { filter: ['cards', 'tokens'] },\n        } as Payload);\n      });\n    });\n  }\n\n  mount() {\n    if (window.ethereum) {\n      this.chainId = parseInt(window.ethereum.chainId);\n      switch (this.chainId) {\n        case 4:\n          this.networkName = 'rinkeby';\n          break;\n        case 5:\n          this.networkName = 'goerli';\n          break;\n        case 137:\n          this.networkName = 'matic';\n          break;\n        case 80001:\n          this.networkName = 'maticmum';\n          break;\n        default: {\n          this.networkName = ' mainnet';\n          this.chainId = 1;\n        }\n      }\n      console.log(\n        'Mount with chainId: ',\n        this.chainId,\n        ' and Network: ',\n        this.networkName\n      );\n    }\n    this.autoconnect();\n  }\n\n  unmount() {\n    this.close();\n  }\n\n  getAssets = () => {\n    return this.assets;\n  };\n\n  handleBridgeChange = () => {\n    console.log('BrigeChange');\n    dispatcher.dispatch({\n      type: ASSETS_STATE,\n      content: { filter: ['tokens'] },\n    } as Payload);\n  };\n\n  /*********************** NETWORK ******************/\n\n  getEndpoint(wss: boolean): string | undefined {\n    const chainAddresses = this._getChainAddresses();\n    return wss ? chainAddresses?.wssEndpoint : chainAddresses?.rpcEndpoint;\n  }\n\n  isSidechain(): boolean {\n    return this.networkName.startsWith('matic');\n  }\n\n  getBridgeTarget(): { name: string; address: string } {\n    return this.networkName.startsWith('matic')\n      ? { name: 'ETHEREUM', address: this.bridgeTargetAddress }\n      : { name: 'POLYGON', address: this.bridgeTargetAddress };\n  }\n\n  connect = async () => {\n    try {\n      if (this.ethersProvider) {\n        await this.disconnect(false, false);\n      }\n\n      let ethersProvider: ethers.providers.JsonRpcProvider;\n      const endpoint = this.getEndpoint(false);\n      if (endpoint) {\n        ethersProvider = new ethers.providers.JsonRpcProvider(endpoint);\n      } else {\n        const web3Provider = await this.web3Modal.connect();\n        await this.subscribeProvider(web3Provider);\n\n        ethersProvider = new ethers.providers.Web3Provider(web3Provider);\n      }\n      const accounts = await ethersProvider.listAccounts();\n      this.address = ethers.utils.getAddress(accounts[this.accountId]);\n      const network = await ethersProvider.getNetwork();\n      this.chainId = network.chainId;\n      this.networkName = network.name;\n      await this._launchEventProvider();\n      if (await this._setupContracts(ethersProvider)) this._emitNetworkChange();\n      this.ethersProvider = ethersProvider;\n      this.ethersSigner = ethersProvider.getSigner(this.accountId);\n\n      // Enable MessageProof for bidging back from Polygon\n      if (this.chainId === 1 || this.chainId === 5) {\n        const chainAddresses = (this._getChainAddresses() ??\n          {}) as PolygonAddresses;\n        this.polygonBridge = new MessageProof(\n          this.eventProvider ?? ethersProvider,\n          this.chainId,\n          chainAddresses.p_checkpointManager ?? '',\n          this.address,\n          chainAddresses.polygonRootTunnelProxy ?? '',\n          chainAddresses.p_childTunnel ?? '',\n          this.handleBridgeChange\n        );\n      }\n    } catch (e) {\n      console.log(e);\n      await this.disconnect(true, true);\n    }\n  };\n\n  autoconnect = async () => {\n    if (this.address) alert('Conneted');\n    const query = new URLSearchParams(window.location.search);\n    const defaultChain = query.get('chainId');\n    const defaultAccountId = query.get('accountId');\n\n    if (defaultChain) this.chainId = parseInt(defaultChain);\n    if (defaultAccountId) this.accountId = parseInt(defaultAccountId);\n\n    if (this.web3Modal.cachedProvider) {\n      await this.connect();\n    } else await this._launchEventProvider();\n  };\n\n  subscribeProvider = async (provider: ethers.providers.Provider) => {\n    if (!provider.on) {\n      return;\n    }\n\n    provider.on('disconnect', () => {\n      this.disconnect(false, true);\n    });\n\n    provider.on('accountsChanged', async (accounts: string[]) => {\n      const account = ethers.utils.getAddress(accounts[0]);\n      if (this.address !== '' && account !== this.address) {\n        this.address = account;\n        this._emitNetworkChange();\n      }\n    });\n\n    provider.on('chainChanged', async (chainId: number) => {\n      if (chainId !== this.chainId) {\n        this.chainId = chainId;\n        await this.connect();\n      }\n    });\n  };\n\n  disconnect = async (clearCache: boolean, fireEvent: boolean) => {\n    if (this.ethersProvider) {\n      localStorage.removeItem('walletconnect');\n      this.ethersProvider.removeAllListeners();\n      this.tokenContract = undefined;\n      this.ethersProvider = undefined;\n      this.cfihLpContract = undefined;\n      this.cfihScContract = undefined;\n      this.sftEvaluatorContract = undefined;\n      this.boosterContract = undefined;\n      this.ethersSigner = undefined;\n      this.polygonBridge = undefined;\n    }\n    this.address = '';\n    if (clearCache) {\n      this.web3Modal.clearCachedProvider();\n      window.localStorage.removeItem('WALLETCONNECT_DEEPLINK_CHOICE');\n    }\n    if (fireEvent) {\n      this._emitNetworkChange();\n    }\n  };\n\n  close = async () => {\n    try {\n      this.sftHolderContractRO?.removeAllListeners();\n      this.sftHolderContractRO = undefined;\n      this.sftMintContractRO = undefined;\n      this.tradeFloorContractRO?.removeAllListeners();\n      this.tradeFloorContractRO = undefined;\n      this.lpContractRO?.removeAllListeners();\n      this.lpContractRO = undefined;\n      this.uniDaiWethPairContractRO = undefined;\n    } catch (e) {\n      console.log(e);\n    }\n    console.log('Disconnect due to WS close');\n    await this.disconnect(false, true);\n    if (this.eventProvider) {\n      try {\n        this.eventProvider?.removeAllListeners();\n      } catch (e) {\n        console.log(e);\n      }\n      if (this.isWSEventProvider) {\n        const wsEventProvider = this\n          .eventProvider as ethers.providers.WebSocketProvider;\n        wsEventProvider._websocket.onclose = null;\n        wsEventProvider._websocket.onerror = null;\n        await wsEventProvider.destroy();\n      }\n      this.eventProvider = undefined;\n    }\n  };\n\n  isConnected = () => {\n    return this.ethersProvider !== undefined;\n  };\n\n  isEventConnected = () => {\n    return this.eventProvider !== undefined;\n  };\n\n  _addDQ = async (block: number, payload: Payload) => {\n    if (this.eventsSuspended) {\n      if (\n        !this.dispatchQueue.find(\n          (elem) => JSON.stringify(elem) === JSON.stringify(payload)\n        )\n      )\n        this.dispatchQueue.push(payload);\n    } else {\n      dispatcher.dispatch(payload);\n    }\n  };\n\n  _resolveDQ = () => {\n    if (this.eventsSuspended) {\n      this.dispatchQueue.forEach((payload) => dispatcher.dispatch(payload));\n      this.dispatchQueue = [];\n      /*if (this.lastAprTime + 300000 < Date.now()) {\n        this.lastAprTime = Date.now();\n        this._updatePoolAPR();\n      }*/\n      this.eventsSuspended = false;\n    }\n  };\n\n  _setupEvents(): boolean {\n    this.eventProvider?.removeAllListeners();\n    this.sftHolderContractRO?.removeAllListeners();\n    this.tradeFloorContractRO?.removeAllListeners();\n    this.lpContractRO?.removeAllListeners();\n\n    const handleTransfer = (\n      operator: string,\n      from: string,\n      to: string,\n      cards: boolean\n    ) => {\n      const filter = [];\n      if (cards && from === Store.nullAddress) filter.push('cards');\n      if (\n        ethers.utils.getAddress(operator) === this.address ||\n        ethers.utils.getAddress(from) === this.address ||\n        ethers.utils.getAddress(to) === this.address\n      ) {\n        filter.push('tokens');\n      }\n      if (filter.length > 0) {\n        console.log('TransferEvent: ', filter);\n        this._addDQ(0, { type: ASSETS_STATE, content: { filter } } as Payload);\n      }\n    };\n\n    this.sftHolderContractRO?.on('SftTokenTransfer', (operator, from, to) =>\n      handleTransfer(operator, from, to, true)\n    );\n    this.tradeFloorContractRO?.on('TransferSingle', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    this.tradeFloorContractRO?.on('TransferBatch', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    this.lpContractRO?.on('Transfer', (from, to) => {\n      if (\n        ethers.utils.getAddress(from) === this.address ||\n        ethers.utils.getAddress(to) === this.address\n      ) {\n        this._addDQ(0, {\n          type: ASSETS_STATE,\n          content: { filter: ['balances'] },\n        } as Payload);\n      }\n    });\n    return true;\n  }\n\n  _emitNetworkChange() {\n    // Request new SFT List\n    if (this.address) {\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['tokens', 'balances', 'rewards'] },\n      } as Payload);\n    } else {\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.value = 0;\n      }\n      this.assets.userSFT = [];\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    }\n    emitter.emit(CONNECTION_CHANGED, {\n      type: 'prod',\n      address: this.address,\n      networkName: this.networkName,\n    } as ConnectResult);\n  }\n\n  _launchEventProvider = async () => {\n    await this.lock.promise;\n    this.lock.enable();\n    try {\n      if (\n        !this.eventProvider ||\n        (await this.eventProvider?.getNetwork()).chainId !== this.chainId\n      ) {\n        let eventProvider:\n          | ethers.providers.WebSocketProvider\n          | ethers.providers.JsonRpcProvider;\n        this.isWSEventProvider = true;\n        const endpoint = this.getEndpoint(true);\n        if (endpoint) {\n          if (endpoint.startsWith('http')) {\n            this.isWSEventProvider = false;\n            eventProvider = new ethers.providers.JsonRpcProvider(endpoint);\n          } else {\n            eventProvider = new ethers.providers.WebSocketProvider(endpoint);\n          }\n        } else {\n          eventProvider = ethers.providers.InfuraProvider.getWebSocketProvider(\n            this.networkName,\n            process.env.REACT_APP_INFURA_ID\n          );\n        }\n        if (!this.chainId)\n          this.chainId = (await eventProvider.getNetwork()).chainId;\n\n        await this._setupEventContracts(eventProvider);\n        if (this.isWSEventProvider) {\n          const wsEventProvider =\n            eventProvider as ethers.providers.WebSocketProvider;\n          wsEventProvider._websocket.onclose = () => {\n            this.close();\n          };\n          wsEventProvider._websocket.onerror = () => {\n            this.close();\n          };\n        }\n\n        this.eventProvider?.removeAllListeners();\n        this.eventProvider = eventProvider;\n\n        console.log('EventProvider launched on network: ', this.networkName);\n        emitter.emit(CONNECTION_CHANGED, {\n          type: 'event',\n          address: '',\n          networkName: this.networkName,\n        } as ConnectResult);\n        if (this.assets.cfolioItems.length > 0) {\n          dispatcher.dispatch({\n            type: ASSETS_STATE,\n            content: { filter: ['cards'] },\n          } as Payload);\n        }\n        this._setupEvents();\n      }\n    } catch (e) {\n      console.log(e);\n      if (this.eventProvider) {\n        this.eventProvider = undefined;\n      }\n    }\n    this.lock.disable();\n  };\n\n  switchChain = async (chain: string) => {\n    if (window.ethereum) {\n      let newChain = 0;\n      if (chain === 'polygon') {\n        newChain = this.chainId === 1 ? 137 : 80001;\n      } else {\n        newChain = this.chainId === 137 ? 1 : 5;\n      }\n      if (newChain) {\n        try {\n          await window.ethereum.request({\n            method: 'wallet_switchEthereumChain',\n            params: [{ chainId: '0x' + newChain.toString(16) }],\n          });\n        } catch (e) {\n          alert(JSON.stringify(e));\n          if (e.code === 4902 && newChain === 137) {\n            try {\n              await window.ethereum.request({\n                method: 'wallet_addEthereumChain',\n                params: [\n                  {\n                    chainId: '0x89',\n                    chainName: 'Matic(Polygon) Mainnet',\n                    rpcUrls: ['https://polygon-rpc.com/'],\n                    blockExplorerUrls: ['https://polygonscan.com'],\n                    nativeCurrency: {\n                      name: 'MATIC',\n                      symbol: 'MATIC',\n                      decimals: 18,\n                    },\n                  },\n                ],\n              });\n            } catch (e) {\n              alert(JSON.stringify(e));\n              console.log(e);\n            }\n          }\n          console.log(e);\n        }\n      }\n    }\n  };\n\n  getStableCurrencies() {\n    switch (this.chainId) {\n      case 137:\n        return STABLE_CURRENCIES[0];\n      case 80001:\n        return STABLE_CURRENCIES[1];\n      default:\n        return STABLE_CURRENCIES[2];\n    }\n  }\n  /******************** Contracts *********************/\n\n  _getChainAddresses(): ChainAddresses | undefined {\n    return (addresses as IIndexable)[this.chainId];\n  }\n\n  async _setupEventContracts(\n    provider: ethers.providers.BaseProvider\n  ): Promise<void> {\n    const chainAddresses = this._getChainAddresses();\n\n    if (chainAddresses) {\n      this.tokenContractAddress = chainAddresses.token;\n      this.lpContractRO = new ethers.Contract(\n        chainAddresses.uniV2Pair,\n        UniV2PairAbi,\n        provider\n      );\n\n      if (chainAddresses.sftHolderProxy) {\n        this.sftHolderContractRO = new ethers.Contract(\n          chainAddresses.sftHolderProxy,\n          SFTHolderAbi,\n          provider\n        );\n      }\n\n      if (chainAddresses.sftMinterProxy) {\n        this.sftMintContractRO = new ethers.Contract(\n          chainAddresses.sftMinterProxy,\n          SFTMinterAbi,\n          provider\n        );\n      }\n      if (chainAddresses.tradeFloorProxy) {\n        this.tradeFloorContractRO = new ethers.Contract(\n          chainAddresses.tradeFloorProxy,\n          TradeFloorAbi,\n          provider\n        );\n      }\n\n      this.cfolioFarmLpAddress = chainAddresses.cfolioFarmLP || '';\n      this.cfolioFarmScAddress = chainAddresses.cfolioFarmSC || '';\n\n      if (chainAddresses.uniDaiWeth !== '') {\n        this.uniDaiWethPairContractRO = new ethers.Contract(\n          chainAddresses.uniDaiWeth,\n          UniV2PairAbi,\n          provider\n        );\n      } else this.uniDaiWethPairContractRO = undefined;\n\n      if (chainAddresses.curveADeposit) {\n        this.curveDepositContractRO = new ethers.Contract(\n          chainAddresses.curveADeposit,\n          CurveDepositAbi,\n          provider\n        );\n      } else if (chainAddresses.curveYDeposit) {\n        this.curveDepositContractRO = new ethers.Contract(\n          chainAddresses.curveYDeposit,\n          CurveDepositAbi,\n          provider\n        );\n      } else this.curveDepositContractRO = undefined;\n\n      // Setup our balances\n      this.assets.balances['WOWS'].address = chainAddresses.token;\n      this.assets.balances['WETH/WOWS LP'].address = this.lpContractRO.address;\n      this.assets.balances['USDC'].address = chainAddresses.usdcToken;\n      this.assets.balances['USDT'].address = chainAddresses.usdtToken;\n      this.assets.balances['DAI'].address = chainAddresses.daiToken;\n      this.assets.balances['TUSD'].address = chainAddresses.tusdToken;\n      this.assets.balances['yCrv'].address = chainAddresses.curveYToken;\n      this.assets.balances['am3Crv'].address = chainAddresses.curveAToken;\n\n      this.assets.balances['WOWS'].handlerAddress =\n        chainAddresses.sftMinterProxy;\n      this.assets.balances['WETH/WOWS LP'].handlerAddress =\n        chainAddresses.cfolioItemHandlerLPProxy;\n      this.assets.balances['USDC'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['USDT'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['DAI'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['TUSD'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['yCrv'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n    } else {\n      this.tokenContractAddress = Store.nullAddress;\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.address = undefined;\n        value.value = 0;\n      }\n    }\n  }\n\n  async _setupContracts(\n    provider: ethers.providers.JsonRpcProvider\n  ): Promise<boolean> {\n    const chainAddresses = this._getChainAddresses();\n    if (chainAddresses) {\n      const signer = provider.getSigner(this.accountId);\n      this.tokenContract = new ethers.Contract(\n        chainAddresses.token,\n        TokenAbi,\n        signer\n      );\n      if (chainAddresses.cfolioItemHandlerLPProxy) {\n        this.cfihLpContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerLPProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.cfolioItemHandlerSCProxy) {\n        this.cfihScContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerSCProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.sftEvaluatorProxy) {\n        this.sftEvaluatorContract = new ethers.Contract(\n          chainAddresses.sftEvaluatorProxy,\n          SftEvaluatorAbi,\n          signer\n        );\n      }\n      if (chainAddresses.boosterProxy) {\n        this.boosterContract = new ethers.Contract(\n          chainAddresses.boosterProxy,\n          BoosterAbi,\n          signer\n        );\n      }\n      this.bridgeTargetAddress = chainAddresses.bridgeTarget;\n\n      return true;\n    }\n    return false;\n  }\n\n  _getSftState = async (payloadContent: PayloadContent | undefined) => {\n    if (!this.sftMintContractRO) {\n      return;\n    }\n\n    // Loop through the assets and build up level / cardIds to query\n    const levels: ethers.BigNumber[] = [];\n    const cardIds: ethers.BigNumber[] = [];\n\n    this.assets.cards.cards.forEach((level) =>\n      level.cards.forEach((card) => {\n        levels.push(ethers.BigNumber.from(level.chainRef));\n        cardIds.push(ethers.BigNumber.from(card.chainRef));\n      })\n    );\n\n    try {\n      if (!this.isSidechain()) {\n        const sftResult:\n          | {\n              prices: ethers.BigNumber[];\n              numMinted: number[];\n              maxMintable: number[];\n            }\n          | undefined = await this.sftMintContractRO?.getBaseSpec(\n          levels,\n          cardIds\n        );\n\n        if (sftResult !== undefined) {\n          let index = 0;\n          for (const level of this.assets.cards.cards) {\n            level.price = this.fromWei(sftResult.prices[index]);\n            level.quantity = sftResult.maxMintable[index];\n            for (const card of level.cards) {\n              card.minted = sftResult.numMinted[index];\n              index++;\n            }\n            if (index >= sftResult.prices.length) break;\n          }\n        }\n      }\n\n      const cfolioTypes: number[] = [];\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => cfolioTypes.push(card.chainRef))\n      );\n\n      const cfolioResult: [\n        ethers.BigNumber[],\n        ethers.BigNumber[],\n        ethers.BigNumber[]\n      ] = await this.sftMintContractRO?.getCFolioSpec(cfolioTypes);\n      let index = 0;\n\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => {\n          card.price = this.fromWei(cfolioResult[0][index]);\n          card.minted = cfolioResult[1][index].toNumber();\n          card.maxMintable = cfolioResult[2][index].toNumber();\n          ++index;\n        })\n      );\n      emitter.emit(ASSETS_STATE, { status: 'cards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getUserSft = async (payloadContent: PayloadContent | undefined) => {\n    if (this.address === '' || !this.sftMintContractRO) return;\n\n    try {\n      const result: [ethers.BigNumber[], ethers.BigNumber[]] =\n        await this.sftMintContractRO.getTokenIds(this.address);\n\n      const bridgeToken = this.polygonBridge\n        ? this.polygonBridge.getTokenIds(this.address)\n        : [];\n\n      const mergeList = result[0].map((t) => t);\n      mergeList.push(...result[1]);\n      mergeList.push(...bridgeToken.map((item) => item.tokenId));\n\n      const newUserSFT: SFT[] = mergeList\n        .filter((n) => n.mask(128).lte(Store.BASE_CARD_MAX))\n        .map((bn, index) => {\n          const cr = bn.mask(32).toNumber() >> 16;\n          let cardIndex = 0;\n          const levelIndex = this.assets.cards.cards.findIndex(\n            (l) =>\n              l.chainRef << 8 === (cr & 0xff00) &&\n              (cardIndex = l.cards.findIndex(\n                (c) => c.chainRef === (cr & 0xff)\n              )) >= 0\n          );\n          const bridgeItem = bridgeToken.find((item) => item.tokenId.eq(bn));\n          return {\n            tokenId: bn,\n            levelId: levelIndex,\n            cardId: cardIndex,\n            isBaseCard: bn.mask(128).lte(Store.BASE_CARD_MAX),\n            isStockCard: bn.mask(128).lte(Store.STOCK_CARD_MAX),\n            isWallet: false,\n            status: bridgeItem\n              ? bridgeItem.available\n                ? SFTS.BRIDGE_READY\n                : SFTS.BRIDGE_PENDING\n              : result[1].find((b) => b.eq(bn)) !== undefined\n              ? SFTS.LOCKED\n              : SFTS.UNLOCKED,\n            rewardRate: 0,\n            rewardShare: 0,\n            rewardEarned: 0,\n            mintTimestamp: 0,\n            cfolioItems: [],\n            boosterRewards: {\n              total: 0,\n              pending: 0,\n              apr: 0,\n            },\n          };\n        })\n        .sort((a, b) =>\n          a.tokenId.mask(128).gt(b.tokenId.mask(128))\n            ? 1\n            : a.tokenId.mask(128).lt(b.tokenId.mask(128))\n            ? -1\n            : 0\n        );\n      // Create a dummy UserTokenId UINT256Max for the users wallet\n      newUserSFT.unshift({\n        tokenId: BIGNUMBER_MAX,\n        levelId: -1,\n        cardId: -1,\n        isBaseCard: false,\n        isStockCard: false,\n        isWallet: true,\n        status: SFTS.UNLOCKED,\n        rewardRate: 0,\n        rewardShare: 0,\n        rewardEarned: 0,\n        mintTimestamp: 0,\n        cfolioItems: [],\n        boosterRewards: {\n          total: 0,\n          pending: 0,\n          apr: 0,\n        },\n      });\n\n      // Get all CFolio Items and tokenId information, root cFolioItems go into wallet (-1)\n      // We expect uint256: [%,MintTime,NumItems,[tokenId,type,numAssetValues,[assetValue]]]...\n      const result2: string = await this.sftMintContractRO.getTokenInformation(\n        mergeList\n      );\n      let readIndex = 0;\n      // We have now a string of uint256Hex values\n      mergeList.forEach((tokenId) => {\n        //get destination tokenId\n        let destinationId: number;\n        if (tokenId.mask(128).gt(Store.BASE_CARD_MAX)) destinationId = 0;\n        else\n          destinationId = newUserSFT.findIndex((sft) =>\n            sft.tokenId.eq(tokenId)\n          );\n        if (destinationId >= 0) {\n          newUserSFT[destinationId].rewardRate = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n          newUserSFT[destinationId].mintTimestamp = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n\n          let numCFolios = readUint256(result2, readIndex++).toNumber();\n          while (numCFolios > 0) {\n            const childId = readUint256(result2, readIndex++);\n            const child: SFTCHILD = {\n              tokenId: childId,\n              levelId: -1,\n              cardId: -1,\n              status:\n                destinationId === 0 &&\n                result[1].find((b) => b.eq(childId)) !== undefined\n                  ? SFTS.LOCKED\n                  : SFTS.UNLOCKED,\n              type: readUint256(result2, readIndex++).toNumber(),\n              assets: [],\n            };\n            child.levelId = this.assets.cfolioItems.findIndex(\n              (l) =>\n                (child.cardId = l.cards.findIndex(\n                  (c) => c.chainRef === child.type\n                )) >= 0\n            );\n            const numAssets = readUint256(result2, readIndex++).toNumber();\n            const bidx =\n              this.assets.cfolioItems[child.levelId].type === 'lpInvestment'\n                ? ['WETH/WOWS LP']\n                : this.getStableCurrencies();\n            for (let index = 0; index < numAssets; ++index) {\n              child.assets.push(\n                this.fromWei(\n                  readUint256(result2, readIndex++),\n                  this.assets.balances[bidx[index]].decimals\n                )\n              );\n            }\n            newUserSFT[destinationId].cfolioItems.push(child);\n            --numCFolios;\n          }\n        } else throw new Error('Mismatch in tokenId array');\n      });\n\n      this.assets.userSFT = newUserSFT;\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getSftRewards = async (plc: PayloadContent) => {\n    try {\n      if (!this.sftMintContractRO) return;\n      const filter = ['wolves', 'bois'];\n      const contracts = [this.cfihLpContract, this.cfihScContract];\n\n      for (let i = 0; i < 2; ++i) {\n        if (!contracts[i]) continue;\n\n        const sfts = this.assets.userSFT.filter(\n          (sft) =>\n            sft.isBaseCard &&\n            this.assets.cards.cards[sft.levelId].type === filter[i]\n        );\n\n        if (sfts.length === 0) continue;\n\n        // Returns:\n        //  result: totalsupply, rewardDur, rewardsPerDur, [share, earned]\n        //  boosterLocked\n        //  boosterPending\n        //  boosterApr\n        //  boosterSecsLeft\n        const result = await this.sftMintContractRO.getRewardInfo(\n          contracts[i]?.address,\n          sfts.map((sft) => sft.tokenId)\n        );\n        let readIndex = 0;\n        const cfiResult = result.result;\n        const ri = this.assets.rewardInfo[i];\n        ri.total = readUint256(cfiResult, readIndex++);\n        const total = this.fromWei(ri.total);\n        ri.rewardDuration = readUint256(cfiResult, readIndex++).toNumber();\n        ri.rewardPerDuration = readUint256(cfiResult, readIndex++);\n        sfts.forEach((sft, index) => {\n          sft.rewardShare =\n            (this.fromWei(readUint256(cfiResult, readIndex++)) * 100) / total;\n          sft.rewardEarned = this.fromWei(readUint256(cfiResult, readIndex++));\n          sft.boosterRewards.total = this.fromWei(result.boosterLocked[index]);\n          sft.boosterRewards.pending = this.fromWei(\n            result.boosterPending[index]\n          );\n          sft.boosterRewards.apr = this.fromWei(result.boosterApr[index]);\n          sft.boosterRewards.secsLeft = result.boosterSecsLeft[index].eq(\n            BIGNUMBER_MAX\n          )\n            ? undefined\n            : result.boosterSecsLeft[index].toNumber();\n        });\n      }\n      await this._updatePoolAPR();\n      emitter.emit(ASSETS_STATE, { status: 'rewards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _setCFolioAmount(\n    receipt: ethers.providers.TransactionReceipt,\n    sft: ethers.BigNumber,\n    cfolio: ethers.BigNumber\n  ) {\n    const iface = new ethers.utils.Interface(CFolioFarmAbi);\n    const stableCurrencies = this.getStableCurrencies();\n    receipt.logs.find((log) => {\n      if (\n        log.address === this.cfolioFarmLpAddress ||\n        log.address === this.cfolioFarmScAddress\n      ) {\n        const parsed = iface.parseLog(log);\n        if (['AssetAdded', 'AssetRemoved'].includes(parsed.name)) {\n          this.assets.userSFT.find(\n            (isft) =>\n              isft.tokenId === sft &&\n              isft.cfolioItems.find((item) => {\n                if (item.tokenId === cfolio) {\n                  if (log.address === this.cfolioFarmLpAddress) {\n                    item.assets[0] = this.fromWei(parsed.args[2]);\n                    emitter.emit(ASSETS_STATE, {\n                      status: 'cfolio_amount',\n                    } as AssetStateresult);\n                  } else if (this.cfihScContract) {\n                    this.cfihScContract\n                      .getAmounts(parsed.args[0])\n                      .then((amounts: ethers.BigNumber[]) => {\n                        amounts.forEach(\n                          (amount, index) =>\n                            (item.assets[index] = this.fromWei(\n                              amount,\n                              this.assets.balances[stableCurrencies[index]]\n                                .decimals\n                            ))\n                        );\n                        emitter.emit(ASSETS_STATE, {\n                          status: 'cfolio_amount',\n                        } as AssetStateresult);\n                      });\n                  }\n                  dispatcher.dispatch({\n                    type: ASSETS_STATE,\n                    content: { filter: ['tokens', 'balances'] },\n                  } as Payload);\n                  return true;\n                }\n                return false;\n              })\n          );\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _setRewardRate(receipt: ethers.providers.TransactionReceipt): void {\n    const iface = new ethers.utils.Interface(SftEvaluatorAbi);\n    receipt.logs.find((log) => {\n      if (log.address === this.sftEvaluatorContract?.address) {\n        const parsed = iface.parseLog(log);\n        if (parsed.name === 'RewardRate') {\n          const sft = this.assets.userSFT.find((sft) =>\n            sft.tokenId.eq(parsed.args[0])\n          );\n          if (sft) {\n            sft.rewardRate = parsed.args[1];\n          }\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _getTokenContractAddress() {\n    return this.tokenContractAddress;\n  }\n\n  _getAssetsBalances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Balances(\n        this.address,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.value = this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'balances' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  _getAssetsAllowances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const spender = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.handlerAddress ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Allowances(\n        this.address,\n        spender,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.allowance = balances[index].gt(\n            ethers.BigNumber.from(0xffffffff).mul(\n              ethers.BigNumber.from(10).pow(value.decimals)\n            )\n          )\n            ? -1\n            : this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'allowance' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  async _updatePoolAPR() {\n    let lpContractRO = this.lpContractRO;\n    if (this.chainId === 137) {\n      const provider = new ethers.providers.InfuraProvider(\n        'mainnet',\n        process.env.REACT_APP_INFURA_ID\n      );\n      lpContractRO = new ethers.Contract(\n        (addresses as IIndexable)[1].uniV2Pair,\n        UniV2PairAbi,\n        provider\n      );\n    } else if (this.isSidechain()) return;\n\n    if (this.uniDaiWethPairContractRO && lpContractRO) {\n      const e18 = ethers.BigNumber.from('10').pow(18);\n\n      const daiWethReserves = await this.uniDaiWethPairContractRO.getReserves();\n      // Price of 1 WETH in DAI\n      const wethPrice = daiWethReserves.reserve0.gt(daiWethReserves.reserve1)\n        ? daiWethReserves.reserve0.mul(e18).div(daiWethReserves.reserve1)\n        : daiWethReserves.reserve1.mul(e18).div(daiWethReserves.reserve0);\n\n      const wowsWethReserves = await lpContractRO.getReserves();\n      // Price of 1 WOWS\n      const wowsPrice = wowsWethReserves.reserve1\n        .mul(wethPrice)\n        .div(wowsWethReserves.reserve0);\n\n      for (let i = 0; i < 2; ++i) {\n        const rewardInfo = this.assets.rewardInfo[i];\n\n        rewardInfo.priceWOWS = this.fromWei(wowsPrice);\n\n        let stakedPrice;\n        if (i === 0) {\n          // TotalSupply of the WOWS/WETH pool\n          const wowsWethTotalSupply = await lpContractRO.totalSupply();\n\n          // Total price of pool\n          const poolPrice = wowsWethReserves.reserve0\n            .mul(wowsPrice)\n            .add(wowsWethReserves.reserve1.mul(wethPrice))\n            .div(e18);\n\n          rewardInfo.priceToken = this.fromWei(\n            poolPrice.mul(e18).div(wowsWethTotalSupply)\n          );\n\n          // Staked share\n          stakedPrice = poolPrice\n            .mul(ethers.BigNumber.from(rewardInfo.total))\n            .div(wowsWethTotalSupply);\n        } else if (this.curveDepositContractRO) {\n          // Get the DAI price of one yCrv token\n          const priceToken =\n            await this.curveDepositContractRO.calc_withdraw_one_coin(\n              this.toWei(1),\n              0\n            );\n          rewardInfo.priceToken = this.fromWei(priceToken);\n\n          // Staked share\n          stakedPrice = priceToken\n            .mul(ethers.BigNumber.from(rewardInfo.total))\n            .div(e18);\n        }\n\n        if (rewardInfo.rewardDuration) {\n          // yearly emission\n          const emmission = wowsPrice.mul(\n            rewardInfo.rewardPerDuration\n              .mul(ethers.BigNumber.from(SECONDS_PER_YEAR))\n              .div(ethers.BigNumber.from(rewardInfo.rewardDuration).mul(e18))\n          );\n\n          const apr = stakedPrice.gt(0)\n            ? emmission.mul(100).div(stakedPrice).toNumber()\n            : 0;\n          rewardInfo.apr = apr;\n        }\n      }\n    }\n  }\n\n  aprToApy(apr: number): string {\n    const apy = (Math.pow(1.0 + apr / 100 / 52, 52) - 1.0) * 100;\n    return apy > 1e4 ? 'INF' : apy.toFixed(2);\n  }\n\n  /************** TX ****************/\n\n  _doSftBuy = async (payloadContent: PayloadContent) => {\n    const { amount, id } = payloadContent;\n\n    try {\n      if (!amount || id === undefined) {\n        throw new Error('Invalid input');\n      }\n\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.sftHolderContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Invalid contract');\n      }\n\n      const sftAmount = this.toWei(amount);\n      const walletAmount = await this.tokenContract.balanceOf(this.address);\n\n      if (sftAmount.gt(walletAmount)) {\n        throw new Error('Insufficient balances');\n      }\n\n      const cardData = await this.sftMintContractRO?.getBaseSpec(\n        [id.toNumber() >> 8],\n        [id.toNumber() & 0xff]\n      );\n      if (cardData.maxMintable[0] <= cardData.numMinted[0]) {\n        throw new Error('No cards available');\n      }\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const allowance = await this.tokenContract.allowance(\n        this.address,\n        sftMintContract.address\n      );\n\n      if (allowance.lt(sftAmount)) {\n        const tx = await this.tokenContract.approve(\n          sftMintContract.address,\n          this._checkUnlimited('WOWS', sftAmount)\n        );\n        emitter.emit(SFT_BUY, {\n          status: 'approve',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx.wait();\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction | undefined =\n        await sftMintContract?.mintWowsSFT(\n          this.address,\n          id.toNumber() >> 8,\n          id.toNumber() & 0xff\n        );\n      emitter.emit(SFT_BUY, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx?.wait();\n      emitter.emit(SFT_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftLock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (\n      !this.sftHolderContractRO ||\n      !this.tradeFloorContractRO ||\n      !this.ethersProvider\n    ) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    const sftHolderContract = new ethers.Contract(\n      this.sftHolderContractRO.address,\n      this.sftHolderContractRO.interface,\n      this.ethersProvider.getSigner(this.accountId)\n    );\n\n    try {\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftHolderContract.safeTransferFrom(\n          this.address,\n          this.tradeFloorContractRO.address,\n          id,\n          1,\n          []\n        );\n      emitter.emit(SFT_LOCK, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_LOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        type: SFT_LOCK,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftTransfer = async (payloadContent: PayloadContent) => {\n    const { id, address } = payloadContent;\n    if (id === undefined || !address) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.sftHolderContractRO || !this.ethersProvider) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const sftHolderContract = this.sftHolderContractRO.connect(\n        this.ethersProvider.getSigner(this.accountId)\n      );\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftHolderContract.safeTransferFrom(\n          this.address,\n          address,\n          id,\n          1,\n          []\n        );\n      emitter.emit(SFT_TRANSFER, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_TRANSFER, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftMessageProof = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.ethersSigner || !this.polygonBridge) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n    try {\n      const proof = await this.polygonBridge.processPending(id);\n      const contract = new ethers.Contract(\n        this.bridgeTargetAddress,\n        RootTunnelAbi,\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx = await contract.receiveMessage(proof);\n\n      emitter.emit(SFT_PROOF, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_PROOF, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this.polygonBridge?.removeItem(id);\n    } catch (e) {\n      this.polygonBridge?.resetPending(id);\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftUnlock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.tradeFloorContractRO || !this.ethersSigner) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const tradeFloorContract = this.tradeFloorContractRO.connect(\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction = await tradeFloorContract.burn(\n        this.address,\n        id,\n        1\n      );\n      emitter.emit(SFT_UNLOCK, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_UNLOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemBuy = async (payloadContent: PayloadContentCFolioItem) => {\n    const { wowsAmount, investAmount, sftTokenId, cfolioType } = payloadContent;\n\n    try {\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (wowsAmount > 0) {\n        const weiAmount = this.toWei(wowsAmount);\n        const walletAmount = await this.tokenContract.balanceOf(this.address);\n        if (weiAmount.gt(walletAmount)) {\n          throw new Error('Insufficient WOWS balances');\n        }\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas } = await this._investmentApproval(\n        CFOLIO_ITEM_BUY,\n        cfolioType,\n        false,\n        investAmount,\n        investWeiAmounts\n      );\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n\n      if (wowsAmount > 0) {\n        const allowance = await this.tokenContract.allowance(\n          this.address,\n          sftMintContract.address\n        );\n        const weiAmount = this.toWei(wowsAmount);\n        if (allowance.lt(weiAmount)) {\n          const tx = await this.tokenContract.approve(\n            sftMintContract.address,\n            this._checkUnlimited('WOWS', weiAmount)\n          );\n          emitter.emit(CFOLIO_ITEM_BUY, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await sftMintContract.estimateGas.mintCFolioItemSFT(\n            this.address,\n            cfolioType,\n            sftTokenId,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftMintContract.mintCFolioItemSFT(\n          this.address,\n          cfolioType,\n          sftTokenId,\n          investWeiAmounts,\n          options\n        );\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      // There is no transfer with our address emitted,\n      // in case of valid SFT: Request an tokenId update\n      if (!sftTokenId.eq(BIGNUMBER_MAX)) {\n        this._addDQ(tx?.blockNumber ?? 0, {\n          type: ASSETS_STATE,\n          content: { filter: ['tokens', 'balances'] },\n        } as Payload);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemDeposit = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas, cfihContract } = await this._investmentApproval(\n        CFOLIO_ITEM_DEPOSIT,\n        cfolioType,\n        true,\n        investAmount,\n        investWeiAmounts\n      );\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.deposit(\n            this.address,\n            sftTokenId,\n            cfolioTokenId,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      const tx = await cfihContract.deposit(\n        this.address,\n        sftTokenId,\n        cfolioTokenId,\n        investWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _investmentApproval = async (\n    msgType: string,\n    cfiType: number,\n    requireOneSet: boolean,\n    investAmount: number[],\n    investWeiAmounts: ethers.BigNumber[]\n  ) => {\n    const cfiLevel = this.assets.cfolioItems.find((cf) =>\n      cf.cards.find((cfc) => cfc.chainRef === cfiType)\n    );\n    if (!cfiLevel) {\n      throw new Error('Unsupported cfolioType');\n    }\n\n    let cfihContract, balances;\n    if (cfiLevel.type === 'lpInvestment') {\n      cfihContract = this.cfihLpContract;\n      balances = ['WETH/WOWS LP'];\n    } else {\n      cfihContract = this.cfihScContract;\n      balances = this.getStableCurrencies();\n    }\n\n    if (!cfihContract || !this.ethersSigner) {\n      throw new Error('Contract not initialized');\n    }\n\n    const approvalContracts: (ethers.Contract | undefined)[] = [];\n    let oneSet = false;\n    let oneStableSet = false;\n\n    for (const index in investAmount) {\n      if (investAmount[index] > 0) {\n        const balance = this.assets.balances[balances[index]];\n        if (!balance.address) throw new Error('ERC20 address missing');\n        const approvalContract = new ethers.Contract(\n          balance.address,\n          ERC20Abi,\n          this.ethersSigner\n        );\n        let investWeiAmount = this.toWei(investAmount[index], balance.decimals);\n\n        const walletAmount = await approvalContract.balanceOf(this.address);\n        if (investWeiAmount.gt(walletAmount)) {\n          if (investWeiAmount.sub(walletAmount).lt(balance.dust)) {\n            investWeiAmount = walletAmount;\n          } else {\n            throw new Error('Insufficient LP balances');\n          }\n        } else if (walletAmount.sub(investWeiAmount).lt(balance.dust)) {\n          // Try to invest dust, too\n          investWeiAmount = walletAmount;\n        }\n        investWeiAmounts.push(investWeiAmount);\n        approvalContracts.push(approvalContract);\n\n        if (\n          cfihContract === this.cfihScContract &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n        oneSet = true;\n      } else {\n        investWeiAmounts.push(ethers.BigNumber.from(0));\n        approvalContracts.push(undefined);\n      }\n    }\n\n    if (requireOneSet && !oneSet) throw new Error('ERC20 address missing');\n    if (!oneSet) investWeiAmounts.length = 0;\n\n    for (const index in investWeiAmounts) {\n      if (approvalContracts[index] !== undefined) {\n        const allowance = await approvalContracts[index]?.allowance(\n          this.address,\n          cfihContract?.address\n        );\n        if (allowance.lt(investWeiAmounts[index])) {\n          // USDT doesn't allow increase of existing allowance\n          if (balances[index] === 'USDT' && !allowance.eq(0)) {\n            throw new Error(\n              \"Revoke USDT allowance in 'Manage Approval' required!\"\n            );\n          }\n          const tx = await approvalContracts[index]?.approve(\n            cfihContract?.address,\n            this._checkUnlimited(\n              balances[parseInt(index)],\n              investWeiAmounts[index]\n            )\n          );\n          emitter.emit(msgType, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n    }\n    return { additionalGas: oneStableSet ? 400000 : 0, cfihContract };\n  };\n\n  _doCFolioItemWithdraw = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      if (!this.sftHolderContractRO) {\n        throw new Error('Contract not initialized');\n      }\n\n      // get cFolioAddress from cFolioTokenId\n      const cfa = await this.sftHolderContractRO.tokenIdToAddress(\n        cfolioTokenId.mask(128)\n      );\n      if (cfa === Store.nullAddress) {\n        throw new Error('Cannot get cfolio address');\n      }\n\n      const cfiLevel = this.assets.cfolioItems.find((cf) =>\n        cf.cards.find((cfc) => cfc.chainRef === cfolioType)\n      );\n      if (!cfiLevel) {\n        throw new Error('Unsupported cfolioType');\n      }\n\n      let cfihContract, balances;\n      if (cfiLevel.type === 'lpInvestment') {\n        cfihContract = this.cfihLpContract;\n        balances = ['WETH/WOWS LP'];\n      } else {\n        cfihContract = this.cfihScContract;\n        balances = this.getStableCurrencies();\n      }\n\n      if (!cfihContract || !this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (investAmount.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const cfolioAmounts: ethers.BigNumber[] = await cfihContract.getAmounts(\n        cfa\n      );\n\n      if (cfolioAmounts.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const withdrawWeiAmounts: ethers.BigNumber[] = [];\n      let oneStableSet = false;\n      for (const index in investAmount) {\n        const balance = this.assets.balances[balances[index]];\n        let withdrawWeiAmount = this.toWei(\n          investAmount[index],\n          balance.decimals\n        );\n        if (withdrawWeiAmount.gt(cfolioAmounts[index])) {\n          if (withdrawWeiAmount.sub(cfolioAmounts[index]).lt(balance.dust)) {\n            withdrawWeiAmount = cfolioAmounts[index];\n          } else {\n            throw new Error('Insufficient LP balances');\n          }\n        } else if (\n          cfolioAmounts[index].sub(withdrawWeiAmount).lt(balance.dust)\n        ) {\n          // Try to invest dust, too\n          withdrawWeiAmount = cfolioAmounts[index];\n        }\n        if (\n          cfihContract === this.cfihScContract &&\n          withdrawWeiAmount.gt(0) &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n\n        withdrawWeiAmounts.push(withdrawWeiAmount);\n      }\n\n      let options = {};\n      if (oneStableSet) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.withdraw(\n            sftTokenId,\n            cfolioTokenId,\n            withdrawWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + 400000 };\n      }\n\n      const tx = await cfihContract.withdraw(\n        sftTokenId,\n        cfolioTokenId,\n        withdrawWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx?.wait();\n\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'success',\n        tx: receipt.transactionHash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doCFolioItemUnlockAndTransfer = async (\n    payloadContent: PayloadContentCFolioItemLT\n  ) => {\n    const { src, dst, lockedCFIs, transferCFIs } = payloadContent;\n\n    try {\n      if (\n        !this.sftHolderContractRO ||\n        !this.tradeFloorContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n      if (src === dst) {\n        throw new Error('Ooups! src === dest');\n      }\n\n      // get destination address\n      let dstAddress = this.address;\n      if (dst !== BIGNUMBER_MAX) {\n        dstAddress = this.sftHolderContractRO.tokenIdToAddress(dst);\n        if (dstAddress === Store.nullAddress) {\n          throw new Error('Cannot get cfolio address');\n        }\n      }\n\n      this.eventsSuspended = true;\n\n      if (lockedCFIs.length > 0) {\n        if (src !== BIGNUMBER_MAX) {\n          throw new Error('Unlock only from Wallet');\n        }\n        const tradeFloorContract = this.tradeFloorContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await tradeFloorContract.burnBatch(\n          this.address,\n          lockedCFIs,\n          new Array(lockedCFIs.length).fill(1)\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx?.wait();\n\n        // CFIs are now in users wallet -> push them to cfiBridge\n        transferCFIs.push(...lockedCFIs.map((id) => id.mask(128)));\n      }\n      if (transferCFIs.length > 0) {\n        // CFI's has to be in TF contract!\n        let srcAddress = this.address;\n        if (src !== BIGNUMBER_MAX) {\n          srcAddress = this.sftHolderContractRO.tokenIdToAddress(src);\n          if (srcAddress === Store.nullAddress) {\n            throw new Error('Cannot get cfolio address');\n          }\n        }\n        const sftHolderContract = this.sftHolderContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await sftHolderContract.safeBatchTransferFrom(\n          srcAddress,\n          dstAddress,\n          transferCFIs,\n          new Array(transferCFIs.length).fill(1),\n          []\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx.hash,\n        } as StatusResult);\n\n        await tx.wait();\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'success',\n          tx: tx.hash,\n        } as StatusResult);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftClaim = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftMintContractRO || !this.ethersSigner) {\n        throw new Error('Invalid contract state');\n      }\n\n      const mintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const tx: ethers.ContractTransaction = await mintContract.claimSFTRewards(\n        payloadContent.id,\n        payloadContent.time ?? 0\n      );\n      emitter.emit(SFT_CLAIM, {\n        status: 'tx',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_CLAIM, {\n        status: 'success',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM, {\n        status: 'error',\n        type: SFT_CLAIM,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftClaimBooster = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.boosterContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.boosterContract.claimRewards(\n          payloadContent.id,\n          payloadContent.time\n        );\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftUpgrade = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftEvaluatorContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.sftEvaluatorContract.setRewardRate(payloadContent.id, true);\n      emitter.emit(SFT_UPGRADE, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n\n      this._setRewardRate(receipt);\n\n      emitter.emit(SFT_UPGRADE, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UPGRADE, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doRevokeApproval = async (payloadContent: PayloadContent) => {\n    const currency = payloadContent.filter ? payloadContent.filter[0] : '';\n    const balance = this.assets.balances[currency];\n    try {\n      if (!this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (!balance) {\n        throw new Error('Invalid input currency');\n      }\n\n      const approvalContract = new ethers.Contract(\n        balance.address ?? '',\n        ERC20Abi,\n        this.ethersSigner\n      );\n\n      const tx = await approvalContract.approve(balance.handlerAddress, 0);\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'tx',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'success',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['allowance'] },\n      } as Payload);\n    } catch (e) {\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'error',\n        type: currency,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  /******************** Misc *********************/\n\n  fromWei(n: ethers.BigNumber, decimals = 18) {\n    return parseFloat(ethers.utils.formatUnits(n, decimals));\n  }\n\n  toWei(n: number, decimals = 18) {\n    const parsed = typeof n === 'number' ? n.toFixed(decimals) : n;\n    return ethers.utils.parseUnits(parsed, decimals);\n  }\n\n  _checkUnlimited(currency: string, defaultReturn: ethers.BigNumber) {\n    const index = Object.keys(this.assets.balances).findIndex(\n      (b) => b === currency\n    );\n    if (index >= 0) {\n      const mask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n      if (mask & (1 << index)) return BIGNUMBER_MAX;\n    }\n    return defaultReturn;\n  }\n}\n\nconst StoreClasses = {\n  store: new Store(),\n  emitter: emitter,\n  dispatcher: dispatcher,\n};\n\nexport class StoreContainer extends React.Component<unknown> {\n  componentDidMount(): void {\n    window.addEventListener('load', async () => {\n      StoreClasses.store.mount();\n    });\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.store.unmount();\n  }\n\n  render(): React.ReactNode {\n    return <>{this.props.children}</>;\n  }\n}\n\nexport { StoreClasses };\n","export default \"data:image/png;base64,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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n// Events (used in dispatcher and emitter)\nexport const ASSETS_STATE = 'ASSETS_STATE';\nexport const REVOKE_APPROVAL = 'REVOKE_APPROVAL';\n\nexport const ADDRESS_COPIED = 'ADDRESS_COPIED';\nexport const CONNECTION_CHANGED = 'CONNECTION_CHANGED';\nexport const NEW_BLOCK = 'NEW_BLOCK'; // Block ticker\n\nexport const SFT_BUY = 'SFT_BUY'; // Buy (mint) an SFT with given level / class\nexport const SFT_CLAIM = 'SFT_CLAIM'; // Claim all SFT rewards\nexport const SFT_CLAIM_BOOSTER = 'SFT_CLAIM_BOOSTER'; // Claim all SFT rewards from booster\nexport const SFT_LOCK = 'SFT_LOCK'; // Transfer SFT to TradingFloor contract\nexport const SFT_PROOF = 'SFT_PROOF'; // Fire the Polygon Burn Proof\nexport const SFT_REWARD = 'SFT_REWARD'; // REQUEST REWARD INFO\nexport const SFT_TRANSFER = 'SFT_TRANSFER'; // Transfer / bridge\nexport const SFT_UNLOCK = 'SFT_UNLOCK'; // Burn NFT, transfer SFT back\nexport const SFT_UPGRADE = 'SFT_UPGRADE'; // Upgrade Reward Share\n\nexport const CFOLIO_ITEM_BUY = 'CFOLIO_ITEM_BUY'; // Buy (mint) cfolioItem\nexport const CFOLIO_ITEM_DEPOSIT = 'CFOLIO_ITEM_DEPOSIT'; // Add investment into existing CFI\nexport const CFOLIO_ITEM_WITHDRAW = 'CFOLIO_ITEM_WITHDRAW_LP'; // Remove LP token from existing CFI\nexport const CFOLIO_ITEM_UNLOCK_TRANSFER = 'CFOLIO_ITEM_UNLOCK_TRANSFER'; // UnlockBurn / transfer CFIs\n","export default __webpack_public_path__ + \"static/media/coinbase-wallet.9fa41556.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './image_slider.css';\n\nimport { ethers } from 'ethers';\nimport { Fragment, RefObject, useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport interface IMAGE_SLIDER_CFOLIO {\n  name: string;\n  tokenId: ethers.BigNumber;\n  disabled: boolean;\n}\n\nexport interface IMAGE_SLIDER_SLIDE {\n  url: string;\n  cfolioItems: IMAGE_SLIDER_CFOLIO[];\n  tokenId?: ethers.BigNumber;\n  locked?: boolean;\n}\n\nexport type IMAGE_SLIDER_INTERFACE = {\n  prev: () => void;\n  next: () => void;\n  go: (index: number) => void;\n};\n\ntype PROPS = {\n  sliderId?: string;\n  initCallback: (id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) => void;\n  onSlideChanged?: (\n    slideId: string | undefined,\n    index: number,\n    checked: number[]\n  ) => void;\n  slideWidth: number;\n  slides: IMAGE_SLIDER_SLIDE[];\n  startSlideId?: number;\n  checkbox?: boolean;\n  toolTippLink?: string;\n};\n\nconst ImageSlider = ({\n  sliderId,\n  initCallback,\n  onSlideChanged,\n  slideWidth,\n  slides,\n  startSlideId,\n  checkbox,\n  toolTippLink,\n}: PROPS): JSX.Element => {\n  const containerRef: RefObject<HTMLDivElement> = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [checked, setChecked] = useState([] as number[]);\n  const [displayIndex, setDisplayIndex] = useState(-1);\n  const [left, setLeft] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [useTransition, enableTransition] = useState(false);\n\n  const prev = () => {\n    if (currentIndex === 0) {\n      return setCurrentIndex(slides.length - 1);\n    }\n    slides.length > 0 && setCurrentIndex(currentIndex - 1);\n  };\n\n  const next = () => {\n    if (currentIndex + 1 === slides.length) {\n      return setCurrentIndex(0);\n    }\n    slides.length > currentIndex + 1 && setCurrentIndex(currentIndex + 1);\n  };\n\n  const go = (index: number) =>\n    index >= 0 && index < slides.length && setCurrentIndex(index);\n\n  const select = (index: number) => {\n    if (index >= 0 && index < slides.length) {\n      const newChecked = checked.filter((e) => e !== index);\n      if (newChecked.length === checked.length) newChecked.push(index);\n      setChecked(newChecked);\n    }\n  };\n\n  initCallback(sliderId, { prev, next, go });\n\n  useEffect(() => {\n    if (onSlideChanged) {\n      onSlideChanged(sliderId, currentIndex, checked);\n    }\n  }, [currentIndex, onSlideChanged, checked, sliderId]);\n\n  useEffect(() => {\n    setLeft((width - slideWidth) / 2 - currentIndex * slideWidth);\n    if (!checkbox && currentIndex !== displayIndex) {\n      setDisplayIndex(-1);\n      setTimeout(() => setDisplayIndex(currentIndex), 250);\n    }\n  }, [currentIndex, displayIndex, slideWidth, width, checkbox]);\n\n  useEffect(() => {\n    enableTransition(false);\n    setTimeout(() => enableTransition(true), 500);\n  }, [slides]);\n\n  useEffect(() => {\n    if (startSlideId === undefined) {\n      setChecked([]);\n      setDisplayIndex(-1);\n      setCurrentIndex(0);\n    } else setCurrentIndex(startSlideId);\n  }, [slides, startSlideId]);\n\n  useEffect(() => {\n    if (containerRef.current) setWidth(containerRef.current.clientWidth);\n\n    const resizeListener = () => {\n      if (containerRef.current) setWidth(containerRef.current.clientWidth);\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"image_slide_container tk-aktiv-grotesk-condensed\"\n      ref={containerRef}\n    >\n      <div\n        className={`image_slide_track ${useTransition && 'trans'}`}\n        style={{ left: left + 'px' }}\n      >\n        {slides.map((elem, index) => {\n          return (\n            <Fragment key={'si_' + index}>\n              <div className=\"d-flex flex-column justify-content-center text-center p-0 m-0 p_relative\">\n                <div\n                  className={\n                    'image_slide' +\n                    (checked.indexOf(index) >= 0\n                      ? ' active c-pointer'\n                      : index === displayIndex\n                      ? ' active c-default'\n                      : ' c-pointer')\n                  }\n                  style={{\n                    width: slideWidth + 'px',\n                    // ['--url' as string]: `url(${elem.url}`,\n                  }}\n                  onClick={() => (checkbox ? select(index) : go(index))}\n                >\n                  {elem.cfolioItems.length > 0 && (\n                    <>\n                      <div className={'slide_count'}>\n                        {elem.cfolioItems.length}\n                      </div>\n                      <div className=\"slide_tooltip_wrapper\">\n                        <div className=\"slide_tooltip_content\">\n                          {elem.cfolioItems.map((cfi) =>\n                            !toolTippLink ||\n                            index !== displayIndex ||\n                            cfi.disabled ? (\n                              <p\n                                key={cfi.tokenId.toHexString()}\n                                className={cfi.disabled ? 'disabled' : ''}\n                              >\n                                {cfi.name}\n                              </p>\n                            ) : (\n                              <Link\n                                key={cfi.tokenId.toHexString()}\n                                to={\n                                  toolTippLink +\n                                  '&tokenId=' +\n                                  cfi.tokenId.toHexString()\n                                }\n                              >\n                                {cfi.name}\n                              </Link>\n                            )\n                          )}\n                        </div>\n                      </div>\n                    </>\n                  )}\n                  {elem.locked && <div className={'slide_locked'} />}\n\n                  <img width=\"100%\" height=\"100%\" src={elem.url} alt=\"\" />\n                </div>\n\n                <span className=\"p-0 m-0 font-13 image_slider_tid\">\n                  {elem.tokenId && elem.tokenId.mask(128).toHexString()}\n                </span>\n              </div>\n            </Fragment>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport { ImageSlider };\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Approval.css';\n\nimport { useEffect, useReducer, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { ASSETS_STATE, REVOKE_APPROVAL } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  Payload,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\n\ntype PROPS = {\n  hideCB: () => void;\n  show: boolean;\n  t: TFunction;\n};\n\nfunction Approval({ hideCB, show, t }: PROPS): JSX.Element {\n  const [redraw, setRedraw] = useState(false);\n\n  const reducer = (\n    state: string[],\n    action: { action: number; key: string }\n  ) => {\n    switch (action.action) {\n      case 1:\n        return [...state, action.key];\n      case -1:\n        return state.filter((e) => e !== action.key);\n      default:\n        throw new Error();\n    }\n  };\n\n  const [approving, setApproving] = useReducer(reducer, []);\n\n  let checkMask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n\n  const setCheck = (index: number, checked: boolean) => {\n    checkMask = checked ? checkMask | (1 << index) : checkMask & ~(1 << index);\n    localStorage.setItem('APPROVAL', checkMask.toString());\n  };\n\n  useEffect(() => {\n    const assetState = (result: AssetStateresult) => {\n      if (result.status === 'allowance') setRedraw(true);\n    };\n\n    const handleRevoke = (result: StatusResult) => {\n      if (result.status !== 'tx') {\n        setApproving({ action: -1, key: result.type });\n      }\n    };\n\n    StoreClasses.emitter.on(ASSETS_STATE, assetState);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, handleRevoke);\n    StoreClasses.dispatcher.dispatch({\n      type: ASSETS_STATE,\n      content: { filter: ['allowance'] },\n    } as Payload);\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(REVOKE_APPROVAL, handleRevoke);\n      StoreClasses.emitter.off(ASSETS_STATE, assetState);\n    };\n  }, []);\n\n  const balances = StoreClasses.store.getAssets().balances;\n\n  const revoke = (key: string) => {\n    const payload = {\n      type: REVOKE_APPROVAL,\n      content: {\n        filter: [key],\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setApproving({ action: 1, key: key });\n  };\n\n  if (redraw) setRedraw(false);\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} size=\"lg\">\n      <Modal.Header closeButton>\n        <Modal.Title>Manage Approval</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        In order to allow our smart contracts work with the assets in your\n        wallet, you have to approve it.\n        <br />\n        By default we approve only the exact amount for an asset, which means\n        that you have to pay multiple times in gas if you process multiple\n        operations for the same asset (e.g. investment or NFT purchase)\n        <br />\n        Enabling \"Unlimited\" approval approves our smart contract only once, but\n        it comes with the risk that in case of a software bug or an attack our\n        smart contract is allowed to pull the full available asset amount out of\n        your wallet.\n        <br />\n        Revoke allowances early to make sure that in an extraordinary situation\n        your assets are safe.\n        <span className=\"d-block mt-2\">\n          <b>Hint: </b>MetaMask supports fine control for approval just before\n          you confirm the approve transaction\n        </span>\n        <table className=\"mt-4 w-100 tk-aktiv-grotesk-condensed font-14 text-center\">\n          <thead>\n            <tr>\n              <td>Asset</td>\n              <td>Unlimited</td>\n              <td>Allowance</td>\n              <td>Revoke</td>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.entries(balances).map(([k, v], index) => (\n              <tr key={`AT_${index}`}>\n                <td>{k}</td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    onChange={(e) => setCheck(index, e.target.checked)}\n                    defaultChecked={(checkMask & (1 << index)) !== 0}\n                  />\n                </td>\n                <td>\n                  {v.allowance < 0 ? 'UNLIMITED' : v.allowance.toFixed(2)}\n                </td>\n                <td>\n                  <button\n                    className={'wolves-btn font-16 white-border'}\n                    disabled={approving.includes(k) || v.allowance === 0}\n                    onClick={() => revoke(k)}\n                  >\n                    REVOKE\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Approval);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './asset_input.css';\n\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\ntype PROPS = {\n  currency: string;\n  defaultValue?: string;\n  minAmount: number;\n  maxAmount: number;\n  cb?: (n: number) => void;\n};\n\nfunction AssetInput({\n  cb,\n  currency,\n  defaultValue,\n  maxAmount,\n  minAmount,\n}: PROPS): JSX.Element {\n  const [hasFocus, setHasFocus] = useState(false);\n  const [amountChanged, setAmountChanged] = useState(false);\n  const inputRef: React.RefObject<HTMLInputElement> = useRef(null);\n\n  const handleOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.target.value = event.target.value\n      .replace(/[^0-9,.]/gi, '')\n      .replace(',', '.');\n    verifyAndCb();\n  };\n\n  const setMax = () => {\n    if (inputRef.current) inputRef.current.value = maxAmount.toString();\n    setAmountChanged(true);\n  };\n\n  const verifyAndCb = useCallback(() => {\n    if (cb && inputRef.current) {\n      const num =\n        minAmount === 0 && inputRef.current.value === ''\n          ? 0\n          : parseFloat(inputRef.current.value);\n      cb(num < minAmount || num > maxAmount ? NaN : num);\n    }\n  }, [cb, minAmount, maxAmount]);\n\n  useEffect(() => {\n    if (inputRef.current && !hasFocus) {\n      inputRef.current.value = defaultValue ?? '';\n      setAmountChanged(true);\n    }\n  }, [hasFocus, maxAmount, defaultValue]);\n\n  useEffect(() => {\n    if (defaultValue && inputRef.current) {\n      if (minAmount === 0 && parseFloat(defaultValue) === 0)\n        inputRef.current.value = '';\n      else inputRef.current.value = defaultValue;\n      setAmountChanged(true);\n    }\n  }, [defaultValue, minAmount]);\n\n  useEffect(() => {\n    if (amountChanged) {\n      setAmountChanged(false);\n      verifyAndCb();\n    }\n  }, [amountChanged, verifyAndCb]);\n\n  const maxVisible = inputRef.current\n    ? !hasFocus && inputRef.current.value === ''\n    : true;\n\n  return (\n    <div className=\"asset-input-container opaque\">\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        className=\"asset-input\"\n        onFocus={() => setHasFocus(true)}\n        onBlur={() => setHasFocus(false)}\n        onChange={handleOnChange}\n        ref={inputRef}\n      />\n      <div\n        className=\"asset-input-max\"\n        onClick={() => setMax()}\n        hidden={!maxVisible}\n      >\n        max\n      </div>\n      <div className=\"asset-input-currency\">{currency}</div>\n    </div>\n  );\n}\n\nexport default AssetInput;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Stable.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n} from '../../../stores/constants';\nimport {\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n} from '../../../stores/store';\nimport Approval from '../../Approval/Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction Stable({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [currencyIndex, setCurrencyIndex] = useState(0);\n  const [checkedIndex, setCheckedIndex] = useState(-1);\n  const [inputVals, setInputVals] = useState([0, 0, 0, 0, 0]);\n  const [txRunning, setTXRunning] = useState(false);\n  const [balances] = useState(StoreClasses.store.getAssets().balances);\n  const [modal, showModal] = useState(false);\n\n  const currencies = StoreClasses.store.getStableCurrencies();\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: inputVals.slice(0, currencies.length),\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    currencies.length === 0\n      ? 0\n      : tabOption === 0\n      ? balances[currencies[currencyIndex]].value\n      : (cfolioItem && cfolioItem.assets[currencyIndex]) ?? 0;\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  useEffect(() => {\n    if (tabOption) {\n      setCurrencyIndex(currencies.length - 1);\n      setCheckedIndex(0);\n    } else setCheckedIndex(-1);\n    setInputVals([0, 0, 0, 0, 0]);\n  }, [currencies, tabOption]);\n\n  useEffect(() => {\n    if (tabOption === 1) {\n      const newValues = Array.from({ length: currencies.length }, (v) => 0);\n      newValues[currencies.length - 1] = inputVals[currencies.length - 1];\n      if (checkedIndex >= 0 && curMaxAmount > 0) {\n        newValues[checkedIndex] = isNaN(inputVals[currencies.length - 1])\n          ? NaN\n          : (((cfolioItem && cfolioItem.assets[checkedIndex]) ?? 0) *\n              inputVals[currencies.length - 1]) /\n            curMaxAmount;\n      }\n      if (newValues.find((v, index) => v !== inputVals[index]) !== undefined) {\n        setInputVals(newValues);\n      }\n    }\n  }, [\n    checkedIndex,\n    currencies,\n    tabOption,\n    inputVals,\n    cfolioItem,\n    curMaxAmount,\n  ]);\n\n  const validCurrencies = () => {\n    if (tabOption === 1)\n      return isNaN(inputVals[currencies.length - 1])\n        ? undefined\n        : inputVals[currencies.length - 1] <= 0\n        ? []\n        : [currencies[currencies.length - 1]];\n    else if (inputVals.find((v) => isNaN(v)) !== undefined) return undefined;\n    else return currencies.filter((_, index) => inputVals[index] > 0);\n  };\n\n  const setCurrentValue = (v: number) => {\n    const newValues = inputVals.map((i) => i);\n    newValues[currencyIndex] = v;\n    setInputVals(newValues);\n  };\n\n  let vc: string[] | undefined;\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? (vc = validCurrencies()) === undefined\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : vc.length === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? {\n          l:\n            `WITHDRAW ${investCurrency}` +\n            (checkedIndex >= 0\n              ? ` AND RECEIVE ${currencies[checkedIndex]}`\n              : ''),\n          e: true,\n        }\n      : cfolioItem\n      ? { l: `DEPOSIT ${vc.join(' + ')}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (vc.length > 0 ? ` & DEPOSIT ${vc.join(' + ')}` : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'DEPOSIT MORE'\n    : sft?.isWallet\n    ? 'BUY \"STABLE I-NFT\" INTO MY WALLET'\n    : 'BUY \"STABLE I-NFT\" INTO MY C-FOLIO';\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'WITHDRAW')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {currencies[currencyIndex]}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      {/* Orange Horizontal Bar */}\n      <AssetInput\n        currency={currencies[currencyIndex]}\n        defaultValue={\n          isNaN(inputVals[currencyIndex]) || inputVals[currencyIndex] === 0\n            ? ''\n            : inputVals[currencyIndex].toString()\n        }\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        cb={(n) => setCurrentValue(n)}\n      />\n      <div id=\"currency-container\" className=\"tk-grotesk-lightbold mt-3\">\n        {currencies.map((currency, index) => (\n          <div\n            style={{ flexBasis: 100 / currencies.length - 1 + '%' }}\n            key={'cidx_' + index}\n            className={\n              index === currencyIndex\n                ? 'selected'\n                : index === checkedIndex\n                ? 'checked'\n                : ''\n            }\n            onClick={\n              index === currencyIndex\n                ? undefined\n                : tabOption === 1\n                ? () => setCheckedIndex(index === checkedIndex ? -1 : index)\n                : () => setCurrencyIndex(index)\n            }\n          >\n            {currency}\n            <br />\n            {isNaN(inputVals[index]) ? 'INVALID' : inputVals[index].toFixed(2)}\n          </div>\n        ))}\n      </div>\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(Stable);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './StakeLP.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n} from '../../../stores/constants';\nimport {\n  AssetStateresult,\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n} from '../../../stores/store';\nimport Approval from '../../Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction StakeLP({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [investAmount, setInvestAmount] = useState(\n    StoreClasses.store.getAssets().balances['WETH/WOWS LP'].value\n  );\n  const [hasSft, setHasSft] = useState(false);\n  const [inputVal, setInputVal] = useState(0);\n  const [txRunning, setTXRunning] = useState(false);\n  const [modal, showModal] = useState(false);\n\n  if ((sft === undefined) === hasSft) {\n    if (hasSft) setInvestAmount(0);\n    setHasSft(sft !== undefined);\n  }\n\n  useEffect(() => {\n    const onAssetsState = (params: AssetStateresult) => {\n      if (params.status === 'balances') {\n        setInvestAmount(\n          StoreClasses.store.getAssets().balances['WETH/WOWS LP'].value\n        );\n      }\n    };\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(ASSETS_STATE, onAssetsState);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n      StoreClasses.emitter.off(ASSETS_STATE, onAssetsState);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'STAKE MORE'\n    : sft?.isWallet\n    ? 'ADD \"STAKE I-NFT\" INTO MY WALLET'\n    : 'ADD \"STAKE I-NFT\" INTO MY C-FOLIO';\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: [inputVal],\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    tabOption === 0 ? investAmount : (cfolioItem && cfolioItem.assets[0]) ?? 0;\n\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? isNaN(inputVal)\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : inputVal === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? { l: `UNSTAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : cfolioItem\n      ? { l: `STAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (inputVal > 0\n              ? ` & STAKE ${inputVal.toFixed(2)} ${investCurrency}`\n              : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'UNSTAKE')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {investCurrency}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      <AssetInput\n        currency={investCurrency}\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        defaultValue={\n          isNaN(inputVal) || inputVal === 0 ? '' : inputVal.toString()\n        }\n        cb={(n) => setInputVal(n)}\n      />\n      <span className=\"d-block left mt-1 font-14\">\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={\n            'https://app.uniswap.org/#/add/v2/ETH/' +\n            StoreClasses.store._getTokenContractAddress()\n          }\n        >\n          <u>GET UNI-V2 WOWS/ETH LP TOKENS HERE</u>\n        </a>\n      </span>\n\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(StakeLP);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './CFolioInvest.css';\n\nimport { ethers } from 'ethers';\nimport React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\n//import CoverLogo from '../../assets/COVER_LOGO_SMALL.png';\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport { ASSETS_STATE } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEMS } from '../types/cards';\nimport Stable from './Stable/Stable';\nimport StakeLP from './StakeLP/StakeLP';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype CFI_RENDER = {\n  cfolioItem?: SFTCHILD;\n  index: number;\n};\n\ntype STATE = {\n  cfiRender: CFI_RENDER[];\n  currentImage: number;\n  modalOpen: boolean;\n};\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\n// CFolio Investment\n\nclass CFolioInvest extends React.Component<PROPS, STATE> {\n  receiverImages: IMAGE[] = [];\n  cards?: CARDS;\n  cfolioItems?: CFOLIO_ITEMS;\n  sliderInterface?: IMAGE_SLIDER_INTERFACE;\n  slideIndex = 0;\n  displayType = '';\n  toolTippLink = '';\n  continueBuy: (() => void) | undefined;\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      cfiRender: [],\n      currentImage: 0,\n      modalOpen: false,\n    };\n    this._onAssetsState = this._onAssetsState.bind(this);\n    this.sliderCB = this.sliderCB.bind(this);\n\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n    this.displayType = query.get('type') || 'lpInvestment';\n    this.toolTippLink = '?type=' + this.displayType;\n  }\n\n  setCurrentImage(val: number) {\n    const { cfiRender } = this.state;\n    const { history } = this.props;\n    if (cfiRender[val].cfolioItem) {\n      history.push(\n        `?type=${this.displayType}&tokenId=${cfiRender[\n          val\n        ].cfolioItem?.tokenId.toHexString()}`\n      );\n    } else {\n      history.push(`?type=${this.displayType}&item=${cfiRender[val].index}`);\n    }\n  }\n\n  componentDidUpdate() {\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n    const newDisplayType = query.get('type') || 'lpInvestment';\n\n    if (newDisplayType !== this.displayType) {\n      this.displayType = newDisplayType;\n      this.slideIndex = 0;\n      this.sliderInterface?.go(0);\n      this.toolTippLink = '?type=' + this.displayType;\n      this.setState({ currentImage: 0 });\n      this._updateImages();\n    }\n\n    let index: number | undefined;\n    if (query.get('tokenId')) {\n      const newTokenId = ethers.BigNumber.from(query.get('tokenId'));\n      index = this.state.cfiRender.findIndex(\n        (elem) => elem.cfolioItem && elem.cfolioItem.tokenId.eq(newTokenId)\n      );\n    } else if (query.get('item')) {\n      const item = parseInt(query.get('item') || '-1');\n      index = this.state.cfiRender.findIndex(\n        (elem) => !elem.cfolioItem && elem.index === item\n      );\n    }\n\n    if (index !== undefined) {\n      if (index >= 0) {\n        if (index !== this.state.currentImage) {\n          this.setState({ currentImage: index });\n        }\n      } else if (this.receiverImages.length > 0) {\n        query.delete('tokenId');\n        query.delete('item');\n        history.replace('?' + query.toString());\n        this.setState({ currentImage: 0 });\n        return;\n      }\n    }\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this._onAssetsState);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this._onAssetsState);\n  }\n\n  _onAssetsState(result: AssetStateresult) {\n    if (['loaded', 'cards', 'tokens'].includes(result.status)) {\n      this._updateImages();\n    } else if (result.status === 'cfolio_amount') {\n      this.setState({ currentImage: this.state.currentImage });\n    }\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    const cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const newImages: IMAGE[] = [];\n    const allowedLevel =\n      this.displayType === 'lpInvestment' ? 0xff000000f0 : 0xff0000000f;\n\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (\n        sft.isStockCard &&\n        sft.status === SFTS.UNLOCKED &&\n        (allowedLevel & (1 << cards.cards[sft.levelId].chainRef)) !== 0\n      ) {\n        const url =\n          cards.cards[sft.levelId].cards[sft.cardId].url\n            .replace('{res}', '300')\n            .replace('.mp4', '.mp4.jpg') || '';\n        newImages.push({\n          url,\n          tokenId: sft.tokenId,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      } else if (sft.isWallet) {\n        newImages.push({\n          url: WalletLogo,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      }\n    });\n\n    this.receiverImages = newImages;\n    this.cards = cards;\n    this._updateCFolioItems();\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled:\n          (sft.isWallet && cfi.status > 0) ||\n          cfolioItems[cfi.levelId].type !== this.displayType,\n      });\n    });\n    return result;\n  }\n\n  _updateCFolioItems() {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const cfiRender: CFI_RENDER[] = [];\n\n    if (cfolioItems.length > 0) {\n      this.cfolioItems = cfolioItems.filter(\n        (elem) => elem.type === this.displayType\n      )[0];\n\n      if (this.cfolioItems) {\n        // Get all cFolioItems from selected card.\n        if (\n          this.slideIndex >= 0 &&\n          this.slideIndex < this.receiverImages.length\n        ) {\n          const isWallet = this.receiverImages[this.slideIndex].sft.isWallet;\n          this.receiverImages[this.slideIndex].sft.cfolioItems.forEach(\n            (cfolioItem) => {\n              if (\n                cfolioItems[cfolioItem.levelId].type === this.displayType &&\n                (!isWallet || cfolioItem.status === 0)\n              )\n                cfiRender.push({ cfolioItem, index: cfolioItem.cardId });\n            }\n          );\n        }\n        // Get all New cards\n        cfiRender.push(\n          ...this.cfolioItems.cards.map((_, index) => {\n            return { index };\n          })\n        );\n      }\n    }\n    this.setState({ cfiRender });\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterface = iface;\n  }\n\n  sliderCB(_: string | undefined, index: number) {\n    if (index !== this.slideIndex) {\n      this.slideIndex = index;\n      this._updateCFolioItems();\n    }\n  }\n\n  beforeBuyCallback = (cb: () => void) => {\n    const { cfiRender, currentImage, modalOpen } = this.state;\n    if (\n      !modalOpen &&\n      cfiRender.length > 1 &&\n      this.slideIndex === 0 &&\n      currentImage < cfiRender.length\n    ) {\n      const currentRender = cfiRender[currentImage];\n      if (!currentRender.cfolioItem) {\n        this.continueBuy = cb;\n        this.setState({ modalOpen: true });\n        return false;\n      } else {\n        return true;\n      }\n    } else return true;\n  };\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const { cfiRender, modalOpen } = this.state;\n\n    const handleImageChange = (change: number) => {\n      if (cfiRender.length > 1) {\n        if (this.state.currentImage + change < 0) {\n          return this.setCurrentImage(cfiRender.length - 1);\n        }\n\n        if (this.state.currentImage + change >= cfiRender.length) {\n          return this.setCurrentImage(0);\n        }\n\n        return this.setCurrentImage(this.state.currentImage + change);\n      }\n    };\n\n    const renderItem =\n      this.state.currentImage < cfiRender.length &&\n      cfiRender[this.state.currentImage];\n    const renderCFolioItem = renderItem && renderItem.cfolioItem;\n    const cfolioItemCard =\n      this.cfolioItems &&\n      renderItem &&\n      this.cfolioItems.cards[renderItem.index];\n    const scroll = cfiRender.length > 1;\n\n    const controlAttr = {\n      nftPrice: cfolioItemCard ? cfolioItemCard.price : 0,\n      nftType: cfolioItemCard ? cfolioItemCard.chainRef : 0,\n      investCurrency: this.cfolioItems?.token ?? '',\n      cfolioItem: renderCFolioItem || undefined,\n      sft:\n        this.slideIndex < this.receiverImages.length\n          ? this.receiverImages[this.slideIndex].sft\n          : undefined,\n      beforeBuy: this.beforeBuyCallback,\n    };\n\n    const hideCB = () => {\n      this.setState({ modalOpen: false });\n    };\n\n    const continueBuy = () => {\n      this.setState({ modalOpen: false });\n      if (this.continueBuy) this.continueBuy();\n    };\n\n    return (\n      <>\n        <>\n          <div\n            className={\n              'flex-column justify-content-center bg-flat2 text-white text-center '\n            }\n          >\n            {/* Title & heading */}\n            <div>\n              <h2 className=\"mt-4 tk-vincente-lightbold font-28 single-line\">\n                {this.cfolioItems?.shortDescription}\n              </h2>\n              <h3 className=\"tk-grotesk-lightbold font-14\">\n                PICK YOUR HIGHEST LEVEL C-FOLIO TO INVEST WITH\n              </h3>\n            </div>\n\n            {/* Card slider */}\n            <div\n              className={\n                'd-flex justify-content-center bg-transparent-orange mb-3 '\n              }\n            >\n              <div className=\"vw-90-safe py-3  border_thin_t border_thin_b p_relative center_triangle_up center_triangle_down min-height-190\">\n                <button\n                  onClick={() => this.sliderInterface?.prev()}\n                  className={'slide__arrow slide__arrow--left slide__arrows'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  onSlideChanged={this.sliderCB}\n                  slideWidth={150}\n                  slides={this.receiverImages}\n                  startSlideId={this.slideIndex}\n                  toolTippLink={this.toolTippLink}\n                />\n                <button\n                  onClick={() => this.sliderInterface?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            <div\n              id=\"cfolioInvest-nav\"\n              className=\"tk-vincente-lightbold font-20 single-line\"\n            >\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                }`}\n                onClick={() => handleImageChange(-1)}\n              >\n                &lt;{t('page.previousCard')}\n              </span>\n\n              <Link\n                to={`/cfolio-sfts?type=${this.displayType}`}\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line c-pointer `}\n              >\n                BACK TO I-NFTs\n              </Link>\n\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                } `}\n                onClick={() => handleImageChange(1)}\n              >\n                {t('page.nextCard')}&gt;\n              </span>\n            </div>\n\n            {/* Content */}\n            <div\n              className={\n                'cfolioInvest-container wolves-header center-container my-3'\n              }\n            >\n              <div className=\"left d-flex flex-column align-items-center justify-content-even\">\n                {cfolioItemCard && (\n                  <img\n                    className=\"card-visual\"\n                    src={cfolioItemCard.url.replace('{res}', '500')}\n                    alt=\"\"\n                    style={{ width: '100%' }}\n                  />\n                )}\n              </div>\n\n              <div className={'right t-left'}>\n                <div>\n                  <h1\n                    className={\n                      'tk-vincente no-margin' +\n                      (renderCFolioItem ? ' wolves-text-shaddow' : '')\n                    }\n                  >\n                    {' '}\n                    {cfolioItemCard ? cfolioItemCard.name : 'NFT'}{' '}\n                    {renderCFolioItem ? ' - MY NFT' : ' - NEW NFT'}\n                  </h1>\n                  {cfolioItemCard && (\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}: {cfolioItemCard.motto}\n                      </span>\n                    </h3>\n                  )}\n                  <div\n                    className={'tk-grotesk-lightbold font-16 line-break-enable'}\n                  >\n                    <h3 className=\"tk-vincente\">\n                      {renderCFolioItem ? (\n                        <>\n                          TOKEN ID:{' '}\n                          {renderCFolioItem.tokenId.mask(128).toHexString()}\n                          <br />\n                          INVESTMENT:{' '}\n                          {renderCFolioItem.assets[\n                            renderCFolioItem.assets.length - 1\n                          ].toFixed(4)}\n                          {' ' + controlAttr.investCurrency}\n                        </>\n                      ) : (\n                        cfolioItemCard && (\n                          <>\n                            PRICE: {cfolioItemCard.price.toFixed(2)} WOWS\n                            <br />\n                            AVAILABLE:{' '}\n                            {cfolioItemCard.maxMintable - cfolioItemCard.minted}\n                            /{cfolioItemCard.maxMintable}\n                          </>\n                        )\n                      )}\n                    </h3>\n                    <p>{cfolioItemCard && cfolioItemCard.description}</p>\n                    <p>{this.cfolioItems?.description}</p>\n                  </div>\n                </div>\n                <div\n                  id=\"cfolioInvest-control\"\n                  className=\"bg-blue-transparent-light tk-grotesk-lightbold\"\n                >\n                  {this.displayType === 'lpInvestment' ? (\n                    <StakeLP {...controlAttr} />\n                  ) : (\n                    <Stable {...controlAttr} />\n                  )}\n                </div>\n                {/*<div className=\"d-flex p_relative mt-1\">\n                  <img id=\"cover-image\" src={CoverLogo} alt=\"COVER\" />\n                  <span id=\"cover-inner\">\n                    <a\n                      className=\"tk-grotesk-lightbold\"\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      href=\"https://wolvesofwallstreet.finance\"\n                    >\n                      <u>GET COVER INSURANCE FOR YOUR INVESTMENT</u>\n                    </a>\n                  </span>\n                  </div>*/}\n              </div>\n            </div>\n          </div>\n          {modalOpen && (\n            <Modal\n              show={true}\n              backdrop=\"static\"\n              onHide={hideCB}\n              animation={false}\n            >\n              <Modal.Body>\n                Your current target for the new I-NFT is \"My Wallet\". In order\n                to receive WOWS rewards, the new I-NFT has to be in one of your\n                CFolios.\n                <br />\n                If you want to buy the new I-NFT into one of your CFolios,\n                CANCEL this message and select a CFolio on top of the page.\n              </Modal.Body>\n              <Modal.Footer>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={continueBuy}\n                >\n                  CONTINUE\n                </button>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={hideCB}\n                >\n                  CANCEL\n                </button>\n              </Modal.Footer>\n            </Modal>\n          )}\n        </>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioInvest);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nexport type CARD = {\n  id: string;\n  chainRef: number;\n  minted: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: 'image' | 'movie';\n  url: string;\n};\n\nexport type CARD_LEVEL = {\n  levelId: number;\n  chainRef: number;\n  type: string;\n  quantity: number;\n  price: number;\n  autoUpgrade: string;\n  profitReward: number;\n  upgradeReward: number;\n  header: string;\n  cards: CARD[];\n};\n\nexport type CARDS = {\n  levelNames: string[];\n  cards: CARD_LEVEL[];\n};\n\nexport type CFOLIO_ITEM = {\n  id: string;\n  chainRef: number;\n  price: number;\n  minted: number;\n  maxMintable: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: string;\n  url: string;\n};\n\nexport type CFOLIO_ITEMS = {\n  type: string;\n  token: string;\n  title: string;\n  shortDescription: string;\n  description: string;\n  constraints?: 'wolves' | 'bois';\n  cards: CFOLIO_ITEM[];\n};\n\nexport const INITIAL_CFOLIO_ITEMS: CFOLIO_ITEMS = {\n  type: '',\n  token: '',\n  title: '',\n  shortDescription: '',\n  description: '',\n  cards: [],\n};\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './CFolioItemSfts.css';\n\nimport { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport { ASSETS_STATE } from '../../stores/constants';\nimport { AssetStateresult, StoreClasses } from '../../stores/store';\nimport { INITIAL_CFOLIO_ITEMS } from '../types/cards';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  currentType: string;\n};\n\nconst INITIAL_STATE: STATE = {\n  currentType: '',\n};\n\nclass CFolioItemSfts extends Component<PROPS, STATE> {\n  target = '';\n  constructor(props: PROPS) {\n    super(props);\n    this.state = INITIAL_STATE;\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateContent();\n  }\n\n  componentDidUpdate() {\n    this._updateContent();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'cards'].includes(status.status))\n      this.setState({ currentType: this.state.currentType });\n  }\n\n  _updateContent() {\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    const filter = query.get('type') || '';\n    if (filter !== this.state.currentType) {\n      this.target = 'cfolio-invest?type=' + filter;\n      this.setState({ currentType: filter });\n    }\n  }\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const storeItems = StoreClasses.store\n      .getAssets()\n      .cfolioItems.filter((elem) => elem.type === this.state.currentType);\n    const items = storeItems.length > 0 ? storeItems[0] : INITIAL_CFOLIO_ITEMS;\n    const cardRender =\n      items.cards.length &&\n      items.cards.map((card, index) => {\n        return (\n          <div className=\"cfisft-card\" key={this.state.currentType + index}>\n            <Link to={`${this.target}&item=${index}`}>\n              <img\n                className=\"card-media\"\n                src={card.url.replace('{res}', '500')}\n                alt={card.name}\n              />\n            </Link>\n            <div className=\"wrapper\">\n              <span className=\"tk-vincente-lightbold font-32 m-0 mt-2 line-h\">\n                {card.name}\n              </span>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.motto')}: {card.motto}\n              </span>\n              <hr className=\"wolves\" />\n              {\n                <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                  {t('page.available')}: {card.maxMintable - card.minted}/\n                  {card.maxMintable}\n                </span>\n              }\n              <span className=\"tk-grotesk-lightbold font-14 m-0 line-h ellipsis\">\n                {t('page.price')}: {card.price.toFixed(2)} WOWS\n              </span>\n            </div>\n          </div>\n        );\n      });\n\n    return (\n      <>\n        <div id=\"top\" className={'wolves-container wolves-header bg-wolves'}>\n          {/* Hero heading */}\n          <div className=\"mb-3\">\n            <h2 className=\"tk-vincente-lightbold m-0\">{items.title}</h2>\n            <h4 className=\"tk-grotesk-lightbold m-0\">\n              {items.shortDescription}\n            </h4>\n          </div>\n\n          {/* Line */}\n          <span className=\"line-container cfisft-line-w-80\">\n            <span id=\"left\" className=\"dot\" />\n            <span className=\"line\" />\n            <span id=\"right\" className=\"dot\" />\n          </span>\n\n          {/* Section title */}\n          <span className=\"tk-vincente-lightbold\">\n            <span className=\"font-24\">\n              CORE LP NFT\n              <div id=\"triangle-down\" />\n            </span>\n          </span>\n\n          {/* Cards listing */}\n          <div className=\"cfisft-card-container mt-1\">{cardRender}</div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioItemSfts);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\nimport '../theme/checkbox/wolve_checkbox.css';\nimport './CFolioManager.css';\n\nimport React from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  PayloadContentCFolioItemLT,\n  SFT,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEM, CFOLIO_ITEMS } from '../types/cards';\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\ninterface SUBIMAGE extends IMAGE_SLIDER_SLIDE {\n  constraints?: 'wolves' | 'bois';\n  cfolioItem: CFOLIO_ITEM;\n}\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  txPending: boolean;\n  sliderImagesTop: IMAGE[];\n  sliderImagesMiddle: SUBIMAGE[];\n  sliderImagesBottom: IMAGE[];\n  checkedMiddle: number[];\n};\n\nclass CFolioManager extends React.Component<PROPS, STATE> {\n  cards?: CARDS;\n  cfolioItemCards: CFOLIO_ITEMS[] = [];\n  sliderInterfaces: { [id: string]: IMAGE_SLIDER_INTERFACE } = {};\n  sliderIndex = [0, 0, 0];\n  sliderImagesMiddleAll: SUBIMAGE[] = [];\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      txPending: false,\n      sliderImagesTop: [],\n      sliderImagesMiddle: [],\n      sliderImagesBottom: [],\n      checkedMiddle: [],\n    };\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onTransfer = this.onTransfer.bind(this);\n    this.setSliderIndex = this.setSliderIndex.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'tokens'].includes(status.status)) this._updateImages();\n  }\n\n  onTransfer(status: StatusResult) {\n    if (['error', 'success'].includes(status.status))\n      this.setState({ txPending: false });\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    this.cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const pred = (sft: SFT) => sft.cfolioItems.length > 0;\n    const newImages = this._getSftImages(tokenIds, pred);\n\n    this.cfolioItemCards = assets.cfolioItems;\n    this.setState({ sliderImagesTop: newImages });\n    this.setState({ checkedMiddle: [] });\n\n    this._createSliderImages(newImages);\n  }\n\n  _getSftImages(\n    tokenIds: SFT[],\n    pred: (s: SFT) => boolean,\n    pred2?: (l: number, i: number) => boolean\n  ): IMAGE[] {\n    const result: IMAGE[] = [];\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (pred(sft)) {\n        if (sft.isStockCard && !sft.status) {\n          if (!pred2 || pred2(sft.levelId, sft.cardId)) {\n            const url =\n              this.cards?.cards[sft.levelId].cards[sft.cardId].url\n                .replace('{res}', '300')\n                .replace('.mp4', '.mp4.jpg') || '';\n            result.push({\n              url,\n              cfolioItems: this._cfolioItemsForSlider(sft),\n              tokenId: sft.tokenId,\n              sft,\n            });\n          }\n        } else if (sft.isWallet) {\n          result.push({\n            url: WalletLogo,\n            cfolioItems: this._cfolioItemsForSlider(sft),\n            sft,\n          });\n        }\n      }\n    });\n    return result;\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled: false,\n      });\n    });\n    return result;\n  }\n\n  _createSliderImages(topImages: IMAGE[]) {\n    this.sliderImagesMiddleAll = [];\n    const bottomImages: IMAGE[] = [];\n    const constraints: { [x: string]: boolean } = {};\n\n    if (this.sliderIndex[0] < topImages.length) {\n      const cfolioItems = topImages[this.sliderIndex[0]].sft.cfolioItems;\n      cfolioItems.forEach((cfi) => {\n        let cfiCard: CFOLIO_ITEM | undefined;\n        const cat = this.cfolioItemCards.find(\n          (category) =>\n            (cfiCard = category.cards.find(\n              (card) => card.chainRef === cfi.type\n            ))\n        );\n        if (cfiCard) {\n          this.sliderImagesMiddleAll.push({\n            url: cfiCard?.url.replace('{res}', '300'),\n            locked: cfi.status > 0,\n            constraints: cat?.constraints,\n            cfolioItem: cfiCard,\n            tokenId: cfi.tokenId,\n            cfolioItems: [],\n          });\n          if (cat?.constraints) {\n            constraints[cat.constraints] = true;\n          } else {\n            constraints['wolves'] = true;\n            constraints['bois'] = true;\n          }\n        }\n      });\n\n      // Create bottom images, only contraint matching\n      // and never insert current selected top element\n      const pred = (sft: SFT) =>\n        sft.tokenId !== topImages[this.sliderIndex[0]].sft.tokenId;\n      const pred2 = (l: number, i: number) =>\n        constraints[this.cards?.cards[l].type || ''];\n      bottomImages.push(\n        ...this._getSftImages(\n          StoreClasses.store.getAssets().userSFT,\n          pred,\n          pred2\n        )\n      );\n    } else if (topImages.length > 0) {\n      return;\n    }\n    this.setState({ sliderImagesBottom: bottomImages });\n    this._filterSliderImagesMiddle(topImages, bottomImages, false);\n  }\n\n  _filterSliderImagesMiddle(\n    topImages: IMAGE[],\n    bottomImages: IMAGE[],\n    onlyIfChanged: boolean\n  ) {\n    let sliderImagesMiddle: SUBIMAGE[] = [];\n    if (\n      this.cards &&\n      this.sliderIndex[2] < bottomImages.length &&\n      this.sliderIndex[0] < topImages.length\n    ) {\n      if (\n        bottomImages[this.sliderIndex[2]].sft.isWallet ||\n        !topImages[this.sliderIndex[0]].sft.isWallet\n      ) {\n        sliderImagesMiddle = this.sliderImagesMiddleAll;\n      } else {\n        const filter =\n          this.cards.cards[bottomImages[this.sliderIndex[2]].sft.levelId].type;\n        sliderImagesMiddle = this.sliderImagesMiddleAll.filter(\n          (elem) => !elem.constraints || elem.constraints === filter\n        );\n      }\n    }\n    if (\n      !onlyIfChanged ||\n      JSON.stringify(sliderImagesMiddle) !==\n        JSON.stringify(this.state.sliderImagesMiddle)\n    ) {\n      this.setState({ checkedMiddle: [] });\n      this.setState({ sliderImagesMiddle });\n    }\n  }\n\n  setSliderIndex(id: string | undefined, index: number, checked?: number[]) {\n    const pos = parseInt(id ?? '0');\n    this.sliderIndex[pos] = index;\n    if (pos === 0) this._createSliderImages(this.state.sliderImagesTop);\n    else if (pos === 1 && checked && checked !== this.state.checkedMiddle)\n      this.setState({ checkedMiddle: checked });\n    else if (pos === 2) {\n      this._filterSliderImagesMiddle(\n        this.state.sliderImagesTop,\n        this.state.sliderImagesBottom,\n        true\n      );\n    }\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterfaces[id || 'default'] = iface;\n  }\n\n  handleBuy() {\n    const request: PayloadContentCFolioItemLT = {\n      src: this.state.sliderImagesTop[this.sliderIndex[0]].sft.tokenId,\n      dst: this.state.sliderImagesBottom[this.sliderIndex[2]].sft.tokenId,\n      lockedCFIs: [],\n      transferCFIs: [],\n    };\n    this.state.checkedMiddle.forEach((n) => {\n      if (this.state.sliderImagesMiddle[n].locked)\n        request.lockedCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n      else\n        request.transferCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n    });\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch({\n      type: CFOLIO_ITEM_UNLOCK_TRANSFER,\n      content: request,\n    });\n  }\n\n  render() {\n    let lockedCount = 0;\n    this.state.checkedMiddle.forEach(\n      (n) => (lockedCount += this.state.sliderImagesMiddle[n].locked ? 1 : 0)\n    );\n    const majority = this.state.checkedMiddle.length > 1 ? 's' : '';\n    const buttonState = this.state.txPending\n      ? { l: 'TRANSACTION PENDING', e: false }\n      : this.state.sliderImagesTop.length > 0\n      ? this.state.checkedMiddle.length > 0\n        ? lockedCount > 0\n          ? {\n              l: `UNLOCK (${lockedCount}) AND TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n          : {\n              l: `TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n        : { l: 'NOTHING SELECTED', e: false }\n      : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n    return (\n      <>\n        <div className={'cfm-container bg-wolves'}>\n          {/* Title & heading */}\n          <div>\n            <h2 className=\"tk-vincente-lightbold font-28 mt-1 single-line\">\n              {'WELCOME TO YOUR C-FOLIO TRANSFER MANAGER'}\n            </h2>\n            <h3 className=\"tk-grotesk-lightbold font-14\">\n              {'MANAGE YOUR ASSETS WITH MULTI TRANSACTIONS IN ONE.'}\n            </h3>\n          </div>\n\n          <div\n            className={\n              'd-flex flex-column bg-blue-transparent wolves-orange-border font-16 my-2 pt-2'\n            }\n          >\n            {/* Card slider-1 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center-container center_triangle_down rotate-180'\n              }\n            >\n              <div className=\"d-flex\">\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesTop}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* Card slider-2 */}\n            <div className={'w-90-safe center-container pt-2'}>\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"1\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={135}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesMiddle}\n                  checkbox={true}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* center btn, arrow */}\n            <div\n              className={\n                'center-container d-flex flex-column justify-content-center align-items-center'\n              }\n            >\n              <button\n                disabled={!buttonState.e}\n                className={'wolves-btn white-border w280px font-14'}\n                onClick={this.handleBuy.bind(this)}\n              >\n                {buttonState.l}\n              </button>\n              <div className={'arrow_down mt-1'} />\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* Card slider-3 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center_triangle_down center-container'\n              }\n            >\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[2].prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"2\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesBottom}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[2]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioManager);\n","export default __webpack_public_path__ + \"static/media/icons_discord.e3adf3ed.svg\";","export default __webpack_public_path__ + \"static/media/icons_etherscan.ece3f2bb.svg\";","export default __webpack_public_path__ + \"static/media/icons_github.07a75d5f.svg\";","export default __webpack_public_path__ + \"static/media/icons_TG.e3e58f9f.svg\";","export default __webpack_public_path__ + \"static/media/icons_Twitter.b8aba8a1.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport React, { Component, ReactNode } from 'react';\n\nimport discord from '../../assets/icons_discord.svg';\nimport etherscan from '../../assets/icons_etherscan.svg';\nimport github from '../../assets/icons_github.svg';\nimport telegram from '../../assets/icons_TG.svg';\nimport twitter from '../../assets/icons_Twitter.svg';\n\nclass Social extends Component {\n  render(): ReactNode {\n    return (\n      <div className=\"social-menu\">\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://twitter.com/WolvesWallst\"\n          >\n            <img src={twitter} alt=\"Twitter\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://etherscan.io/address/0x672EF7E4Fe230B5cA1466C5fDD40588d30FdF90a\"\n          >\n            <img src={etherscan} alt=\"Etherscan\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://github.com/wolvesofwallstreet\"\n          >\n            <img src={github} alt=\"Github\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://discord.gg/CCqZtze8kg\"\n          >\n            <img src={discord} alt=\"Discord\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://t.me/wolveswallstreet\"\n          >\n            <img src={telegram} alt=\"Telegram\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Social;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './footer.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport Social from '../social/social';\n\ntype FooterProps = {\n  t: TFunction;\n};\n\ntype FooterState = {\n  showModal: boolean;\n  policyChanged: boolean;\n};\n\nclass Footer extends Component<FooterProps, FooterState> {\n  privacyFile = '';\n  privacyTerms = '';\n\n  constructor(props: FooterProps) {\n    super(props);\n    this.state = { showModal: false, policyChanged: false };\n  }\n\n  loadTerms() {\n    const { t } = this.props;\n    const privacyFile = t('privacyTermsFile');\n\n    if (privacyFile !== this.privacyFile) {\n      import('../../locales/en_US/privacy_policy.json').then((text) => {\n        this.privacyTerms = text.default.policy;\n        this.setState({ policyChanged: !this.state.policyChanged });\n      });\n      this.privacyFile = privacyFile;\n    }\n  }\n\n  render(): ReactNode {\n    const { showModal } = this.state;\n    this.loadTerms();\n\n    return (\n      <div className=\"footer-main\">\n        <p className=\"footer-notes tk-grotesk-lightbold\">\n          BY MAKING USE OF THE WOLVES OF WALL STREET PLATFORM YOU ARE AWARE OF\n          THE RISKS ASSOCIATED WITH TRANSACTIONS OF DIGITAL TOKEN. YOU ARE USING\n          THE PLATFORM AT YOUR OWN RISK.\n          <br />\n          ALL LIABILITY RESIDES WITH THE USER AND THE WOLVES OF WALL STREET\n          SHALL NOT BE LIABLE FOR ANY SUCH RISKS OR ADVERSE OUTCOMES.\n          <br />\n          COPYRIGHT&copy; ALL RIGHTS RESERVED WOLVES OF WALL STREET 2021\n        </p>\n        <div className=\"footer-terms-container\">\n          <Social />\n          <div\n            className=\"footer-notes footer-terms tk-grotesk-lightbold\"\n            onClick={() => this.setState({ showModal: true })}\n          >\n            PRIVACY TERMS & CONDITIONS\n          </div>\n        </div>\n        <Modal\n          show={showModal}\n          onHide={() => this.setState({ showModal: false })}\n          size=\"lg\"\n          animation={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              <h1>Terms & Conditions</h1>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body dangerouslySetInnerHTML={{ __html: this.privacyTerms }} />\n          <Modal.Footer />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Footer);\n","export default __webpack_public_path__ + \"static/media/wolves_sft_logo.4ce0479e.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './header.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Form, Image, Navbar } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport logo from '../../assets/wolves_sft_logo.svg';\nimport { ASSETS_STATE, CONNECTION_CHANGED } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  ConnectResult,\n  StoreClasses,\n} from '../../stores/store';\n\ninterface HEADER_PROPS {\n  location: Location;\n  t: TFunction;\n}\n\ninterface HEADER_STATE {\n  address: string;\n  networkName: string;\n  wowsPrice?: number;\n  wowsAmount?: number;\n  isSidechain?: boolean;\n}\n\ntype DropDownItem = {\n  id: string;\n  to: string;\n};\n\ntype NAVITEM = {\n  id: string;\n  to: string;\n  disabled: boolean;\n  dropdown?: boolean;\n  dropdownItems?: DropDownItem[];\n};\n\nclass Header extends Component<HEADER_PROPS, HEADER_STATE> {\n  store = StoreClasses.store;\n  emitter = StoreClasses.emitter;\n\n  constructor(props: HEADER_PROPS) {\n    super(props);\n    this.state = {\n      address: '',\n      networkName: '',\n      wowsAmount: 0,\n      isSidechain: false,\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.renderDropDown = this.renderDropDown.bind(this);\n  }\n\n  componentDidMount(): void {\n    this.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    this.emitter.on(ASSETS_STATE, this.onAssetsState);\n  }\n\n  componentWillUnmount(): void {\n    this.emitter.off(ASSETS_STATE, this.onAssetsState);\n    this.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') this.setState(params);\n    const isSidechain = this.store.isSidechain();\n    if (isSidechain !== this.state.isSidechain) this.setState({ isSidechain });\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'rewards') {\n      const wowsPrice = StoreClasses.store.getAssets().rewardInfo[0].priceWOWS;\n      this.setState({\n        wowsPrice: wowsPrice > 0 ? wowsPrice : undefined,\n      });\n    }\n    if (status.status === 'balances') {\n      this.setState({\n        wowsAmount: StoreClasses.store.getAssets().balances['WOWS'].value,\n      });\n    }\n  }\n\n  handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n    if (this.store.isConnected()) {\n      this.store.disconnect(true, true);\n    } else {\n      this.store.connect();\n    }\n    event.preventDefault();\n  }\n\n  _shortAddress(): string {\n    const { address, networkName } = this.state;\n    return address !== ''\n      ? address.substring(0, 6) +\n          '...' +\n          address.substring(address.length - 4, address.length) +\n          ' (' +\n          networkName +\n          ')'\n      : 'CONNECT WALLET';\n  }\n\n  renderDropDown(title: string, dropdownItems: DropDownItem[]): ReactNode {\n    const { pathname, search } = this.props.location;\n\n    return (\n      <span className=\"nav-item dropdown mx-0 my-0\" key={Math.random() + title}>\n        <span\n          className=\"nav-link dropdown-toggle text-white navbar-text\"\n          data-bs-toggle=\"dropdown\"\n          aria-expanded=\"false\"\n        >\n          {title}\n        </span>\n        <ul className=\"dropdown-menu bg-blue-transparent-dark translateY_-10\">\n          {dropdownItems.map((item, index) => {\n            const isActiveNav = pathname + search === item.to;\n            return (\n              <li key={'navLink' + index}>\n                {isActiveNav && (\n                  <span className=\"dropdown-item active\"> {item.id} </span>\n                )}\n                {!isActiveNav && (\n                  <Link className=\"dropdown-item\" to={item.to}>\n                    {item.id}\n                  </Link>\n                )}\n              </li>\n            );\n          })}\n        </ul>\n      </span>\n    );\n  }\n\n  _getNavItems(): NAVITEM[] {\n    const { location, t } = this.props;\n    const query = new URLSearchParams(location.search);\n    const type = query.get('type');\n    const levelId = query.get('levelId') || 0;\n    const result = StoreClasses.store.isSidechain()\n      ? [\n          {\n            id: 'WOLF TRADE FLOOR',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.viewWolvesCf'),\n                to: '/shop?type=wolves&levelId=' + levelId,\n                disabled: type === 'wolves',\n              },\n              {\n                id: t('header.buyStake'),\n                to: '/cfolio-sfts?type=lpInvestment',\n              },\n              {\n                id: t('header.stakeInvest'),\n                to: '/cfolio-invest?type=lpInvestment',\n              },\n            ],\n          },\n          {\n            id: 'BOIS BOARDROOMS',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.viewBoisCf'),\n                to: '/shop?type=bois&levelId=' + levelId,\n                disabled: type === 'bois',\n              },\n              {\n                id: t('header.buyYearn'),\n                to: '/cfolio-sfts?type=stableInvestment',\n              },\n              {\n                id: t('header.yearnInvest'),\n                to: '/cfolio-invest?type=stableInvestment',\n              },\n            ],\n          },\n          {\n            id: t('header.myPack'),\n            to: '/my?type=myPack&levelId=' + levelId,\n            disabled: location.pathname === '/my',\n          },\n          {\n            id: 'C-FOLIO MANAGER',\n            to: '/c_folio_manager',\n            disabled: location.pathname === '/c_folio_manager',\n          },\n        ]\n      : [\n          {\n            id: 'WOLF TRADE FLOOR',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.wolvesCf'),\n                to: '/shop?type=wolves&levelId=' + levelId,\n                disabled: type === 'wolves',\n              },\n            ],\n          },\n          {\n            id: 'BOIS BOARDROOMS',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.boisCf'),\n                to: '/shop?type=bois&levelId=' + levelId,\n                disabled: type === 'bois',\n              },\n            ],\n          },\n          {\n            id: t('header.myPack'),\n            to: '/my?type=myPack&levelId=' + levelId,\n            disabled: location.pathname === '/my',\n          },\n          {\n            id: 'WOWS V1',\n            to: 'https://appv1.wows.finance',\n            disabled: false,\n          },\n        ];\n    return result;\n  }\n\n  render(): ReactNode {\n    const shortAddress = this._shortAddress();\n    const navItems = this._getNavItems();\n    const isSidechain = this.state.isSidechain;\n    return (\n      <Navbar bg=\"wolf\" variant=\"dark\" expand=\"md\">\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Brand className=\"navbar-brand mr-auto\" as={Link} to=\"/\">\n          <Image src={logo} width=\"300\" className=\"logo\" />\n        </Navbar.Brand>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          {navItems.map((navItem: NAVITEM, index: number) => {\n            // render Dropdown items\n            if ('dropdownItems' in navItem && navItem.dropdownItems) {\n              return this.renderDropDown(\n                navItem.id,\n                navItem?.dropdownItems as DropDownItem[]\n              );\n            }\n\n            // Active nav item\n            if (navItem.disabled) {\n              return <span key={index}>{navItem.id}</span>;\n            }\n\n            // nav item\n            return navItem.to.startsWith('http') ? (\n              <a key={index} href={navItem.to}>\n                {navItem.id}\n              </a>\n            ) : (\n              <Link key={index} to={navItem.to}>\n                {' '}\n                {navItem.id}\n              </Link>\n            );\n          })}\n        </Navbar.Collapse>\n\n        <div className=\"dp-conn-container\">\n          <div className=\"dp-chain-container\">\n            <span\n              className={`icon ethereum${isSidechain ? '' : ' selected'}`}\n              onClick={() => StoreClasses.store.switchChain('ethereum')}\n            />\n            <span\n              className={`icon polygon${isSidechain ? ' selected' : ''}`}\n              onClick={() => StoreClasses.store.switchChain('polygon')}\n            />\n          </div>\n          <div>\n            <Form onSubmit={this.handleSubmit}>\n              <input\n                className=\"wolves-btn dp-conn-btn\"\n                type=\"submit\"\n                value={shortAddress}\n              />\n            </Form>\n            {this.state.wowsPrice !== undefined && (\n              <span className=\"dp-conn-price\">\n                1 WOWS &asymp; ${this.state.wowsPrice.toFixed(0)}\n              </span>\n            )}\n            <br />\n            {this.state.wowsAmount !== undefined && (\n              <span className=\"dp-conn-price\">\n                My WOWS: {this.state.wowsAmount.toFixed(2)}\n              </span>\n            )}\n          </div>\n        </div>\n      </Navbar>\n    );\n  }\n\n  scrollSection(section: string): void {\n    section = '';\n  }\n}\n\nexport default withTranslation()(Header);\n","export default __webpack_public_path__ + \"static/media/bois_shadow.b0ae95a7.png\";","export default __webpack_public_path__ + \"static/media/wolves_shadow.717f45ae.png\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page1.css';\n\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport BoisLogo from '../../assets/bois_shadow.png';\nimport WolvesLogo from '../../assets/wolves_shadow.png';\nimport { StoreClasses } from '../../stores/store';\n\ntype PAGE1_PROPS = {\n  t: TFunction;\n};\n\nfunction Page1(props: PAGE1_PROPS) {\n  const { t } = props;\n  return (\n    <div className=\"page1-container\">\n      <div className=\"page1-title-box\">\n        {/* <WowsStatus /> */}\n        <div className=\"page1-title-box-text\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.head1')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">{t('page1.head2')}</h3>\n          {!StoreClasses.store.isSidechain() && (\n            <>\n              <a\n                id=\"wows-link\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href={`https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=${StoreClasses.store._getTokenContractAddress()}&use=v2`}\n              >\n                BUY WOWS ON UNISWAP V.2\n              </a>\n              <br />\n              <a\n                id=\"wows-link-migrate\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                rel=\"noreferrer\"\n                href={'https://appv1.wows.finance'}\n              >\n                <b>VISIT V1 AND MIGRATE MY CFOLIO's</b>\n              </a>\n            </>\n          )}\n        </div>\n      </div>\n      {/************** Left ************/}\n      <div className=\"page1-bg page1-left\">\n        <span className=\"page1-line-v\" />\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.wolves2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <span className=\"page1-line-h\" />\n          <span className=\"page1-dot\" />\n          <Link to=\"/shop?type=wolves\">\n            <img src={WolvesLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n      {/************** Right ************/}\n      <div className=\"page1-bg page1-right\">\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.bois2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <Link to=\"/shop?type=bois\">\n            <img src={BoisLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withTranslation()(Page1);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABjCAYAAACPO76VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyMTA2RUNGM0UxODExRUI4NjM2ODVGMEIwREEwNTI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyMTA2RUQwM0UxODExRUI4NjM2ODVGMEIwREEwNTI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjIxMDZFQ0QzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjIxMDZFQ0UzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6zocrdAAAcrklEQVR42uxd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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './cardbox.css';\n\nimport { TFunction } from 'i18next';\nimport { RefObject, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n  BIGNUMBER_MAX,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\n\ntype CARDBOX_PROPS = {\n  sft?: SFT;\n  cfolio?: SFTCHILD;\n  earned: number;\n  t: TFunction;\n  progressRefs?: RefObject<HTMLSpanElement>[];\n};\n\nexport function CardBox(props: CARDBOX_PROPS): JSX.Element {\n  const { cfolio, earned, progressRefs, sft, t } = props;\n  const assets = StoreClasses.store.getAssets();\n  const progressRef: RefObject<HTMLSpanElement> = useRef(null);\n\n  useEffect(() => {\n    progressRefs?.push(progressRef);\n    return () => {\n      progressRefs?.splice(progressRefs.indexOf(progressRef), 1);\n    };\n  }, [progressRefs]);\n\n  let name,\n    motto,\n    levelId,\n    type,\n    tokenId,\n    cardId,\n    cardType,\n    url,\n    quantity,\n    price,\n    minted,\n    prowess,\n    status,\n    investment;\n  if (sft) {\n    const level = assets.cards.cards[sft.levelId];\n    const card = level.cards[sft.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = level.levelId;\n    tokenId = sft.tokenId !== BIGNUMBER_MAX ? sft.tokenId : undefined;\n    type = tokenId ? 'myPack' : level.type;\n    cardId = card.id;\n    cardType = card.type;\n    url = card.url;\n    quantity = level.quantity;\n    minted = card.minted;\n    price = level.price;\n    prowess = sft.rewardRate;\n    status = sft.status;\n  } else if (cfolio) {\n    const level = assets.cfolioItems[cfolio.levelId];\n    const card = level.cards[cfolio.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = 4;\n    type = 'myPack';\n    tokenId = cfolio.tokenId;\n    cardId = cfolio.cardId;\n    cardType = 'image';\n    url = card.url;\n    quantity = card.maxMintable;\n    minted = card.minted;\n    price = card.price;\n    prowess = 0;\n    status = cfolio.status;\n    investment =\n      cfolio.assets[0].toFixed(6) +\n      ' ' +\n      assets.cfolioItems[cfolio.levelId].token;\n  } else return <></>;\n\n  const renderCFolioItems = () => {\n    if (sft && sft.cfolioItems.length > 0) {\n      const topOffset =\n        sft.cfolioItems.length > 1\n          ? Math.min((314 - 82) / (sft.cfolioItems.length - 1), 86)\n          : 0;\n      return (\n        <>\n          {sft.cfolioItems.map((sftc, index) => {\n            const cfi = assets.cfolioItems[sftc.levelId].cards[sftc.cardId];\n            return (\n              <img\n                key={'cfi' + index}\n                id=\"cfi-image\"\n                style={{ top: 6 + index * topOffset + 'px' }}\n                height=\"80px\"\n                alt={cfi.name}\n                src={cfi.url.replace('{res}', '300')}\n              />\n            );\n          })}\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className=\"card-container\">\n      <span className=\"tk-vincente-lightbold font-32\">{name}</span>\n      <Link\n        className=\"p_relative\"\n        to={\n          '/detail?type=' +\n          type +\n          '&levelId=' +\n          levelId +\n          '&cardId=' +\n          cardId +\n          (tokenId !== undefined ? '&tokenId=' + tokenId.toHexString() : '')\n        }\n      >\n        {cardType === 'movie' ? (\n          <video\n            disableRemotePlayback={true}\n            className=\"card-visual\"\n            autoPlay={true}\n            loop={true}\n            src={url?.replace('{res}', '300')}\n            poster={url?.replace('{res}', '300') + '.jpg'}\n            playsInline\n          />\n        ) : (\n          <img\n            className=\"card-visual\"\n            src={url?.replace('{res}', '300')}\n            alt={name}\n          />\n        )}\n        {status > 0 && (\n          <div className={status > SFTS.LOCKED ? 'bridged' : 'locked'} />\n        )}\n        {renderCFolioItems()}\n      </Link>\n      <div className=\"wrapper\">\n        <span id=\"triangle-up\" />\n        {tokenId !== undefined && (\n          <span className=\"tk-vincente-lightbold font-28\">\n            {`TOKEN ID: 0x${tokenId\n              .mask(128)\n              .toHexString()\n              .substr(2)\n              .padStart(8, '0')}`}\n          </span>\n        )}\n        <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n          {t('page.motto')}: {motto}\n        </span>\n        <span className=\"bg-orange my-2\">\n          <span\n            className=\"progress\"\n            ref={sft && sft.cfolioItems.length > 0 ? progressRef : undefined}\n          ></span>\n        </span>\n        {tokenId === undefined ? (\n          StoreClasses.store.isSidechain() ? (\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.availableOnETH')}\n            </span>\n          ) : (\n            <>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.available')}: {quantity - minted}/{quantity}\n              </span>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis line-h\">\n                {t('page.price')}: {price} WOWS{' '}\n              </span>\n            </>\n          )\n        ) : sft && StoreClasses.store.isSidechain() ? (\n          <>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.prowess')}: {prowess / 10000}%\n            </span>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.earned')}: {earned.toFixed(6)} WOWS\n            </span>\n          </>\n        ) : (\n          StoreClasses.store.isSidechain() && (\n            <>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.investment')}: {investment}\n              </span>\n            </>\n          )\n        )}\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page3.css';\n\nimport React, { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_REWARD,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport { CARDS } from '../types/cards';\nimport { CardBox } from './cardbox';\n\ntype PAGE3_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n  display: 'shop' | 'auction' | 'my';\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE3_STATE = {\n  contentLoaded: boolean;\n  contentChanged: boolean;\n  type: QueryType;\n  levelId: number;\n  isWalletConnected: boolean;\n};\n\nconst INITIAL_PAGE3_STATE: PAGE3_STATE = {\n  contentLoaded: false,\n  contentChanged: false,\n  type: 'wolves',\n  levelId: -1,\n  isWalletConnected: false,\n};\n\nclass Page3 extends Component<PAGE3_PROPS, PAGE3_STATE> {\n  content: CARDS = {\n    levelNames: [],\n    cards: [],\n  };\n  levelDescription = '';\n  tokenIds: SFT[] = [];\n  walletTokenIds: SFTCHILD[] = [];\n  levelFilter = 0;\n  nextLevel = -1;\n  prevLevel = -1;\n  scrollOnUpdate = true;\n  mainRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  progessStart: Date = new Date();\n  progressRefs: React.RefObject<HTMLSpanElement>[] = [];\n  progressInterval?: number;\n\n  constructor(props: PAGE3_PROPS) {\n    super(props);\n    this.state = INITIAL_PAGE3_STATE;\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._checkContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateRewards();\n  }\n\n  componentDidUpdate(): void {\n    this._checkContent();\n    if (this.scrollOnUpdate) {\n      this.mainRef.current?.scrollIntoView();\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    window.clearInterval(this.progressInterval);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (!['error', 'cfolio_amount'].includes(status.status)) {\n      this.setState({ contentChanged: true });\n      if (status.status === 'tokens') {\n        this.setState({ levelId: -1 });\n        this._updateRewards();\n      }\n    }\n  }\n\n  _checkContent(): void {\n    const { display, history, location } = this.props;\n    const { type } = this.state;\n    let { contentLoaded } = this.state;\n    let { levelId } = this.state;\n\n    const query = new URLSearchParams(location.search);\n    const newType = query.get('type') as QueryType;\n\n    if (newType !== type) {\n      this.setState({ type: newType });\n      levelId = -1;\n      contentLoaded = false;\n    }\n    if (!contentLoaded) {\n      this.content = StoreClasses.store.getAssets().cards;\n    }\n    if (this.state.contentChanged) this.setState({ contentChanged: false });\n\n    if (this.content.levelNames.length > 0) {\n      if (!contentLoaded) {\n        this.setState({ contentLoaded: true, levelId: -1 });\n        return;\n      }\n      const newLevelId = parseInt(query.get('levelId') || '0') | 0;\n      if (levelId !== newLevelId) {\n        window.clearInterval(this.progressInterval);\n        this.progressInterval = undefined;\n        // retrieve level description\n        // reset level filter\n        this.levelFilter = 0;\n        if (display !== 'my') {\n          this.content.cards.forEach((level) => {\n            if (level.type === newType && level.cards.length > 0)\n              this.levelFilter |= 1 << level.levelId;\n          });\n          const idx = this.content.cards.findIndex(\n            (level) => level.levelId === newLevelId && level.type === newType\n          );\n          if (idx >= 0) {\n            this.levelDescription = this.content.cards[idx].header.replace(\n              '{Q}',\n              this.content.cards[idx].quantity.toString()\n            );\n            this.tokenIds = this.content.cards[idx].cards.map(\n              (card, cardId) => {\n                return {\n                  tokenId: BIGNUMBER_MAX,\n                  levelId: idx,\n                  cardId,\n                  isBaseCard: true,\n                  isStockCard: true,\n                  isWallet: false,\n                  status: SFTS.UNLOCKED,\n                  rewardRate: 0,\n                  rewardShare: 0,\n                  rewardEarned: 0,\n                  mintTimestamp: 0,\n                  cfolioItems: [],\n                  boosterRewards: {\n                    total: 0,\n                    pending: 0,\n                    apr: 0,\n                  },\n                };\n              }\n            );\n          }\n          this.walletTokenIds = [];\n        } else {\n          // get our base tokenIds\n          this.tokenIds = StoreClasses.store\n            .getAssets()\n            .userSFT.filter((n) => n.isStockCard);\n          // get cfolioItems from wallet\n          this.walletTokenIds =\n            StoreClasses.store.getAssets().userSFT.find((n) => n.isWallet)\n              ?.cfolioItems ?? [];\n          // collect tokenId bitmask\n          let hasCFolioItems = false;\n          this.tokenIds.forEach((n) => {\n            this.levelFilter |= 1 << this.content.cards[n.levelId].levelId;\n            if (\n              this.content.cards[n.levelId].levelId === newLevelId &&\n              n.cfolioItems.length > 0\n            )\n              hasCFolioItems = true;\n          });\n          this.levelDescription =\n            (this.levelFilter & (1 << newLevelId)) === 0\n              ? ''\n              : (this.levelDescription = this.content.cards[\n                  newLevelId\n                ].header.replace(\n                  '{Q}',\n                  this.content.cards[newLevelId].quantity.toString()\n                ));\n          if (this.walletTokenIds.length > 0) {\n            this.levelFilter |= 1 << 4;\n          }\n          if (hasCFolioItems && StoreClasses.store.isSidechain()) {\n            this.progessStart = new Date();\n            this.progressInterval = window.setInterval(\n              this._ticker.bind(this),\n              1000\n            );\n          }\n        }\n\n        if (this.levelFilter && (this.levelFilter & (1 << newLevelId)) === 0) {\n          let defaultLevelId = 4;\n          if (this.levelFilter & 1) defaultLevelId = 0;\n          else if (this.levelFilter & 2) defaultLevelId = 1;\n          else if (this.levelFilter & 4) defaultLevelId = 2;\n          query.set('levelId', defaultLevelId.toString());\n          history.replace(location.pathname + '?' + query.toString());\n        }\n        this.prevLevel = -1;\n        this.nextLevel = -1;\n        // check for next level\n        const levelLength = this.content.levelNames.length;\n        for (\n          let i = newLevelId + 1;\n          this.nextLevel < 0 && i < levelLength;\n          ++i\n        ) {\n          if (this.levelFilter & (1 << i)) this.nextLevel = i;\n        }\n\n        // check for next level\n        for (let i = newLevelId - 1; this.prevLevel < 0 && i >= 0; --i) {\n          if (this.levelFilter & (1 << i)) this.prevLevel = i;\n        }\n        this.setState({ levelId: newLevelId });\n      }\n    }\n    if (query.get('scroll') === 'false') this.scrollOnUpdate = false;\n  }\n\n  _ticker() {\n    let perc = 100 - (new Date().getTime() - this.progessStart.getTime()) / 300;\n    if (perc < 0) {\n      this._updateRewards();\n      this.progessStart = new Date();\n      perc = 100;\n    }\n    this.progressRefs.forEach((ref) => {\n      if (ref.current) ref.current.style.width = perc.toString() + '%';\n    });\n  }\n\n  _updateRewards = async () => {\n    if (StoreClasses.store.isSidechain()) {\n      StoreClasses.dispatcher.dispatch({\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    }\n  };\n\n  render(): JSX.Element {\n    const { display, t } = this.props;\n    const { contentLoaded, isWalletConnected, levelId, type } = this.state;\n    const levelPosition = levelId;\n    const hasMoreLevels = this.nextLevel >= 0;\n\n    const startPosition = 0;\n\n    return (\n      <>\n        <div\n          ref={this.mainRef}\n          className={'wolves-container wolves-header bg-' + type}\n        >\n          {!isWalletConnected && display === 'my' ? (\n            <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n              Wallet is not connected.\n              <br /> Please connect your wallet.\n            </span>\n          ) : (\n            <>\n              <img\n                src={Logo}\n                alt=\"WOWS\"\n                width=\"50px\"\n                height=\"50px\"\n                className={`${type === 'bois' ? 'rotate' : ''}`}\n              />\n              <h2 className=\"tk-vincente-lightbold no-margin\">\n                {t('page3.welcome-' + type)}\n              </h2>\n              <h4 className=\"tk-grotesk-lightbold\">\n                {t('page3.newCrypto-' + type).replace(\n                  '{Q}',\n                  (levelId + 1).toString()\n                )}\n              </h4>\n              <span className=\"line-container\">\n                <span id=\"left\" className=\"dot\" />\n                <span className=\"line\" />\n                <span id=\"right\" className=\"dot\" />\n              </span>\n              <div id=\"page3-section-header\">\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange fixed-pos\">\n                  &lt;\n                  {this.prevLevel < 0 || levelPosition <= startPosition ? (\n                    <Link className=\"noselect\" to=\"/\">\n                      {t('page.home')}\n                    </Link>\n                  ) : (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.prevLevel}\n                    >\n                      {t('page.previous')}\n                    </Link>\n                  )}\n                </span>\n                <span className=\"page3-section-container tk-vincente-lightbold\">\n                  {contentLoaded &&\n                    this.content.levelNames.map(\n                      (name: string, index: number) => {\n                        if ((1 << index) & this.levelFilter) {\n                          return levelId === index ? (\n                            <span\n                              key={`sec_` + index}\n                              className=\"page3-section page3-section-selected\"\n                            >\n                              {name}\n                              <div id=\"triangle-down\" />\n                            </span>\n                          ) : (\n                            <Link\n                              key={'sec_' + index}\n                              className=\"page3-section\"\n                              to={'?type=' + type + '&levelId=' + index}\n                            >\n                              {name}\n                            </Link>\n                          );\n                        } else return null;\n                      }\n                    )}\n                </span>\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange\">\n                  {hasMoreLevels ? (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.nextLevel}\n                    >\n                      {t('page.nextLevel')}\n                    </Link>\n                  ) : (\n                    t('page.nextLevel')\n                  )}\n                  &gt;\n                </span>\n              </div>\n              {contentLoaded && (\n                <h4 className=\"tk-grotesk-lightbold\">\n                  {this.levelDescription}\n                </h4>\n              )}\n              {contentLoaded && (\n                <div id=\"page3-content-container\">\n                  {levelId !== 4 &&\n                    this.tokenIds.map((id, index) => {\n                      const level = this.content.cards[id.levelId];\n                      return (\n                        level.levelId === levelId &&\n                        (display === 'my' || type === level.type) && (\n                          <CardBox\n                            sft={id}\n                            earned={id.rewardEarned + id.boosterRewards.pending}\n                            key={'card_' + index}\n                            t={t}\n                            progressRefs={this.progressRefs}\n                          />\n                        )\n                      );\n                    })}\n                  {levelId === 4 &&\n                    this.walletTokenIds.map((sftc, index) => (\n                      <CardBox\n                        cfolio={sftc}\n                        earned={0}\n                        key={'cfolio_' + index}\n                        t={t}\n                      />\n                    ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\nexport default withTranslation()(Page3);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nexport function remainingFromSecs(secondsLeft: number): string {\n  if (secondsLeft < 0) return '0d:0h:0m:0s';\n\n  const secInMinute = 60;\n  const secInHour = secInMinute * 60;\n  const secInDay = secInHour * 24;\n\n  const days = Math.floor(secondsLeft / secInDay)\n    .toString()\n    .padStart(2, '0');\n  const hours = Math.floor((secondsLeft % secInDay) / secInHour)\n    .toString()\n    .padStart(2, '0');\n  const minutes = Math.floor((secondsLeft % secInHour) / secInMinute)\n    .toString()\n    .padStart(2, '0');\n  const seconds = Math.floor(secondsLeft % secInMinute)\n    .toString()\n    .padStart(2, '0');\n\n  return (\n    days +\n    'd:' +\n    hours +\n    'h:' +\n    minutes +\n    'm' +\n    (days === '00' ? ':' + seconds + 's' : '')\n  );\n}\n","/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Transfer.css';\n\nimport { ethers } from 'ethers';\nimport { useEffect, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { SFT_TRANSFER } from '../../../stores/constants';\nimport { StatusResult, StoreClasses } from '../../../stores/store';\n\ntype PROPS = {\n  t: TFunction;\n  tokenId: ethers.BigNumber;\n  name: string;\n  show: boolean;\n  canBridge: boolean;\n  hideCB: () => void;\n};\n\nfunction Transfer({\n  hideCB,\n  name,\n  show,\n  canBridge,\n  tokenId,\n  t,\n}: PROPS): JSX.Element {\n  const [txRunning, setTXRunning] = useState(false);\n  const [tOption, setTOption] = useState(canBridge ? 0 : 1);\n  const [bridgeTarget, setBridgeTarget] = useState({\n    name: '...',\n    address: '',\n  });\n  const [customAddress, setCustomAddress] = useState('');\n\n  const addressvalid = (): string => {\n    try {\n      return ethers.utils.getAddress(customAddress);\n    } catch {\n      return '';\n    }\n  };\n\n  const handleTransfer = () => {\n    const payload = {\n      type: SFT_TRANSFER,\n      content: {\n        id: tokenId,\n        address: tOption === 0 ? bridgeTarget.address : customAddress,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) {\n        setTXRunning(false);\n        if (result.status === 'success') hideCB();\n      }\n    };\n\n    StoreClasses.emitter.on(SFT_TRANSFER, resetTx);\n    setBridgeTarget(StoreClasses.store.getBridgeTarget());\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(SFT_TRANSFER, resetTx);\n    };\n  }, [hideCB]);\n\n  const transferState = (n: number): string => {\n    return tOption === n\n      ? canBridge\n        ? 'active'\n        : 'active full-width'\n      : 'select';\n  };\n\n  const transferFunc = (n: number) => {\n    return tOption === n ? undefined : () => setTOption(n);\n  };\n\n  const buttonText = txRunning\n    ? { l: t('page4.txPending'), d: true }\n    : tOption === 0\n    ? { l: t('page4.transferTo', { name: bridgeTarget.name }), d: false }\n    : addressvalid() !== ''\n    ? { l: t('page4.transferTo', { name: 'ADDRESS' }), d: false }\n    : { l: t('page.invalidAddress'), d: true };\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} backdrop={true}>\n      <Modal.Header closeButton>\n        <Modal.Title>Transfer {name}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"lock-container\">\n          {canBridge && (\n            <div className={transferState(0)} onClick={transferFunc(0)}>\n              {bridgeTarget.name}\n            </div>\n          )}\n          <div className={transferState(1)} onClick={transferFunc(1)}>\n            ADDRESS\n          </div>\n        </div>\n        {tOption === 0 && bridgeTarget.address !== '' && (\n          <span className=\"tk-aktiv-grotesk mt-2 d-inline-block\">\n            {bridgeTarget.name === 'POLYGON' ? (\n              <>\n                Bridging to the Polygon network takes about 3-5 minutes.\n                <br />\n                Your CFOLIO will automatically appear after this time if you are\n                connected to the Polygon network.\n              </>\n            ) : (\n              <>\n                Bridging to Ethereum network is a 2 step process and can take up\n                to 2 hours. Your CFOLIO appears after some seconds in the\n                Ethereum network and displays the transfer state:\n                <br />\n                <ol style={{ marginTop: '0.5em', paddingLeft: '1.5em' }}>\n                  <li>CFOLIO is waiting for the bridge process to finish.</li>\n                  <li>\n                    You have to release the CFOLIO from the bridge with an\n                    ethereum transaction.\n                  </li>\n                </ol>\n              </>\n            )}\n          </span>\n        )}\n        {tOption === 1 && (\n          <input\n            className=\"wolves-input mt-2\"\n            type=\"edit\"\n            onChange={(elem) => setCustomAddress(elem.target.value)}\n          />\n        )}\n        <button\n          className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n          onClick={() => handleTransfer()}\n          disabled={buttonText?.d}\n        >\n          {buttonText?.l}\n        </button>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Transfer);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page4.css';\n\nimport { BigNumber, ethers } from 'ethers';\nimport React, { Component } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport { remainingFromSecs } from '../../utils/utils';\nimport {\n  CARD,\n  CARD_LEVEL,\n  CARDS,\n  CFOLIO_ITEM,\n  CFOLIO_ITEMS,\n} from '../types/cards';\nimport Transfer from './Transfer/Transfer';\n\ntype PAGE4_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE4_STATE = {\n  type: QueryType;\n  cards?: CARDS;\n  cfolios?: CFOLIO_ITEMS[];\n  renderList: RenderListItem[];\n  tokenIds?: SFT[];\n  isWalletConnected: boolean;\n  txPending: boolean;\n  currentIndex: number;\n  selectedCFolio: number;\n  modalOpen: boolean;\n  transferOpen: boolean;\n  boosterExistingValue: number;\n  boosterNewValue: number;\n  boosterRelock: number;\n};\n\ntype RenderListItem = {\n  sft?: SFT;\n  cfi?: SFTCHILD;\n  tokenId?: ethers.BigNumber;\n  level: number;\n  index: number;\n};\n\nconst INITIAL_PAGE4_STATE: PAGE4_STATE = {\n  type: 'wolves',\n  renderList: [],\n  isWalletConnected: false,\n  txPending: false,\n  currentIndex: -1,\n  selectedCFolio: -1,\n  modalOpen: false,\n  transferOpen: false,\n  boosterExistingValue: 1,\n  boosterNewValue: 15552000,\n  boosterRelock: 1,\n};\n\nclass Page4 extends Component<PAGE4_PROPS, PAGE4_STATE> {\n  scrollOnUpdate = true;\n  needUpdate = true;\n  imageContainerRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  constructor(props: PAGE4_PROPS) {\n    super(props);\n    this.state = {\n      ...INITIAL_PAGE4_STATE,\n      cards: StoreClasses.store.getAssets().cards,\n      cfolios: StoreClasses.store.getAssets().cfolioItems,\n      tokenIds: StoreClasses.store.getAssets().userSFT,\n    };\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onSFTTransaction = this.onSFTTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._updateContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onSFTTransaction);\n  }\n\n  componentDidUpdate(): void {\n    this._updateContent();\n    if (this.scrollOnUpdate) {\n      window.scrollTo(0, 0);\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n      this.hideCB();\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'loaded' || status.status === 'cards') {\n      this.needUpdate = true;\n      this.setState({\n        cards: StoreClasses.store.getAssets().cards,\n        cfolios: StoreClasses.store.getAssets().cfolioItems,\n      });\n    } else if (status.status === 'tokens') {\n      this.needUpdate = true;\n      this.setState({\n        tokenIds: StoreClasses.store.getAssets().userSFT,\n        selectedCFolio: -1,\n      });\n    } else if (status.status === 'rewards') {\n      this.setState({ tokenIds: StoreClasses.store.getAssets().userSFT });\n    }\n  }\n\n  onSFTTransaction(status: StatusResult): void {\n    if (status.status === 'success' || status.status === 'error')\n      this.setState({ txPending: false });\n  }\n\n  _updateContent() {\n    const { cards, tokenIds, type } = this.state;\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    let newType: QueryType = 'wolves';\n    switch (query.get('type')) {\n      case 'bois':\n        newType = 'bois';\n        break;\n      case 'myPack':\n        newType = 'myPack';\n        break;\n    }\n\n    if (newType !== type) {\n      this.needUpdate = true;\n      this.setState({ type: newType });\n      query.delete('type');\n      query.append('type', newType);\n      history.replace('?' + query.toString());\n      return;\n    }\n\n    if (!cards) return;\n\n    if (!this.needUpdate) {\n      return this._getCurrentIndex();\n    }\n\n    let currentIndex = -1;\n    let fixIndex = 0;\n    const newRenderList: RenderListItem[] = [];\n\n    this.needUpdate = false;\n\n    if (type === 'myPack' && tokenIds) {\n      const curTokenId = query.get('tokenId')\n        ? ethers.BigNumber.from(query.get('tokenId'))\n        : undefined;\n      // Display Wallet's CFolioItems if tokenId is CFI\n      if (\n        curTokenId &&\n        tokenIds.length &&\n        tokenIds[0].cfolioItems.find((cfi) =>\n          cfi.tokenId.mask(128).eq(curTokenId.mask(128))\n        )\n      ) {\n        // loop through cfolio items and create renderlist\n        tokenIds[0].cfolioItems.forEach((cfi) => {\n          if (curTokenId && cfi.tokenId.mask(128).eq(curTokenId.mask(128)))\n            currentIndex = newRenderList.length;\n          newRenderList.push({\n            cfi,\n            tokenId: cfi.tokenId,\n            level: cfi.levelId,\n            index: cfi.cardId,\n          });\n        });\n      } else {\n        // loop through tokenIds and create renderlist\n        tokenIds.forEach((sft) => {\n          if (sft.isStockCard) {\n            if (curTokenId) {\n              if (sft.tokenId.eq(curTokenId)) {\n                currentIndex = newRenderList.length;\n              } else if (sft.tokenId.mask(128).eq(curTokenId.mask(128))) {\n                fixIndex = newRenderList.length;\n              }\n            }\n            newRenderList.push({\n              sft,\n              tokenId: sft.tokenId,\n              level: sft.levelId,\n              index: sft.cardId,\n            });\n          }\n        });\n      }\n    } else if (type !== 'myPack') {\n      const curCardId = query.get('cardId') || '';\n      cards.cards.forEach((level, index1) => {\n        if (level.type === type) {\n          level.cards.forEach((card, index2) => {\n            if (card.id === curCardId) currentIndex = newRenderList.length;\n            newRenderList.push({ level: index1, index: index2 });\n          });\n        }\n      });\n    }\n    this.setState({ renderList: newRenderList });\n    if (currentIndex < 0 && newRenderList.length > 0) {\n      this._fixUrl(fixIndex);\n      return;\n    }\n    if (this.state.currentIndex !== currentIndex) {\n      this.setState({ currentIndex, selectedCFolio: -1 });\n    }\n    if (\n      currentIndex >= 0 &&\n      (newRenderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n    )\n      this.onProgressIteration();\n  }\n\n  _getCurrentIndex() {\n    const { cards, renderList, type } = this.state;\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n    let fixIndex = 0;\n\n    if (cards && renderList.length > 0) {\n      let currentIndex = -1;\n      if (type === 'myPack' && query.get('tokenId')) {\n        const curTokenId = ethers.BigNumber.from(query.get('tokenId'));\n        currentIndex = renderList.findIndex((elem) =>\n          elem.tokenId?.mask(128).eq(curTokenId.mask(128))\n        );\n        if (\n          currentIndex >= 0 &&\n          renderList[currentIndex]?.tokenId &&\n          !renderList[currentIndex]?.tokenId?.eq(curTokenId)\n        ) {\n          fixIndex = currentIndex;\n          currentIndex = -1;\n        }\n      } else if (type !== 'myPack' && query.get('cardId')) {\n        const curCardId = query.get('cardId');\n        currentIndex = renderList.findIndex(\n          (elem) => cards.cards[elem.level].cards[elem.index].id === curCardId\n        );\n      }\n      if (currentIndex < 0 && renderList.length > 0) {\n        this._fixUrl(fixIndex);\n        return;\n      }\n      if (this.state.currentIndex !== currentIndex) {\n        this.setState({ currentIndex, selectedCFolio: -1 });\n        if (\n          currentIndex >= 0 &&\n          (renderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n        )\n          this.onProgressIteration();\n      }\n    }\n  }\n\n  _fixUrl(index: number) {\n    const { history, location } = this.props;\n    const { renderList } = this.state;\n    const query = new URLSearchParams(location.search);\n    if (index < renderList.length) {\n      if (this.state.type === 'myPack') {\n        query.delete('tokenId');\n        const tokenId = renderList[index].tokenId;\n        if (tokenId) {\n          query.append('tokenId', tokenId.toHexString());\n        }\n        history.replace('?' + query.toString());\n        if (index === this.state.currentIndex) this.onProgressIteration();\n      }\n    }\n  }\n\n  _onBuy(): void {\n    const { cards, currentIndex, renderList } = this.state;\n    if (currentIndex >= 0 && cards) {\n      const current = renderList[this.state.currentIndex];\n      const status = current.sft\n        ? current.sft.status\n        : current.cfi\n        ? current.cfi.status\n        : 0;\n      const payload = {\n        type:\n          current.tokenId === undefined\n            ? SFT_BUY\n            : status > SFTS.LOCKED\n            ? SFT_PROOF\n            : status > 0\n            ? SFT_UNLOCK\n            : SFT_LOCK,\n        content: {},\n      };\n      const cardLevel = cards.cards[current.level];\n      payload.content = {\n        amount: cardLevel.price,\n        id: BigNumber.from(\n          current.tokenId === undefined\n            ? (cardLevel.chainRef << 8) |\n                cardLevel.cards[current.index].chainRef\n            : current.tokenId\n        ),\n      };\n      this.setState({ txPending: true });\n      StoreClasses.dispatcher.dispatch(payload);\n    }\n  }\n\n  _onClaim(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_CLAIM,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: renderList[currentIndex].sft?.boosterRewards.secsLeft\n          ? this.state.boosterExistingValue\n          : this.state.boosterNewValue,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onClaimBooster(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_CLAIM_BOOSTER,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: this.state.boosterRelock,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onUpgrade(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_UPGRADE,\n      content: {\n        id: renderList[currentIndex].tokenId,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  onProgressIteration() {\n    StoreClasses.dispatcher.dispatch({\n      type: SFT_REWARD,\n      content: {},\n    } as Payload);\n  }\n\n  toggleImage(event: React.MouseEvent<HTMLImageElement>) {\n    this.setState({\n      selectedCFolio:\n        this.state.selectedCFolio < 0\n          ? parseInt(event.currentTarget.getAttribute('data-id') || '-1')\n          : -1,\n    });\n  }\n\n  hideCB = () => {\n    this.setState({ modalOpen: false, transferOpen: false });\n  };\n\n  render(): JSX.Element {\n    const { history, t } = this.props;\n    const {\n      cards,\n      cfolios,\n      currentIndex,\n      selectedCFolio,\n      isWalletConnected,\n      renderList,\n      txPending,\n      type,\n      modalOpen,\n      transferOpen,\n      boosterExistingValue,\n      boosterNewValue,\n      boosterRelock,\n    } = this.state;\n\n    const currentRender =\n      currentIndex >= 0 ? renderList[currentIndex] : undefined;\n\n    const currentLevel =\n      cards && cfolios && currentRender\n        ? currentRender.cfi\n          ? cfolios[currentRender.level]\n          : cards.cards[currentRender.level]\n        : undefined;\n\n    const currentCard =\n      currentLevel && currentRender\n        ? currentLevel.cards[currentRender.index]\n        : undefined;\n\n    const noQuantity =\n      !currentCard ||\n      !currentRender ||\n      !currentLevel ||\n      (type !== 'myPack' &&\n        (currentCard as CARD).minted >= (currentLevel as CARD_LEVEL).quantity);\n\n    const levelId = currentRender?.cfi\n      ? 4\n      : (currentLevel as CARD_LEVEL)?.levelId ?? 0;\n\n    const sftStatus = currentRender?.sft\n      ? currentRender.sft.status\n      : currentRender?.cfi\n      ? currentRender.cfi.status\n      : -1;\n\n    const buttonText = !isWalletConnected\n      ? { l: t('header.connectWallet').toString(), d: true }\n      : noQuantity\n      ? StoreClasses.store.isSidechain()\n        ? { l: t('page.availableOnETH'), d: true }\n        : { l: t('page4.noQuantity').toString(), d: true }\n      : txPending\n      ? { l: t('page4.txPending'), d: true }\n      : currentRender?.tokenId === undefined\n      ? { l: t('page4.buy', { name: currentCard?.name }).toString(), d: false }\n      : sftStatus === SFTS.BRIDGE_PENDING\n      ? {\n          l: t('page4.waitProof', { name: currentCard?.name }).toString(),\n          d: true,\n        }\n      : sftStatus === SFTS.BRIDGE_READY\n      ? {\n          l: t('page4.proof', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : sftStatus > 0\n      ? {\n          l: t('page4.unlock', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : {\n          l: t('page4.lock', { name: currentCard?.name }).toString(),\n          d: false,\n        };\n\n    // Create Navigation Links\n    let prevUrl: string | undefined, nextUrl: string | undefined;\n    if (renderList && renderList.length > 1) {\n      const prevIndex =\n        currentIndex > 0 ? currentIndex - 1 : renderList.length - 1;\n      const nextIndex =\n        currentIndex < renderList.length - 1 ? currentIndex + 1 : 0;\n      if (type === 'myPack') {\n        prevUrl = `?type=myPack&tokenId=${renderList[\n          prevIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n        nextUrl = `?type=myPack&tokenId=${renderList[\n          nextIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n      } else {\n        prevUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[prevIndex].level].cards[\n            renderList[prevIndex].index\n          ].id\n        }&scroll=false`;\n        nextUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[nextIndex].level].cards[\n            renderList[nextIndex].index\n          ].id\n        }&scroll=false`;\n      }\n    }\n\n    const backUrl =\n      type === 'myPack'\n        ? `my?type=myPack&levelId=${levelId}`\n        : `/shop?type=${type}&levelId=${levelId}`;\n\n    const assetIndex =\n      currentLevel?.type === 'bois' || currentLevel?.type === 'stableInvestment'\n        ? StoreClasses.store.getStableCurrencies().length - 1\n        : 0;\n\n    let price,\n      quantity,\n      autoUpgrade,\n      profitReward,\n      autoUpgradeText,\n      apr,\n      apy,\n      investment,\n      share;\n    if (currentRender?.cfi && currentCard) {\n      quantity = (currentCard as CFOLIO_ITEM).maxMintable;\n      investment =\n        currentRender?.cfi.assets[assetIndex].toFixed(6) +\n        ' ' +\n        (currentLevel as CFOLIO_ITEMS).token;\n    } else if (currentRender && currentLevel) {\n      quantity = (currentLevel as CARD_LEVEL).quantity;\n      autoUpgrade = (currentLevel as CARD_LEVEL).autoUpgrade;\n      if (autoUpgrade === '') autoUpgrade = undefined;\n      profitReward = currentRender?.sft\n        ? currentRender.sft.rewardRate / 10000\n        : (currentLevel as CARD_LEVEL).profitReward;\n      if (!currentRender?.sft) price = (currentLevel as CARD_LEVEL).price;\n      if (autoUpgrade && currentRender.sft) {\n        if (\n          sftStatus === 0 &&\n          profitReward === (currentLevel as CARD_LEVEL).profitReward\n        ) {\n          autoUpgrade =\n            60 * 86400 + currentRender.sft?.mintTimestamp - Date.now() / 1000;\n          const upgradeReward = (currentLevel as CARD_LEVEL).upgradeReward;\n          autoUpgradeText = txPending\n            ? t('page4.txPending')\n            : autoUpgrade <= 0\n            ? `UPGRADE TO ${upgradeReward} PROWESS NOW`\n            : `UPGRADE TO ${upgradeReward} PROWESS IN ` +\n              remainingFromSecs(autoUpgrade);\n        } else {\n          autoUpgrade = undefined;\n        }\n      }\n\n      if (profitReward && currentLevel) {\n        const rewardIndex = currentLevel.type === 'wolves' ? 0 : 1;\n        const rewardInfo =\n          StoreClasses.store.getAssets().rewardInfo[rewardIndex];\n        if (rewardInfo.apr) {\n          const aprNum = (rewardInfo.apr * profitReward) / 100;\n          apr = aprNum.toFixed(2);\n          apy = StoreClasses.store.aprToApy(aprNum);\n          share = currentRender.sft?.rewardShare.toFixed(2);\n        }\n      }\n    }\n\n    const claimableAmount = currentRender?.sft\n      ? currentRender?.sft.rewardEarned +\n        currentRender?.sft.boosterRewards.pending\n      : 0;\n    const claimText =\n      currentRender?.sft && claimableAmount > 0\n        ? !isWalletConnected\n          ? { l: t('header.connectWallet').toString(), d: true }\n          : txPending && !modalOpen && !transferOpen\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t('page4.manageRewards', {\n                amount: claimableAmount.toFixed(6),\n              }).toString(),\n              d: sftStatus > 0 || claimableAmount === 0,\n            }\n        : undefined;\n\n    const renderCFolioItems = () => {\n      if (\n        currentRender?.sft &&\n        currentRender.sft.cfolioItems.length > 0 &&\n        this.imageContainerRef.current &&\n        cfolios\n      ) {\n        const topOffset =\n          currentRender.sft.cfolioItems.length > 1\n            ? Math.min(\n                (this.imageContainerRef.current.clientHeight - 82) /\n                  (currentRender.sft.cfolioItems.length - 1),\n                86\n              )\n            : 0;\n        const sftChild =\n          selectedCFolio >= 0 &&\n          selectedCFolio < currentRender.sft.cfolioItems.length &&\n          currentRender.sft.cfolioItems[selectedCFolio];\n        return (\n          <>\n            {currentRender.sft.cfolioItems.map((sftc, index) => {\n              const cfi = cfolios[sftc.levelId].cards[sftc.cardId];\n              return (\n                <img\n                  key={'cfi' + index}\n                  id=\"cfi-image\"\n                  data-id={index}\n                  onClick={this.toggleImage.bind(this)}\n                  className=\"selectable\"\n                  style={\n                    selectedCFolio !== index\n                      ? { right: '6px', top: 6 + index * topOffset + 'px' }\n                      : {\n                          right: '15%',\n                          zIndex: 20,\n                          top: '12px',\n                          transition: 'all 0.5s',\n                        }\n                  }\n                  height={selectedCFolio !== index ? '80px' : '70%'}\n                  alt={cfi.name}\n                  src={cfi.url.replace('{res}', '500')}\n                />\n              );\n            })}\n            <span\n              id=\"page4-content-image-inner-info\"\n              className=\"tk-vincente-lightbold\"\n              style={{ visibility: selectedCFolio < 0 ? 'hidden' : 'visible' }}\n            >\n              {sftChild && (\n                <>\n                  <h3>\n                    {cfolios[sftChild.levelId].cards[sftChild.cardId].name}\n                  </h3>\n                  <h3>\n                    {t('page.tokenId')}:{' '}\n                    {sftChild.tokenId.mask(128).toHexString()}\n                  </h3>\n                  <h3>\n                    {t('page.investment')}:{' '}\n                    {sftChild.assets[assetIndex].toFixed(6)}{' '}\n                    {cfolios[sftChild.levelId].token}\n                  </h3>\n                </>\n              )}\n            </span>\n          </>\n        );\n      }\n    };\n\n    const imgClass =\n      selectedCFolio < 0 ? 'card-visual' : 'card-visual monochrome';\n\n    const boosterState = (value: number, n: number): string => {\n      return value === n ? 'active' : 'select';\n    };\n\n    const boosterFuncN = (n: number) => {\n      return boosterNewValue === n\n        ? undefined\n        : () => this.setState({ boosterNewValue: n });\n    };\n\n    const boosterFuncR = (n: number) => {\n      return boosterRelock === n\n        ? undefined\n        : () => this.setState({ boosterRelock: n });\n    };\n\n    const boosterFuncE = (n: number) => {\n      return boosterExistingValue === n\n        ? undefined\n        : () => this.setState({ boosterExistingValue: n });\n    };\n\n    let boosterFarmButtonText, boosterButtonText, boosterPeriod;\n\n    const boosterTotal = currentRender?.sft?.boosterRewards.total.toFixed(2);\n    if (currentRender?.sft?.boosterRewards.secsLeft) {\n      switch (currentRender.sft.boosterRewards.apr) {\n        case 1.75:\n        case 1.875:\n          boosterPeriod = '6 months';\n          break;\n        case 1.3:\n          boosterPeriod = '3 months';\n          break;\n        case 1.0:\n          boosterPeriod = '1 month';\n          break;\n        default:\n          boosterPeriod = 'Unknown';\n      }\n    } else if (currentRender?.sft) {\n      boosterPeriod = 'No period started';\n    }\n\n    if (modalOpen && currentRender?.sft) {\n      if (currentRender.sft.rewardEarned) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterExistingValue > 0;\n        } else {\n          lockRewards = boosterNewValue > 0;\n        }\n        boosterFarmButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.lockWows' : 'page4.claim', {\n                amount: currentRender.sft.rewardEarned.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n\n      if (currentRender.sft.boosterRewards.pending) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterRelock;\n        } else {\n          lockRewards = false;\n        }\n        boosterButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.relockWows' : 'page4.claim', {\n                amount: currentRender.sft.boosterRewards.pending.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n    }\n\n    const transferButtonText =\n      txPending && !transferOpen && !modalOpen\n        ? { l: t('page4.txPending'), d: true }\n        : { l: t('page4.transfer', { name: currentCard?.name }), d: false };\n\n    return (\n      <div\n        id=\"top\"\n        className={\n          'wolves-container wolves-header tk-grotesk-lightbold bg-' +\n          (currentLevel ? currentLevel.type : 'wolves')\n        }\n      >\n        <img src={Logo} alt=\"WOWS\" width=\"50px\" height=\"50px\" />\n        <h2 className=\"tk-vincente-lightbold no-margin\">\n          {t('page4.welcome-' + type)}\n        </h2>\n        <h4\n          className=\"tk-grotesk-lightbold\"\n          dangerouslySetInnerHTML={{ __html: t('page4.header-' + type) }}\n        />\n        {currentIndex >= 0 && (\n          <div className=\"back-level-container\">\n            <span\n              className=\"tk-vincente-lightbold font-24 content-margin c-pointer\"\n              onClick={() => history.push(backUrl)}\n            >\n              &lt;{t('page.back')}\n            </span>\n            <span className=\"tk-vincente-lightbold font-24 content-margin\">\n              {currentLevel ? cards?.levelNames[levelId] : ''}\n            </span>\n          </div>\n        )}\n        <span className=\"line-container\">\n          <span id=\"left\" className=\"dot\" />\n          <span className=\"line\" />\n          <span id=\"right\" className=\"dot\" />\n        </span>\n        <div\n          id=\"page4-section-header\"\n          className=\"tk-vincente-lightbold font-20 single-line\"\n        >\n          <span>\n            <span\n              className={`tk-vincente-lightbold font-24 single-line noselect ${\n                prevUrl ? 'c-pointer' : 'disabled-link'\n              }`}\n              onClick={() => (prevUrl ? history.push(prevUrl) : undefined)}\n            >\n              &lt;{t('page.previousCard')}\n            </span>\n          </span>\n          <span\n            className={`tk-vincente-lightbold font-24 single-line noselect ${\n              nextUrl ? 'c-pointer' : 'disabled-link'\n            } `}\n            onClick={() => (nextUrl ? history.replace(nextUrl) : undefined)}\n          >\n            {t('page.nextCard')}&gt;\n          </span>\n        </div>\n        {!isWalletConnected && type === 'myPack' ? (\n          <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n            Wallet is not connected.\n            <br /> Please connect your wallet.\n          </span>\n        ) : (\n          <div id=\"page4-content-container\">\n            <div id=\"page4-content-image\">\n              <div id=\"page4-content-image-inner\" ref={this.imageContainerRef}>\n                {currentCard &&\n                  (currentCard.type === 'movie' ? (\n                    <video\n                      disableRemotePlayback={true}\n                      className={imgClass}\n                      autoPlay={true}\n                      loop={true}\n                      src={currentCard.url.replace('{res}', '500')}\n                      poster={currentCard.url.replace('{res}', '300') + '.jpg'}\n                      playsInline\n                    />\n                  ) : (\n                    <img\n                      className={imgClass}\n                      src={currentCard.url.replace('{res}', '500')}\n                      alt={currentCard.name}\n                    />\n                  ))}\n                {sftStatus > 0 && (\n                  <div\n                    className={sftStatus > SFTS.LOCKED ? 'bridged' : 'locked'}\n                  />\n                )}\n                {renderCFolioItems()}\n              </div>\n            </div>\n            <div id=\"page4-content-text\" className=\"gro\">\n              {currentCard && (\n                <>\n                  <div>\n                    <h1\n                      className={\n                        'tk-vincente-lightbold h-1 single-line' +\n                        (currentRender?.tokenId !== undefined\n                          ? ' wolves-text-shaddow'\n                          : '')\n                      }\n                    >\n                      {currentCard.name}\n                    </h1>\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}:{currentCard.motto}\n                      </span>\n                    </h3>\n                    {currentRender?.tokenId !== undefined && (\n                      <h3 className=\"tk-vincente-lightbold\">\n                        <span>\n                          {` ${t('page.tokenId')}: 0x${currentRender?.tokenId\n                            .mask(128)\n                            .toHexString()\n                            .replace('0x', '')\n                            .toUpperCase()\n                            .padStart(8, '0')}`}\n                        </span>\n                      </h3>\n                    )}\n                    <p className=\"font-16\">{currentCard.description}</p>\n                    {currentRender?.sft && sftStatus < SFTS.BRIDGE_PENDING && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedSft'\n                            : 'page4.unlockedSft'\n                        )}\n                      </p>\n                    )}\n                    {currentRender?.cfi && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedCfi'\n                            : 'page4.unlockedCfi'\n                        )}\n                      </p>\n                    )}\n                    <ul className=\"tk-vincente-lightbold font-24 rarity-box\">\n                      <li>\n                        <h3 className=\"no-margin\">RARITY: 1/{quantity}</h3>\n                      </li>\n                      {profitReward && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.prowess')}: {profitReward}%{' '}\n                          </h3>\n                        </li>\n                      )}\n                      {boosterPeriod && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            <span\n                              className=\"ulink c-pointer\"\n                              onClick={() => this.setState({ modalOpen: true })}\n                            >\n                              {t('page4.booster', {\n                                period: boosterPeriod,\n                                amount: boosterTotal,\n                              })}\n                            </span>\n                          </h3>\n                        </li>\n                      )}\n                      {apr && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.aprapy', { apr, apy })}\n                          </h3>\n                        </li>\n                      )}\n                      {share && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.share', { share })}\n                          </h3>\n                        </li>\n                      )}\n                      {autoUpgrade && (\n                        <li>\n                          {typeof autoUpgrade !== 'number' ? (\n                            <h3 className=\"no-margin\">\n                              {t('page.autoUpgrade')}: {autoUpgrade}\n                            </h3>\n                          ) : (\n                            <input\n                              className=\"wolves-btn tk-grotesk-lightbold font-16 mt-1\"\n                              type=\"button\"\n                              value={autoUpgradeText}\n                              disabled={autoUpgrade > 0 || txPending}\n                              onClick={() => this._onUpgrade()}\n                            />\n                          )}\n                        </li>\n                      )}\n                      {price && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.price')}: {price} WOWS\n                          </h3>\n                        </li>\n                      )}\n                      {investment && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.investment')}: {investment}\n                          </h3>\n                        </li>\n                      )}\n                    </ul>\n                  </div>\n                  <div>\n                    {claimText && (\n                      <span className=\"p_relative\" style={{ display: 'block' }}>\n                        <input\n                          className=\"wolves-btn mt-1\"\n                          type=\"button\"\n                          value={claimText.l}\n                          disabled={claimText.d}\n                          onClick={() => this.setState({ modalOpen: true })}\n                        />\n                        {!txPending &&\n                          isWalletConnected &&\n                          currentRender?.sft &&\n                          currentRender.sft.cfolioItems.length > 0 && (\n                            <span\n                              onAnimationIteration={this.onProgressIteration}\n                              className=\"info-progress absolute\"\n                              style={{ marginLeft: '2px', marginRight: '2px' }}\n                            />\n                          )}\n                      </span>\n                    )}\n                    {currentRender?.sft && currentRender.sft.status <= 1 && (\n                      <input\n                        className=\"wolves-btn mt-1\"\n                        type=\"button\"\n                        value={transferButtonText.l}\n                        disabled={transferButtonText.d}\n                        onClick={() => this.setState({ transferOpen: true })}\n                      />\n                    )}\n                    <input\n                      className=\"wolves-btn mt-1\"\n                      type=\"button\"\n                      value={buttonText.l}\n                      disabled={buttonText.d}\n                      onClick={() => this._onBuy()}\n                    />\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        )}\n        {modalOpen && (\n          <Modal\n            show={true}\n            backdrop=\"static\"\n            onHide={this.hideCB}\n            animation={false}\n          >\n            <Modal.Header closeButton>\n              <span className=\"tk-vincente-bold font-28 lh-1 mb-0\">\n                BOOST MY REWARDS\n              </span>\n            </Modal.Header>\n            <Modal.Body>\n              <span className=\"tk-grotesk-lightbold\">\n                <p>\n                  Your can boost your rewards by locking them into the Booster.\n                  While the rewards are locked, you can claim 10% per month\n                  either directly into your wallet, or reinvest into the Booster\n                  to earn more.\n                </p>\n                <p>\n                  Once you have created a lock period, you cannot change it's\n                  expire time. But you can always add rewards into it.\n                </p>\n                <hr />\n                <span className=\"d-block w-100 text-center\">\n                  <b>Booster lock:</b> {boosterPeriod}\n                  {currentRender?.sft?.boosterRewards.secsLeft && (\n                    <>\n                      <br />\n                      <b>Terminate:</b>{' '}\n                      {remainingFromSecs(\n                        currentRender.sft.boosterRewards.secsLeft\n                      )}\n                      <br />\n                      <b>Locked Amount:</b> {boosterTotal} WOWS\n                      <br />\n                      <b>APR:</b> {currentRender.sft.boosterRewards.apr * 100} %\n                    </>\n                  )}\n                </span>\n                {currentRender?.sft && currentRender.sft.rewardEarned > 0 && (\n                  <>\n                    <hr />\n                    <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                      FARM REWARDS\n                    </span>\n                    {currentRender.sft.boosterRewards.secsLeft ? (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterExistingValue, 1)}\n                          onClick={boosterFuncE(1)}\n                        >\n                          Lock into Booster\n                        </div>\n                        <div\n                          className={boosterState(boosterExistingValue, 0)}\n                          onClick={boosterFuncE(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterNewValue, 2592000)}\n                          onClick={boosterFuncN(2592000)}\n                        >\n                          1 month (100% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 7776000)}\n                          onClick={boosterFuncN(7776000)}\n                        >\n                          3 months (130% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 15552000)}\n                          onClick={boosterFuncN(15552000)}\n                        >\n                          6 months (175% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 0)}\n                          onClick={boosterFuncN(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    )}\n                    <button\n                      className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                      onClick={() => this._onClaim()}\n                      disabled={boosterFarmButtonText?.d}\n                    >\n                      {boosterFarmButtonText?.l}\n                    </button>\n                  </>\n                )}\n                {currentRender?.sft &&\n                  currentRender.sft.boosterRewards.pending > 0 && (\n                    <>\n                      <hr />\n                      <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                        BOOSTER REWARDS\n                      </span>\n                      {currentRender.sft.boosterRewards.secsLeft && (\n                        <div className=\"lock-container\">\n                          <div\n                            className={boosterState(boosterRelock, 1)}\n                            onClick={boosterFuncR(1)}\n                          >\n                            Relock into Booster\n                          </div>\n                          <div\n                            className={boosterState(boosterRelock, 0)}\n                            onClick={boosterFuncR(0)}\n                          >\n                            Claim into wallet\n                          </div>\n                        </div>\n                      )}\n                      <button\n                        className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                        onClick={() => this._onClaimBooster()}\n                        disabled={boosterButtonText?.d}\n                      >\n                        {boosterButtonText?.l}\n                      </button>\n                    </>\n                  )}\n              </span>\n            </Modal.Body>\n          </Modal>\n        )}\n        {transferOpen &&\n          (sftStatus === 0 || sftStatus === 1) &&\n          currentRender?.tokenId && (\n            <Transfer\n              tokenId={currentRender.tokenId}\n              name={currentCard?.name ?? 'UNKNOWN'}\n              show={true}\n              canBridge={sftStatus === 0}\n              hideCB={this.hideCB}\n            />\n          )}\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Page4);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './pageStatus.css';\n\nimport { getInjectedProvider } from 'web3modal';\n\nfunction isMobile(): boolean {\n  let mobile = false;\n\n  function hasTouchEvent(): boolean {\n    try {\n      document.createEvent('TouchEvent');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function hasMobileUserAgent(): boolean {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n        navigator.userAgent\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n        navigator.userAgent.substr(0, 4)\n      )\n    ) {\n      return true;\n    } else if (hasTouchEvent()) {\n      return true;\n    }\n    return false;\n  }\n\n  mobile = hasMobileUserAgent();\n\n  return mobile;\n}\n\nfunction replaceLogo(key: string, value: string): string {\n  return key === 'logo' && value !== '' ? '[ImageData]' : value;\n}\n\nexport function PageStatus(props: unknown): JSX.Element {\n  return (\n    <div id=\"page-status\" className=\"wolves-container\">\n      <h2>InjectedProvider</h2>\n      <pre>{JSON.stringify(getInjectedProvider(), replaceLogo, 2)}</pre>\n      <h2>window.ethereum</h2>\n      <pre>{JSON.stringify(window.ethereum, null, 2)}</pre>\n      <h2>IsMobile</h2>\n      <pre>{isMobile() ? 'true' : 'false'}</pre>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport 'react-toastify/dist/ReactToastify.css';\nimport './wolftoast.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport {\n  toast,\n  ToastContainer,\n  ToastOptions,\n  UpdateOptions,\n} from 'react-toastify';\n\nimport logo from '../../assets/wolves-token_99.png';\nimport {\n  ADDRESS_COPIED,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport { ConnectResult, StatusResult, StoreClasses } from '../../stores/store';\n\nexport type ToastMessage = {\n  type: ['info' | 'success' | 'failure'];\n  message: string;\n  autoClose: number | false;\n};\n\ntype TOASTSTATE = {\n  show: boolean;\n};\n\ntype TOASTPROPS = {\n  t: TFunction;\n};\n\nclass WolfToast extends Component<TOASTPROPS, TOASTSTATE> {\n  t: TFunction;\n  txId: React.ReactText | undefined;\n  connectId: React.ReactText | undefined;\n\n  constructor(props: TOASTPROPS) {\n    super(props);\n    this.t = this.props.t;\n\n    this.onAddressCopied = this.onAddressCopied.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onTransaction = this.onTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(ADDRESS_COPIED, this.onAddressCopied);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.on(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, this.onTransaction);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(REVOKE_APPROVAL, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ADDRESS_COPIED, this.onAddressCopied);\n  }\n\n  onAddressCopied(): void {\n    toast(this._formatToast(undefined, this.t('toast.addressCopied')), {\n      autoClose: 2000,\n    });\n  }\n\n  onConnectionChanged(result: ConnectResult): void {\n    if (result.type !== 'event') {\n      const msg = this.t(\n        result.address === ''\n          ? 'toast.walletDisconnected'\n          : 'toast.walletConnected'\n      );\n      this.connectId = this._updateToast(this.connectId, {\n        render: this._formatToast(undefined, msg),\n        autoClose: 2000,\n      });\n    }\n  }\n\n  onTransaction(result: StatusResult) {\n    if (result.status === 'approve')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          undefined,\n          this.t('toast.transactionApproving')\n        ),\n        autoClose: false,\n      });\n    else if (result.status === 'tx')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(undefined, this.t('toast.transactionMined')),\n        autoClose: false,\n      });\n    else if (result.status === 'success')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'success',\n          this.t('toast.transactionFinished')\n        ),\n        autoClose: 3000,\n      });\n    else\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'failure',\n          result.errorMessage || this.t('toast.undefinedError')\n        ),\n        autoClose: 5000,\n      });\n  }\n\n  _updateToast(\n    key: React.ReactText | undefined,\n    options: UpdateOptions\n  ): React.ReactText | undefined {\n    if (key && toast.isActive(key)) {\n      toast.update(key, options);\n    } else {\n      key = toast(options.render, options as ToastOptions);\n    }\n    return key;\n  }\n\n  _formatToast(type: string | undefined, message: string): ReactNode {\n    const className = type ? 'wolflogo wolflogo--' + type : 'wolflogo';\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <img\n          alt=\"logo\"\n          src={logo}\n          className={className}\n          width=\"24px\"\n          height=\"24px\"\n        />\n        <span style={{ display: 'block', flexGrow: 1 }}>{message}</span>\n      </div>\n    );\n  }\n\n  render(): ReactNode {\n    return <ToastContainer position=\"bottom-left\" pauseOnFocusLoss={false} />;\n  }\n}\n\nexport default withTranslation()(WolfToast);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './App.css';\nimport './wolves_scheme.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './components/theme/button/wolve_button.css';\nimport './components/theme/form/input/wolve_input.css';\n\nimport React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport CFolioInvest from './components/CFolioInvest';\nimport CFolioItemSfts from './components/CFolioItemSfts';\nimport CFolioManager from './components/CFolioManager/CFolioManager';\nimport Footer from './components/footer';\nimport Header from './components/header';\nimport Page1 from './components/page1';\nimport Page3 from './components/page3';\nimport Page4 from './components/page4';\nimport { PageStatus } from './components/pageStatus';\nimport WolfToast from './components/toast/wolftoast';\nimport { CONNECTION_CHANGED } from './stores/constants';\nimport { ConnectResult, StoreClasses, StoreContainer } from './stores/store';\n\ntype APP_STATE = {\n  isSideChain: boolean;\n};\n\nclass App extends React.Component<unknown, APP_STATE> {\n  constructor(props: unknown) {\n    super(props);\n    this.state = { isSideChain: false };\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  setNetwork = (result: ConnectResult): void => {\n    if (result.type === 'prod' && result.address !== '') {\n      this.setState({ isSideChain: StoreClasses.store.isSidechain() });\n    }\n  };\n\n  render(): JSX.Element {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <StoreContainer>\n            <WolfToast />\n            <Route component={Header} />\n            <Switch>\n              <Route\n                path=\"/shop\"\n                render={(props) => <Page3 {...props} display={'shop'} />}\n              />\n              <Route\n                path=\"/my\"\n                render={(props) => <Page3 {...props} display={'my'} />}\n              />\n              <Route path=\"/detail\" component={Page4} />\n              <Route path=\"/status\" component={PageStatus} />\n              <Route path=\"/cfolio-sfts\" component={CFolioItemSfts} />\n              {this.state.isSideChain && (\n                <Route path=\"/cfolio-invest\" component={CFolioInvest} />\n              )}\n              {this.state.isSideChain && (\n                <Route path=\"/c_folio_manager\" component={CFolioManager} />\n              )}\n              <Route component={Page1} />\n            </Switch>\n            <Footer />\n          </StoreContainer>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport { ReportHandler } from 'web-vitals/src/types';\n\nconst reportWebVitals: (onPerfEntry: ReportHandler) => void = (\n  onPerfEntry: ReportHandler\n) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './i18n';\nimport './index.css';\nimport 'assets/fonts/wp_fonts.css';\nimport 'assets/fonts/font_variants.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}