{"version":3,"sources":["stores/polygon/MessageProof.tsx","i18n.ts","stores/store.tsx","assets/openwallet_low.png","stores/constants.tsx","assets/coinbase-wallet.svg","components/controls/image_slider.tsx","components/Approval/Approval.tsx","components/controls/asset_input.tsx","components/CFolioInvest/Stable/Stable.tsx","components/CFolioInvest/StakeLP/StakeLP.tsx","components/CFolioInvest/CFolioInvest.tsx","components/types/cards.ts","components/CFolioItemSfts/CFolioItemSfts.tsx","components/CFolioManager/CFolioManager.tsx","assets/icons_discord.svg","assets/icons_etherscan.svg","assets/icons_github.svg","assets/icons_TG.svg","assets/icons_Twitter.svg","components/social/social.tsx","components/footer/footer.tsx","assets/wolves_sft_logo.svg","components/header/header.tsx","assets/bois_shadow.png","assets/wolves_shadow.png","components/page1/page1.tsx","assets/wolves-token_99.png","components/page3/cardbox.tsx","components/page3/page3.tsx","utils/utils.tsx","components/page4/Transfer/Transfer.tsx","components/page4/page4.tsx","components/pageStatus/pageStatus.tsx","components/toast/wolftoast.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CPM_ABI","anonymous","inputs","indexed","internalType","name","type","constant","outputs","payable","stateMutability","MerkleTree","leaves","layers","length","Error","depth","Math","ceil","log","this","concat","Array","from","pow","zeros","createHashes","nodes","treeLevel","i","left","right","data","Buffer","push","keccak","MessageProof","ethereumProvider","chainId","cb","provider","checkPointManager","localStorageKey","pendingItems","newBlockFilter","changeHandler","_onNewHeaderBlock","result","_findHeaderBlockNumber","_setup","a","getLastChildBlock","lastChildBlock","toNumber","scanHeaderTo","pI","headerBlockId","txBlockNumber","scanHeaderFrom","rootBlock","on","ethers","providers","JsonRpcProvider","Contract","LSKMUMBAI","LSKMATIC","items","window","localStorage","getItem","JSON","parse","filters","NewHeaderBlock","tokenId","tokenIdHex","toHexString","filter","elem","setItem","stringify","account","item","pending","map","BigNumber","available","find","buildPayloadForExit","txHash","getTransactionReceipt","receipt","send","utils","hexValue","blockNumber","block","lt","headerBlocks","headerBlock","_buildBlockProof","start","end","blockProof","_getReceiptProof","receiptProof","logIndex","logs","findIndex","topics","toLowerCase","_encodePayload","parseInt","timestamp","transactionsRoot","slice","receiptsRoot","_getReceiptBytes","parentNodes","path","headerNumber","buildBlockProof","receiptParentNodes","bufferToHex","rlp","encode","scanStart","scanEnd","eventLogs","piIndex","changedAccounts","Set","fromBlock","toBlock","getLogs","parsed","interface","parseLog","args","add","off","size","_getFastMerkleProof","proof","p","toBuffer","merkleTreeDepth","log2","reversedProof","targetIndex","offset","leftBound","rightBound","newLeftBound","newRightBound","expectedHeight","subTreeHeight","heightDifference","remainingNodesHash","nLeaves","pivotLeaf","min","_queryRootHash","leafRoots_1","_recursiveZeroHash","subTreeMerkleRoot","getRoot","reverse","n","subHash","keccak256","defaultAbiCoder","stateSyncTxHash","_getStateSyncTxHash","receiptsTrie","BaseTrie","receiptPromises","transactions","tx","hash","Promise","all","receipts","siblingReceipt","transactionIndex","rawReceipt","put","findPath","node","remaining","blockHash","stack","s","raw","root","_getRawHeader","receiptTrie","value","decode","encodedData","undefined","status","cumulativeGasUsed","logsBloom","l","address","toString","fromUtf8","setLengthLeft","number","blockHeaderFromRpc","localStorageId","infuranetwork","process","pIs","getBlockNumber","transactionHash","resources","en","translation","zh","i18n","use","detector","initReactI18next","init","detection","order","supportedLngs","fallbackLng","interpolation","escapeValue","SFTS","ASSETS_STATE","REVOKE_APPROVAL","ADDRESS_COPIED","CONNECTION_CHANGED","SFT_BUY","SFT_CLAIM","SFT_CLAIM_BOOSTER","SFT_LOCK","SFT_PROOF","SFT_REWARD","SFT_TRANSFER","SFT_UNLOCK","SFT_UPGRADE","CFOLIO_ITEM_BUY","CFOLIO_ITEM_DEPOSIT","CFOLIO_ITEM_WITHDRAW","CFOLIO_ITEM_UNLOCK_TRANSFER","emitter","Emitter","EventEmitter","dispatcher","Dispatcher","BIGNUMBER_MAX","STABLE_CURRENCIES","readUint256","substr","AsyncLock","disable","promise","alert","resolve","Store","web3Modal","ethersProvider","eventProvider","ethersSigner","isWSEventProvider","tokenContract","cfihLpContract","cfihScContract","sftEvaluatorContract","boosterContract","sftHolderContractRO","sftMintContractRO","tradeFloorContractRO","lpContractRO","uniDaiWethPairContractRO","curveDepositContractRO","cfolioFarmLpAddress","cfolioFarmScAddress","bridgeTargetAddress","networkName","accountId","tokenContractAddress","nullAddress","lastAprTime","eventsSuspended","lock","dispatchQueue","polygonBridge","assets","balances","WOWS","decimals","dust","DUST_18","allowance","USDC","DUST_6","USDT","DAI","TUSD","yCrv","am3Crv","userSFT","cards","levelNames","myPackLevelDescriptions","cfolioItems","rewardInfo","total","rewardDuration","rewardPerDuration","priceWOWS","priceToken","apr","getAssets","handleBridgeChange","accounts","console","has","dispatch","content","connect","disconnect","endpoint","getEndpoint","web3Provider","subscribeProvider","Web3Provider","listAccounts","getAddress","getNetwork","network","_launchEventProvider","_setupContracts","_emitNetworkChange","getSigner","autoconnect","query","URLSearchParams","location","search","defaultChain","get","defaultAccountId","cachedProvider","clearCache","fireEvent","removeItem","removeAllListeners","clearCachedProvider","close","e","wsEventProvider","_websocket","onclose","onerror","destroy","isConnected","isEventConnected","_addDQ","payload","_resolveDQ","forEach","enable","startsWith","WebSocketProvider","InfuraProvider","getWebSocketProvider","_setupEventContracts","emit","_setupEvents","switchChain","chain","ethereum","newChain","request","method","params","code","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","symbol","_getSftState","payloadContent","levels","cardIds","level","card","chainRef","isSidechain","getBaseSpec","sftResult","index","price","fromWei","prices","quantity","maxMintable","minted","numMinted","cfolioTypes","getCFolioSpec","cfolioResult","message","_getUserSft","getTokenIds","bridgeToken","mergeList","t","newUserSFT","mask","lte","BASE_CARD_MAX","bn","cr","cardIndex","levelIndex","c","bridgeItem","eq","levelId","cardId","isBaseCard","isStockCard","STOCK_CARD_MAX","isWallet","BRIDGE_READY","BRIDGE_PENDING","b","LOCKED","UNLOCKED","rewardRate","rewardShare","rewardEarned","mintTimestamp","boosterRewards","sort","gt","unshift","getTokenInformation","result2","readIndex","destinationId","sft","numCFolios","childId","child","numAssets","bidx","getStableCurrencies","_getSftRewards","plc","contracts","sfts","getRewardInfo","cfiResult","ri","boosterLocked","boosterPending","boosterApr","secsLeft","boosterSecsLeft","_updatePoolAPR","_getAssetsBalances","input","Object","entries","getErc20Balances","_getAssetsAllowances","spender","handlerAddress","getErc20Allowances","mul","_doSftBuy","amount","id","sftAmount","toWei","balanceOf","walletAmount","cardData","sftMintContract","approve","_checkUnlimited","wait","mintWowsSFT","errorMessage","error","_doSftLock","sftHolderContract","safeTransferFrom","_doSftTransfer","insertItem","_doSftMessageProof","processPending","contract","RootTunnelAbi","receiveMessage","resetPending","_doSftUnlock","tradeFloorContract","burn","_doCFolioItemBuy","wowsAmount","investAmount","sftTokenId","cfolioType","weiAmount","investWeiAmounts","_investmentApproval","additionalGas","options","estimateGas","mintCFolioItemSFT","gasEstimation","gasLimit","_doCFolioItemDeposit","cfolioTokenId","cfihContract","deposit","_setCFolioAmount","msgType","cfiType","requireOneSet","cfiLevel","cf","cfc","approvalContracts","oneSet","oneStableSet","balance","approvalContract","ERC20Abi","investWeiAmount","sub","_doCFolioItemWithdraw","tokenIdToAddress","cfa","getAmounts","cfolioAmounts","withdrawWeiAmounts","withdrawWeiAmount","withdraw","_doCFolioItemUnlockAndTransfer","src","dst","lockedCFIs","transferCFIs","dstAddress","burnBatch","fill","srcAddress","safeBatchTransferFrom","_doSftClaim","mintContract","claimSFTRewards","time","_doSftClaimBooster","claimRewards","_doSftUpgrade","setRewardRate","_setRewardRate","_doRevokeApproval","currency","providerOptions","walletconnect","package","WalletConnectProvider","infuraId","display","logo","WalletLinkLogo","description","appName","networkUrl","WalletLink","connector","_","walletLink","makeWeb3Provider","providerInfo","getInjectedProvider","injected","getProviderDescription","Web3Modal","cacheProvider","register","_payload","includes","then","default","wss","chainAddresses","_getChainAddresses","wssEndpoint","rpcEndpoint","handleTransfer","operator","to","addresses","token","uniV2Pair","UniV2PairAbi","sftHolderProxy","SFTHolderAbi","sftMinterProxy","SFTMinterAbi","tradeFloorProxy","TradeFloorAbi","cfolioFarmLP","cfolioFarmSC","uniDaiWeth","curveADeposit","CurveDepositAbi","curveYDeposit","usdcToken","usdtToken","daiToken","tusdToken","curveYToken","curveAToken","cfolioItemHandlerLPProxy","cfolioItemHandlerSCProxy","signer","TokenAbi","CFolioItemHandlerAbi","sftEvaluatorProxy","SftEvaluatorAbi","boosterProxy","BoosterAbi","bridgeTarget","cfolio","iface","Interface","CFolioFarmAbi","stableCurrencies","isft","amounts","e18","getReserves","daiWethReserves","wethPrice","reserve0","reserve1","div","wowsWethReserves","wowsPrice","stakedPrice","totalSupply","wowsWethTotalSupply","poolPrice","calc_withdraw_one_coin","emmission","apy","toFixed","parseFloat","formatUnits","parseUnits","defaultReturn","keys","StoreClasses","store","StoreContainer","addEventListener","mount","unmount","props","children","React","Component","ImageSlider","sliderId","initCallback","onSlideChanged","slideWidth","slides","startSlideId","checkbox","toolTippLink","containerRef","useRef","useState","currentIndex","setCurrentIndex","checked","setChecked","displayIndex","setDisplayIndex","setLeft","width","setWidth","useTransition","enableTransition","go","prev","next","useEffect","setTimeout","current","clientWidth","resizeListener","removeEventListener","className","ref","style","indexOf","onClick","newChecked","select","cfi","disabled","locked","height","url","alt","withTranslation","hideCB","show","redraw","setRedraw","useReducer","state","action","key","approving","setApproving","checkMask","assetState","handleRevoke","Modal","onHide","animation","Header","closeButton","Title","Body","k","v","onChange","setCheck","target","defaultChecked","revoke","Footer","AssetInput","defaultValue","maxAmount","minAmount","hasFocus","setHasFocus","amountChanged","setAmountChanged","inputRef","verifyAndCb","useCallback","num","NaN","maxVisible","autoComplete","onFocus","onBlur","event","replace","hidden","cfolioItem","investCurrency","nftPrice","nftType","beforeBuy","tabOption","setTabOption","currencyIndex","setCurrencyIndex","checkedIndex","setCheckedIndex","inputVals","setInputVals","txRunning","setTXRunning","modal","showModal","currencies","curMaxAmount","resetTx","newValues","isNaN","vc","buttonText","join","renderSpan","caption","spanText","setCurrentValue","flexBasis","handleBuy","setInvestAmount","hasSft","setHasSft","inputVal","setInputVal","onAssetsState","rel","href","_getTokenContractAddress","CFolioInvest","receiverImages","sliderInterface","slideIndex","displayType","continueBuy","beforeBuyCallback","cfiRender","currentImage","modalOpen","setState","_onAssetsState","bind","sliderCB","val","history","newDisplayType","_updateImages","newTokenId","delete","tokenIds","newImages","allowedLevel","tokenIdIdx","_cfolioItemsForSlider","WalletLogo","_updateCFolioItems","handleImageChange","change","setCurrentImage","renderItem","renderCFolioItem","cfolioItemCard","scroll","controlAttr","shortDescription","sliderInit","motto","backdrop","INITIAL_CFOLIO_ITEMS","title","INITIAL_STATE","currentType","CFolioItemSfts","_updateContent","storeItems","cardRender","CFolioManager","cfolioItemCards","sliderInterfaces","sliderIndex","sliderImagesMiddleAll","txPending","sliderImagesTop","sliderImagesMiddle","sliderImagesBottom","checkedMiddle","onTransfer","setSliderIndex","_getSftImages","_createSliderImages","pred","pred2","topImages","bottomImages","constraints","cfiCard","cat","category","_filterSliderImagesMiddle","onlyIfChanged","pos","lockedCount","majority","buttonState","Social","twitter","etherscan","github","discord","telegram","privacyFile","privacyTerms","policyChanged","text","policy","loadTerms","dangerouslySetInnerHTML","__html","handleSubmit","onConnectionChanged","renderDropDown","preventDefault","substring","dropdownItems","pathname","isActiveNav","random","shortAddress","_shortAddress","navItems","_getNavItems","Navbar","bg","variant","expand","Toggle","Brand","as","Link","Image","Collapse","navItem","Form","onSubmit","section","WolvesLogo","BoisLogo","CardBox","cardType","prowess","investment","earned","progressRefs","progressRef","splice","disableRemotePlayback","autoPlay","loop","poster","playsInline","topOffset","sftc","top","renderCFolioItems","padStart","INITIAL_PAGE3_STATE","contentLoaded","contentChanged","isWalletConnected","Page3","levelDescription","walletTokenIds","levelFilter","nextLevel","prevLevel","scrollOnUpdate","mainRef","createRef","progessStart","Date","progressInterval","_updateRewards","_checkContent","scrollIntoView","clearInterval","newType","newLevelId","idx","header","hasCFolioItems","setInterval","_ticker","defaultLevelId","set","levelLength","perc","getTime","levelPosition","hasMoreLevels","Logo","remainingFromSecs","secondsLeft","secInHour","secInMinute","days","floor","hours","minutes","seconds","tOption","setTOption","setBridgeTarget","customAddress","setCustomAddress","getBridgeTarget","transferState","transferFunc","d","addressvalid","marginTop","paddingLeft","INITIAL_PAGE4_STATE","renderList","selectedCFolio","transferOpen","boosterExistingValue","boosterNewValue","boosterRelock","Page4","needUpdate","imageContainerRef","cfolios","onSFTTransaction","scrollTo","append","_getCurrentIndex","fixIndex","newRenderList","curTokenId","curCardId","index1","index2","_fixUrl","onProgressIteration","cardLevel","currentTarget","getAttribute","prevUrl","nextUrl","currentRender","currentLevel","currentCard","noQuantity","sftStatus","prevIndex","nextIndex","autoUpgrade","profitReward","autoUpgradeText","share","backUrl","assetIndex","now","upgradeReward","rewardIndex","aprToApy","boosterFarmButtonText","boosterButtonText","boosterPeriod","claimableAmount","claimText","imgClass","boosterState","boosterFuncN","boosterFuncR","boosterFuncE","boosterTotal","lockRewards","transferButtonText","clientHeight","sftChild","toggleImage","zIndex","transition","visibility","toUpperCase","period","_onUpgrade","onAnimationIteration","marginLeft","marginRight","_onBuy","_onClaim","_onClaimBooster","isMobile","test","navigator","userAgent","document","createEvent","hasTouchEvent","replaceLogo","PageStatus","WolfToast","txId","connectId","onAddressCopied","onTransaction","toast","_formatToast","autoClose","msg","_updateToast","render","isActive","update","alignItems","flexGrow","position","pauseOnFocusLoss","App","setNetwork","isSideChain","component","Page1","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.35c7799a.chunk.js","sourcesContent":["/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n//import { Buffer } from 'safe-buffer';\nimport { BlockHeader } from '@ethereumjs/block/dist/header';\nimport blockHeaderFromRpc from '@ethereumjs/block/dist/header-from-rpc';\nimport {\n  bufferToHex,\n  fromUtf8,\n  keccak,\n  keccak256,\n  rlp,\n  setLengthLeft,\n  toBuffer,\n  zeros,\n} from 'ethereumjs-util';\nimport { ethers } from 'ethers';\nimport { BaseTrie } from 'merkle-patricia-tree';\n\nconst CPM_ABI = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'proposer',\n        type: 'address',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'headerBlockId',\n        type: 'uint256',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'reward',\n        type: 'uint256',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'start',\n        type: 'uint256',\n      },\n      { indexed: false, internalType: 'uint256', name: 'end', type: 'uint256' },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'root',\n        type: 'bytes32',\n      },\n    ],\n    name: 'NewHeaderBlock',\n    type: 'event',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'currentHeaderBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'getLastChildBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    name: 'headerBlocks',\n    outputs: [\n      { internalType: 'bytes32', name: 'root', type: 'bytes32' },\n      { internalType: 'uint256', name: 'start', type: 'uint256' },\n      { internalType: 'uint256', name: 'end', type: 'uint256' },\n      { internalType: 'uint256', name: 'createdAt', type: 'uint256' },\n      { internalType: 'address', name: 'proposer', type: 'address' },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n];\n\nconst SEND_MESSAGE_SIG =\n  '0x8c5261668696ce22758910d05bab8f186d6eb247ceac2af2e82c7dc17669b036';\n\ntype HeaderBlock = {\n  root: string;\n  start: ethers.BigNumber;\n  end: ethers.BigNumber;\n  createdAt: ethers.BigNumber;\n  proposer: string;\n};\n\ntype RawBlock = {\n  hash: string;\n  number: string;\n  timestamp: string;\n  transactionsRoot: string;\n  receiptsRoot: string;\n  transactions: [{ hash: string }];\n};\n\ntype PendingItem = {\n  rootBlock: number; // The blocknumber on the root chain at create tie\n  headerBlockId: number; // The header blockId (checkpointed)\n  tokenId: string;\n  txHash: string; // Child chain TX hash\n  txBlockNumber: number; // Child chain block number\n  account: string;\n  pending: boolean;\n};\n\ntype CB_FUNC = (accounts: Set<string>) => void;\n\nclass MerkleTree {\n  leaves: Buffer[];\n  layers: Buffer[][];\n\n  constructor(leaves: Buffer[]) {\n    if (leaves === void 0) {\n      leaves = [];\n    }\n    if (leaves.length < 1) {\n      throw new Error('Atleast 1 leaf needed');\n    }\n    const depth = Math.ceil(Math.log(leaves.length) / Math.log(2));\n    if (depth > 20) {\n      throw new Error('Depth must be 20 or less');\n    }\n    this.leaves = leaves.concat(\n      Array.from(Array(Math.pow(2, depth) - leaves.length), function () {\n        return zeros(32);\n      })\n    );\n    this.layers = [this.leaves];\n    this.createHashes(this.leaves);\n  }\n\n  createHashes(nodes: Buffer[]) {\n    if (nodes.length === 1) {\n      return false;\n    }\n    const treeLevel = [];\n    for (let i = 0; i < nodes.length; i += 2) {\n      const left = nodes[i];\n      const right = nodes[i + 1];\n      const data = Buffer.concat([left, right]);\n      treeLevel.push(keccak(data));\n    }\n    // is odd number of nodes\n    if (nodes.length % 2 === 1) {\n      treeLevel.push(nodes[nodes.length - 1]);\n    }\n    this.layers.push(treeLevel);\n    this.createHashes(treeLevel);\n  }\n\n  getRoot(): Buffer {\n    return this.layers[this.layers.length - 1][0];\n  }\n}\n\nexport class MessageProof {\n  provider: ethers.providers.JsonRpcProvider;\n  checkPointManager: ethers.Contract;\n  localStorageKey: string;\n  pendingItems: PendingItem[] = [];\n  newBlockFilter: ethers.EventFilter;\n  changeHandler?: CB_FUNC;\n\n  static LSKMUMBAI = 'mumbai_goerli_bridge';\n  static LSKMATIC = 'matic_mainnet_bridge';\n\n  constructor(\n    ethereumProvider: ethers.providers.Provider,\n    chainId: number,\n    cb: CB_FUNC\n  ) {\n    if (chainId === 5) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://matic-mumbai.chainstacklabs.com/'\n      );\n      this.checkPointManager = new ethers.Contract(\n        '0x2890bA17EfE978480615e330ecB65333b880928e',\n        CPM_ABI,\n        ethereumProvider\n      );\n      this.localStorageKey = MessageProof.LSKMUMBAI;\n    } else if (chainId === 1) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://polygon-rpc.com/'\n      );\n      this.checkPointManager = new ethers.Contract(\n        '0x86e4dc95c7fbdbf52e33d563bbdb00823894c287',\n        CPM_ABI,\n        ethereumProvider\n      );\n      this.localStorageKey = MessageProof.LSKMATIC;\n    } else {\n      this.localStorageKey = '';\n      throw new Error('Unsupported chainId');\n    }\n\n    const items = window.localStorage.getItem(this.localStorageKey);\n    this.pendingItems = [];\n    if (items) this.pendingItems = JSON.parse(items);\n\n    this.newBlockFilter = this.checkPointManager.filters.NewHeaderBlock();\n\n    this._setup(cb);\n  }\n\n  static async insertItem(\n    account: string,\n    chainId: number,\n    tokenId: ethers.BigNumber,\n    receipt: ethers.providers.TransactionReceipt\n  ): Promise<void> {\n    const localStorageId =\n      chainId === 80001\n        ? MessageProof.LSKMUMBAI\n        : chainId === 137\n        ? MessageProof.LSKMATIC\n        : '';\n    if (localStorageId) {\n      const infuranetwork = chainId === 80001 ? 'goerli' : 'mainnet';\n      const provider = new ethers.providers.JsonRpcProvider(\n        `https://${infuranetwork}.infura.io/v3/${process.env.REACT_APP_INFURA_ID}`\n      );\n      const items = window.localStorage.getItem(localStorageId);\n      const pIs: PendingItem[] = items ? JSON.parse(items) : [];\n      pIs.push({\n        rootBlock: await provider.getBlockNumber(),\n        headerBlockId: 0,\n        tokenId: tokenId.toHexString(),\n        txHash: receipt.transactionHash,\n        txBlockNumber: receipt.blockNumber,\n        account,\n        pending: false,\n      });\n      window.localStorage.setItem(localStorageId, JSON.stringify(pIs));\n    }\n  }\n\n  removeItem(tokenId: ethers.BigNumber): void {\n    if (this.localStorageKey) {\n      const tokenIdHex = tokenId.toHexString();\n      this.pendingItems = this.pendingItems.filter(\n        (elem) => elem.tokenId !== tokenIdHex\n      );\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.pendingItems)\n      );\n    }\n  }\n\n  getTokenIds(\n    account: string\n  ): { tokenId: ethers.BigNumber; available: boolean }[] {\n    return this.pendingItems\n      .filter(\n        (item) => !item.pending && (!item.account || item.account === account)\n      )\n      .map((item) => {\n        return {\n          tokenId: ethers.BigNumber.from(item.tokenId),\n          available: item.headerBlockId > 0,\n        };\n      });\n  }\n\n  _onNewHeaderBlock = (result: ethers.providers.Log): void => {\n    this._findHeaderBlockNumber(0, 0, [result]);\n  };\n\n  _setup = async (cb: CB_FUNC): Promise<void> => {\n    if (this.pendingItems.length > 0) {\n      // Get the last ChildBlock in checkPointManager\n      const lastChildBlock = (\n        (await this.checkPointManager.getLastChildBlock()) as ethers.BigNumber\n      ).toNumber();\n\n      // Run throu pendingItems and look which are ready\n      let scanHeaderFrom,\n        scanHeaderTo = 0;\n      for (const pI of this.pendingItems) {\n        if (!pI.headerBlockId) {\n          if (pI.txBlockNumber <= lastChildBlock) {\n            if (!scanHeaderFrom) scanHeaderFrom = pI.rootBlock;\n            scanHeaderTo = pI.rootBlock;\n          }\n        }\n      }\n      if (scanHeaderFrom) {\n        await this._findHeaderBlockNumber(scanHeaderFrom, scanHeaderTo);\n      }\n      if (\n        this.pendingItems[this.pendingItems.length - 1].txBlockNumber >\n        lastChildBlock\n      ) {\n        this.checkPointManager.provider.on(\n          this.newBlockFilter,\n          this._onNewHeaderBlock\n        );\n      }\n    }\n    this.changeHandler = cb;\n  };\n\n  processPending(tokenId: ethers.BigNumber): Promise<string> {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.pendingItems.find((item) => item.tokenId === tokenIdHex);\n    if (!item || !item.headerBlockId) throw new Error('TokenId invalid');\n    item.pending = true;\n\n    return this.buildPayloadForExit(item.headerBlockId, item.txHash);\n  }\n\n  resetPending(tokenId: ethers.BigNumber): void {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.pendingItems.find((item) => item.tokenId === tokenIdHex);\n    if (item) item.pending = false;\n  }\n\n  async buildPayloadForExit(\n    headerBlockId: number,\n    txHash: string\n  ): Promise<string> {\n    if (!this.checkPointManager || !this.provider) return '';\n\n    // Get the last ChildBlock in checkPointManager\n    const lastChildBlock: ethers.BigNumber =\n      await this.checkPointManager.getLastChildBlock();\n\n    const receipt = await this.provider.getTransactionReceipt(txHash);\n    const block = (await this.provider.send('eth_getBlockByNumber', [\n      ethers.utils.hexValue(receipt.blockNumber),\n      true,\n    ])) as RawBlock;\n\n    if (lastChildBlock.lt(receipt.blockNumber))\n      throw new Error('Not yet checkpointed');\n\n    const headerBlock: HeaderBlock = await this.checkPointManager.headerBlocks(\n      headerBlockId\n    );\n\n    const blockProof = await this._buildBlockProof(\n      headerBlock.start.toNumber(),\n      headerBlock.end.toNumber(),\n      receipt.blockNumber\n    );\n\n    const receiptProof = await this._getReceiptProof(receipt, block);\n\n    const logIndex = receipt.logs.findIndex(function (log) {\n      return log.topics[0].toLowerCase() === SEND_MESSAGE_SIG;\n    });\n\n    return this._encodePayload(\n      headerBlockId,\n      blockProof,\n      receipt.blockNumber,\n      parseInt(block.timestamp),\n      Buffer.from(block.transactionsRoot.slice(2), 'hex'),\n      Buffer.from(block.receiptsRoot.slice(2), 'hex'),\n      this._getReceiptBytes(receipt),\n      receiptProof.parentNodes as Buffer[][],\n      receiptProof.path as Buffer,\n      logIndex\n    );\n  }\n\n  _encodePayload(\n    headerNumber: number,\n    buildBlockProof: string,\n    blockNumber: number,\n    timestamp: number,\n    transactionsRoot: Buffer,\n    receiptsRoot: Buffer,\n    receipt: Buffer,\n    receiptParentNodes: Array<Buffer[]>,\n    path: Buffer,\n    logIndex: number\n  ): string {\n    return bufferToHex(\n      rlp.encode([\n        headerNumber,\n        buildBlockProof,\n        blockNumber,\n        timestamp,\n        bufferToHex(transactionsRoot),\n        bufferToHex(receiptsRoot),\n        bufferToHex(receipt),\n        bufferToHex(rlp.encode(receiptParentNodes)),\n        bufferToHex(Buffer.concat([Buffer.from('00', 'hex'), path])),\n        logIndex,\n      ])\n    );\n  }\n\n  async _findHeaderBlockNumber(\n    scanStart: number,\n    scanEnd: number,\n    eventLogs?: ethers.providers.Log[]\n  ): Promise<void> {\n    let piIndex = 0;\n    const changedAccounts: Set<string> = new Set();\n    let logs = eventLogs;\n    if (!logs) {\n      if (!scanStart) {\n        // TODO: Find start eth block by timestamp\n        throw new Error('Historical scan not yet mplemented');\n      }\n      const filter = {\n        ...this.checkPointManager.filters.NewHeaderBlock(),\n        fromBlock: scanStart,\n        toBlock: scanEnd + 1000,\n      };\n      logs = await this.checkPointManager.provider.getLogs(filter);\n    }\n\n    for (const log of logs) {\n      const parsed = this.checkPointManager.interface.parseLog(log);\n      while (\n        piIndex < this.pendingItems.length &&\n        this.pendingItems[piIndex].txBlockNumber <= parsed.args.end\n      ) {\n        if (\n          !this.pendingItems[piIndex].headerBlockId &&\n          this.pendingItems[piIndex].txBlockNumber >= parsed.args.start\n        ) {\n          this.pendingItems[piIndex].headerBlockId =\n            parsed.args.headerBlockId.toNumber();\n          changedAccounts.add(this.pendingItems[piIndex].account);\n        }\n        ++piIndex;\n      }\n      if (piIndex >= this.pendingItems.length) break;\n    }\n    if (piIndex >= this.pendingItems.length) {\n      this.checkPointManager.provider.off(\n        this.newBlockFilter,\n        this._onNewHeaderBlock\n      );\n    }\n    if (changedAccounts.size > 0) {\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.pendingItems)\n      );\n      if (this.changeHandler) this.changeHandler(changedAccounts);\n    }\n  }\n\n  async _buildBlockProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<string> {\n    const proof = await this._getFastMerkleProof(start, end, blockNumber);\n\n    return bufferToHex(\n      Buffer.concat(\n        proof.map(function (p) {\n          return toBuffer(p);\n        })\n      )\n    );\n  }\n\n  async _getFastMerkleProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<(string | Buffer)[]> {\n    const merkleTreeDepth = Math.ceil(Math.log2(end - start + 1));\n    const reversedProof = [];\n    const offset = start;\n    const targetIndex = blockNumber - offset;\n    let leftBound = 0;\n    let rightBound = end - offset;\n    let depth = 0;\n\n    while (depth < merkleTreeDepth) {\n      let newLeftBound: number,\n        newRightBound: number,\n        expectedHeight: number,\n        subTreeHeight: number,\n        heightDifference: number,\n        remainingNodesHash: Buffer;\n\n      const nLeaves = Math.pow(2, merkleTreeDepth - depth);\n      const pivotLeaf = leftBound + nLeaves / 2 - 1;\n      if (!(targetIndex > pivotLeaf)) {\n        newRightBound = Math.min(rightBound, pivotLeaf);\n        expectedHeight = merkleTreeDepth - (depth + 1);\n        if (!(rightBound <= pivotLeaf)) {\n          subTreeHeight = Math.ceil(Math.log2(rightBound - pivotLeaf));\n          heightDifference = expectedHeight - subTreeHeight;\n          remainingNodesHash = await this._queryRootHash(\n            offset + pivotLeaf + 1,\n            offset + rightBound\n          );\n          // The remaining leaves will hold the merkle root of a zero-filled tree of height subTreeHeight\n          const leafRoots_1 = this._recursiveZeroHash(subTreeHeight);\n          const leaves = Array.from(\n            { length: Math.pow(2, heightDifference) },\n            function () {\n              return toBuffer(leafRoots_1);\n            }\n          );\n          leaves[0] = remainingNodesHash;\n          const subTreeMerkleRoot = new MerkleTree(leaves).getRoot();\n          reversedProof.push(subTreeMerkleRoot);\n        } else {\n          const subTreeMerkleRoot = this._recursiveZeroHash(expectedHeight);\n          reversedProof.push(subTreeMerkleRoot);\n        }\n        rightBound = newRightBound;\n      } else {\n        newLeftBound = pivotLeaf + 1;\n        const subTreeMerkleRoot = await this._queryRootHash(\n          offset + leftBound,\n          offset + pivotLeaf\n        );\n        reversedProof.push(subTreeMerkleRoot);\n        leftBound = newLeftBound;\n      }\n      depth += 1;\n    }\n    return reversedProof.reverse();\n  }\n\n  async _queryRootHash(start: number, end: number): Promise<Buffer> {\n    return toBuffer(\n      '0x' + (await this.provider.send('eth_getRootHash', [start, end]))\n    );\n  }\n\n  _recursiveZeroHash(n: number): string | Buffer {\n    if (n === 0)\n      return '0x0000000000000000000000000000000000000000000000000000000000000000';\n    const subHash = this._recursiveZeroHash(n - 1);\n    return keccak256(\n      toBuffer(\n        ethers.utils.defaultAbiCoder.encode(\n          ['bytes32', 'bytes32'],\n          [subHash, subHash]\n        )\n      )\n    );\n  }\n\n  async _getReceiptProof(\n    receipt: ethers.providers.TransactionReceipt,\n    block: RawBlock\n  ): Promise<Record<string, unknown>> {\n    const stateSyncTxHash = bufferToHex(this._getStateSyncTxHash(block));\n    const receiptsTrie = new BaseTrie();\n    const receiptPromises: Promise<ethers.providers.TransactionReceipt>[] = [];\n\n    for (const tx of block.transactions) {\n      if (tx.hash !== stateSyncTxHash) {\n        receiptPromises.push(this.provider.getTransactionReceipt(tx.hash));\n      }\n    }\n    const receipts = await Promise.all(receiptPromises);\n\n    for (const siblingReceipt of receipts) {\n      const path = rlp.encode(siblingReceipt.transactionIndex);\n      const rawReceipt = this._getReceiptBytes(siblingReceipt);\n\n      await receiptsTrie.put(path, rawReceipt);\n    }\n\n    const path = await receiptsTrie.findPath(\n      rlp.encode(receipt.transactionIndex)\n    );\n    if (!path.node || path.remaining.length > 0)\n      throw new Error('findpath failed');\n    return {\n      blockHash: toBuffer(receipt.blockHash),\n      parentNodes: path.stack.map(function (s) {\n        return s.raw();\n      }),\n      root: this._getRawHeader(block).receiptTrie as Buffer,\n      path: rlp.encode(receipt.transactionIndex),\n      value: rlp.decode(path.node.value),\n    };\n  }\n\n  _getReceiptBytes(receipt: ethers.providers.TransactionReceipt): Buffer {\n    let encodedData = rlp.encode([\n      toBuffer(\n        receipt.status !== undefined && receipt.status != null\n          ? receipt.status\n            ? '0x1'\n            : '0x'\n          : receipt.root\n      ),\n      toBuffer(receipt.cumulativeGasUsed.toNumber()),\n      toBuffer(receipt.logsBloom),\n      // encoded log array\n      receipt.logs.map(function (l) {\n        // [address, [topics array], data]\n        return [toBuffer(l.address), l.topics.map(toBuffer), toBuffer(l.data)];\n      }),\n    ]);\n    if (receipt.status !== undefined && receipt.type !== 0) {\n      encodedData = Buffer.concat([\n        toBuffer('0x' + receipt.type.toString(16)),\n        encodedData,\n      ]);\n    }\n    return encodedData;\n  }\n\n  _getStateSyncTxHash(block: RawBlock): Buffer {\n    return keccak256(\n      Buffer.concat([\n        toBuffer(fromUtf8('matic-bor-receipt-')),\n        setLengthLeft(toBuffer(block.number), 8),\n        toBuffer(block.hash),\n      ])\n    );\n  }\n\n  _getRawHeader(block: RawBlock): BlockHeader {\n    return blockHeaderFromRpc(block);\n  }\n}\n","import i18n from 'i18next';\nimport detector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nimport translationEN from './locales/en_US/translation.json';\nimport translationZH from './locales/zh_CN/translation.json';\n\n// the translations\nconst resources = {\n  en: {\n    translation: translationEN,\n  },\n  zh: {\n    translation: translationZH,\n  },\n};\n\nconst options = {\n  order: ['path', 'navigator'],\n};\n\ni18n\n  .use(detector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    detection: options,\n    supportedLngs: ['en', 'zh'],\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // react already safes from xss\n    },\n  });\n\nexport default i18n;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport ERC20Abi from 'abi/contracts/0xerc1155/interfaces/IERC20.sol/IERC20.json';\nimport CurveDepositAbi from 'abi/contracts/interfaces/curve/CurveDepositInterface3.sol/ICurveFiDeposit3.json';\nimport UniV2PairAbi from 'abi/contracts/interfaces/uniswap/IUniswapV2Pair.sol/IUniswapV2Pair.json';\nimport BoosterAbi from 'abi/contracts/src/booster/Booster.sol/Booster.json';\nimport CFolioItemHandlerAbi from 'abi/contracts/src/cfolio/interfaces/ICFolioItemHandler.sol/ICFolioItemHandler.json';\nimport SftEvaluatorAbi from 'abi/contracts/src/cfolio/SFTEvaluator.sol/SFTEvaluator.json';\nimport SFTMinterAbi from 'abi/contracts/src/crowdsale/WOWSSftMinter.sol/WOWSSftMinter.json';\nimport CFolioFarmAbi from 'abi/contracts/src/investment/CFolioFarm.sol/CFolioFarm.json';\nimport RootTunnelAbi from 'abi/contracts/src/polygon/WOWSERC1155RootTunnel.sol/WOWSERC1155RootTunnel.json';\nimport TradeFloorAbi from 'abi/contracts/src/token/TradeFloor.sol/TradeFloor.json';\nimport TokenAbi from 'abi/contracts/src/token/WOWSErc20.sol/WowsToken.json';\nimport SFTHolderAbi from 'abi/contracts/src/token/WOWSERC1155.sol/WOWSERC1155.json';\nimport { ethers } from 'ethers';\nimport Emitter from 'events';\nimport Dispatcher from 'flux';\nimport React from 'react';\nimport { WalletLink } from 'walletlink';\nimport Web3Modal, {\n  getInjectedProvider,\n  getProviderDescription,\n  IProviderOptions,\n} from 'web3modal';\n\nimport WalletLinkLogo from '../assets/coinbase-wallet.svg';\nimport { CARD_LEVEL, CARDS, CFOLIO_ITEMS } from '../components/types/cards';\nimport { addresses } from '../config/addresses';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from './constants';\nimport { MessageProof } from './polygon';\n\nconst emitter = new Emitter.EventEmitter();\nconst dispatcher = new Dispatcher.Dispatcher();\n\ntype PayloadContent = {\n  amount?: number;\n  investment?: number;\n  time?: number;\n  id?: ethers.BigNumber;\n  type?: number;\n  filter?: Array<string>;\n  address?: string;\n};\n\ntype PayloadContentCFolioItem = {\n  wowsAmount: number;\n  investAmount: number[];\n  sftTokenId: ethers.BigNumber;\n  cfolioTokenId?: ethers.BigNumber;\n  cfolioType: number;\n};\n\nexport type PayloadContentCFolioItemLT = {\n  src: ethers.BigNumber;\n  dst: ethers.BigNumber;\n  lockedCFIs: ethers.BigNumber[];\n  transferCFIs: ethers.BigNumber[];\n};\n\nexport type Payload = {\n  type: string;\n  content: PayloadContent;\n};\n\ninterface ChainAddresses {\n  rpcEndpoint?: string;\n  wssEndpoint?: string;\n  token: string;\n  uniV2Pair: string;\n  stakeFarm?: string;\n  sftMinterProxy: string;\n  sftHolderProxy: string;\n  boosterProxy: string;\n  tradeFloorProxy: string;\n  sftEvaluatorProxy: string;\n  cfolioFarmLP?: string;\n  cfolioItemHandlerLPProxy?: string;\n  cfolioFarmSC?: string;\n  cfiBridgeProxy?: string;\n  cfolioItemHandlerSCProxy?: string;\n  bridgeTarget: string;\n  uniDaiWeth: string;\n  daiToken?: string;\n  tusdToken?: string;\n  usdcToken?: string;\n  usdtToken?: string;\n  curveADeposit?: string;\n  curveAToken?: string;\n  curveYDeposit?: string;\n  curveYToken?: string;\n}\n\ninterface IIndexable {\n  [key: number]: ChainAddresses;\n}\n\nexport type AssetStateresult = {\n  status:\n    | 'error'\n    | 'loaded'\n    | 'cards'\n    | 'tokens'\n    | 'cfolio_amount'\n    | 'rewards'\n    | 'balances'\n    | 'allowance';\n};\n\nexport type TokenContractResult = {\n  error: string | undefined;\n  tokenAmount: number | undefined;\n};\n\nexport type ConnectResult = {\n  type: 'event' | 'prod';\n  address: string;\n  networkName: string;\n};\n\nexport type StatusResult = {\n  status: 'error' | 'tx' | 'success' | 'approve';\n  type: string;\n  errorMessage: string | undefined;\n  tx: string | undefined;\n};\n\nexport type StakeResult = {\n  error: string | undefined;\n  state: {\n    poolSupply: number; // amount tokens in pool\n    reserve0: number; // amount pair::token0\n    reserve1: number; // amount pair::token1\n    priceReserve0: number; // price per token0\n    stakeSupply: number; // amount tokens staked\n    stakeSupplyUser: number; // amount tokens staked user\n    rewardsDuration: number; // duration in seconds reward is based on\n    rewardPerDuration: number; // reward per rewardsDuration time\n    earned: number; // amount of reward tokens earned\n  };\n};\n\nexport enum SFTS {\n  UNLOCKED,\n  LOCKED,\n  BRIDGE_PENDING,\n  BRIDGE_READY,\n}\n\nexport type SFTCHILD = {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  status: SFTS;\n  type: number;\n  assets: number[];\n};\n\nexport type BoosterRewards = {\n  total: number;\n  pending: number;\n  apr: number;\n  secsLeft?: number;\n};\n\nexport type SFT = {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  isBaseCard: boolean;\n  isStockCard: boolean;\n  isWallet: boolean;\n  status: SFTS;\n  rewardRate: number;\n  rewardShare: number;\n  rewardEarned: number;\n  mintTimestamp: number;\n  cfolioItems: SFTCHILD[];\n  boosterRewards: BoosterRewards;\n};\n\nexport const BIGNUMBER_MAX = ethers.BigNumber.from(\n  '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'\n);\n\nexport const STABLE_CURRENCIES = [\n  ['DAI', 'USDC', 'USDT', 'am3Crv'],\n  ['DAI', 'USDC', 'USDT', 'TUSD', 'yCrv'],\n  [],\n];\n\nconst SECONDS_PER_YEAR = 31536000;\n\nexport const REWARD_POOL_LP = 0;\nexport const REWARD_POOL_SC = 1;\n\ntype REWARD_INFO = {\n  total: ethers.BigNumber;\n  rewardDuration: number;\n  rewardPerDuration: ethers.BigNumber;\n  priceWOWS: number;\n  priceToken: number;\n  apr: number;\n};\n\nexport type ASSET_BALANCE = {\n  [key: string]: {\n    decimals: number;\n    dust: ethers.BigNumber;\n    value: number;\n    address?: string;\n    allowance: number;\n    handlerAddress?: string;\n  };\n};\n\ntype ASSETS = {\n  balances: ASSET_BALANCE;\n  userSFT: SFT[];\n  cards: CARDS;\n  cfolioItems: CFOLIO_ITEMS[];\n  rewardInfo: REWARD_INFO[];\n};\n\nconst readUint256 = (s: string, i: number) =>\n  ethers.BigNumber.from('0x' + s.substr(i * 64 + 2, 64));\n\nclass AsyncLock {\n  disable: () => void;\n  promise: Promise<void>;\n  constructor() {\n    this.disable = () => {\n      if (!this) alert('');\n    };\n    this.promise = Promise.resolve();\n  }\n  enable() {\n    this.promise = new Promise((resolve) => (this.disable = resolve));\n  }\n}\n\nclass Store {\n  web3Modal: Web3Modal;\n  /* Provider */\n  ethersProvider?: ethers.providers.JsonRpcProvider;\n  eventProvider?: ethers.providers.BaseProvider;\n  ethersSigner?: ethers.Signer;\n  isWSEventProvider = false;\n\n  /* Contracts */\n  tokenContract?: ethers.Contract;\n  cfihLpContract?: ethers.Contract;\n  cfihScContract?: ethers.Contract;\n  sftEvaluatorContract?: ethers.Contract;\n  boosterContract?: ethers.Contract;\n\n  sftHolderContractRO?: ethers.Contract;\n  sftMintContractRO?: ethers.Contract;\n  tradeFloorContractRO?: ethers.Contract;\n  lpContractRO?: ethers.Contract;\n  uniDaiWethPairContractRO?: ethers.Contract;\n  curveDepositContractRO?: ethers.Contract;\n\n  cfolioFarmLpAddress = '';\n  cfolioFarmScAddress = '';\n  bridgeTargetAddress = '';\n\n  static nullAddress = '0x0000000000000000000000000000000000000000';\n  static BASE_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFFFFFFFFFF');\n  static STOCK_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFF');\n  static DUST_6 = ethers.BigNumber.from(10);\n  static DUST_18 = ethers.BigNumber.from(1000000000000);\n\n  /* Misc */\n  networkName = 'mainnet';\n  accountId = 0;\n  chainId = 0;\n  address = '';\n  tokenContractAddress = Store.nullAddress;\n  lastAprTime = 0;\n  eventsSuspended = false;\n  lock = new AsyncLock();\n\n  dispatchQueue: Payload[] = [];\n\n  polygonBridge?: MessageProof;\n\n  assets = {\n    balances: {\n      WOWS: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      'WETH/WOWS LP': {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      USDC: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      USDT: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      DAI: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      TUSD: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      yCrv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      am3Crv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n    },\n    userSFT: [],\n    cards: { levelNames: [], cards: [], myPackLevelDescriptions: [] },\n    cfolioItems: [],\n    rewardInfo: Array.from({ length: 2 }, () => ({\n      total: ethers.BigNumber.from(0),\n      rewardDuration: 0,\n      rewardPerDuration: ethers.BigNumber.from(0),\n      priceWOWS: 0,\n      priceToken: 0,\n      apr: 0,\n    })),\n  } as ASSETS;\n\n  constructor() {\n    const providerOptions: IProviderOptions = {\n      walletconnect: {\n        package: WalletConnectProvider,\n        options: {\n          infuraId: process.env.REACT_APP_INFURA_ID,\n        },\n      },\n      'custom-walletlink': {\n        display: {\n          logo: WalletLinkLogo,\n          name: 'WalletLink',\n          description: 'Scan with WalletLink to connect',\n        },\n        options: {\n          appName: 'WolvesOfWallStreet', // Your app name\n          networkUrl: `https://mainnet.infura.io/v3/${process.env.REACT_APP_INFURA_ID}`,\n          chainId: this.chainId,\n        },\n        package: WalletLink,\n        connector: async (_, options) => {\n          const { appName, networkUrl, chainId } = options;\n          const walletLink = new WalletLink({\n            appName,\n          });\n          const provider = walletLink.makeWeb3Provider(networkUrl, chainId);\n          await provider.enable();\n          return provider;\n        },\n      },\n    };\n\n    const providerInfo = getInjectedProvider();\n    if (providerInfo) {\n      providerOptions.injected = {\n        display: {\n          logo: providerInfo.logo,\n          name: providerInfo.name,\n          description: getProviderDescription(providerInfo),\n        },\n        package: null,\n      };\n    }\n\n    this.web3Modal = new Web3Modal({\n      network: this.networkName,\n      cacheProvider: true,\n      providerOptions: providerOptions,\n    });\n\n    dispatcher.register((payload) => {\n      const _payload = payload as Payload;\n      switch (_payload.type) {\n        case CFOLIO_ITEM_BUY:\n          this._doCFolioItemBuy(_payload.content as PayloadContentCFolioItem);\n          break;\n        case CFOLIO_ITEM_DEPOSIT:\n          this._doCFolioItemDeposit(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_WITHDRAW:\n          this._doCFolioItemWithdraw(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_UNLOCK_TRANSFER:\n          this._doCFolioItemUnlockAndTransfer(\n            _payload.content as PayloadContentCFolioItemLT\n          );\n          break;\n        /** Staking */\n        case REVOKE_APPROVAL:\n          this._doRevokeApproval(_payload.content);\n          break;\n        /** SFT */\n        case SFT_BUY:\n          this._doSftBuy(_payload.content);\n          break;\n        case SFT_CLAIM:\n          this._doSftClaim(_payload.content);\n          break;\n        case SFT_CLAIM_BOOSTER:\n          this._doSftClaimBooster(_payload.content);\n          break;\n        case SFT_LOCK:\n          this._doSftLock(_payload.content);\n          break;\n        case SFT_REWARD:\n          this._getSftRewards(_payload.content);\n          break;\n        case SFT_PROOF:\n          this._doSftMessageProof(_payload.content);\n          break;\n        case SFT_TRANSFER:\n          this._doSftTransfer(_payload.content);\n          break;\n        case ASSETS_STATE:\n          if (_payload.content.filter?.includes('cards'))\n            this._getSftState(_payload.content);\n          if (_payload.content.filter?.includes('tokens'))\n            this._getUserSft(_payload.content).then(() =>\n              this._getSftRewards(_payload.content)\n            );\n          if (_payload.content.filter?.includes('balances'))\n            this._getAssetsBalances(_payload.content);\n          if (_payload.content.filter?.includes('allowance'))\n            this._getAssetsAllowances(_payload.content);\n          break;\n        case SFT_UNLOCK:\n          this._doSftUnlock(_payload.content);\n          break;\n        case SFT_UPGRADE:\n          this._doSftUpgrade(_payload.content);\n          break;\n        default: {\n          return;\n        }\n      }\n    });\n\n    /** Load assets **/\n    import('locales/en_US/cards.json').then((content) => {\n      this.assets.cards.levelNames = content.default.levelNames;\n      this.assets.cards.cards = content.default.levels as CARD_LEVEL[];\n      // Load CFolioItems\n      import('locales/en_US/cFolioItems.json').then((content) => {\n        this.assets.cfolioItems = content.default as CFOLIO_ITEMS[];\n        emitter.emit(ASSETS_STATE, { status: 'loaded' } as AssetStateresult);\n        dispatcher.dispatch({\n          type: ASSETS_STATE,\n          content: { filter: ['cards', 'tokens'] },\n        } as Payload);\n      });\n    });\n  }\n\n  mount() {\n    if (window.ethereum) {\n      this.chainId = parseInt(window.ethereum.chainId);\n      switch (this.chainId) {\n        case 4:\n          this.networkName = 'rinkeby';\n          break;\n        case 5:\n          this.networkName = 'goerli';\n          break;\n        case 137:\n          this.networkName = 'matic';\n          break;\n        case 80001:\n          this.networkName = 'maticmum';\n          break;\n        default: {\n          this.networkName = ' mainnet';\n          this.chainId = 1;\n        }\n      }\n      console.log(\n        'Mount with chainId: ',\n        this.chainId,\n        ' and Network: ',\n        this.networkName\n      );\n    }\n    this.autoconnect();\n  }\n\n  unmount() {\n    this.close();\n  }\n\n  getAssets = () => {\n    return this.assets;\n  };\n\n  handleBridgeChange = (accounts: Set<string>) => {\n    console.log('Brige:', accounts);\n    if (accounts.has(this.address)) {\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['tokens'] },\n      } as Payload);\n    }\n  };\n\n  /*********************** NETWORK ******************/\n\n  getEndpoint(wss: boolean): string | undefined {\n    const chainAddresses = this._getChainAddresses();\n    return wss ? chainAddresses?.wssEndpoint : chainAddresses?.rpcEndpoint;\n  }\n\n  isSidechain(): boolean {\n    return this.networkName.startsWith('matic');\n  }\n\n  getBridgeTarget(): { name: string; address: string } {\n    return this.networkName.startsWith('matic')\n      ? { name: 'ETHEREUM', address: this.bridgeTargetAddress }\n      : { name: 'POLYGON', address: this.bridgeTargetAddress };\n  }\n\n  connect = async () => {\n    try {\n      if (this.ethersProvider) {\n        await this.disconnect(false, false);\n      }\n\n      let ethersProvider: ethers.providers.JsonRpcProvider;\n      const endpoint = this.getEndpoint(false);\n      if (endpoint) {\n        ethersProvider = new ethers.providers.JsonRpcProvider(endpoint);\n      } else {\n        const web3Provider = await this.web3Modal.connect();\n        await this.subscribeProvider(web3Provider);\n\n        ethersProvider = new ethers.providers.Web3Provider(web3Provider);\n      }\n      const accounts = await ethersProvider.listAccounts();\n      this.address = ethers.utils.getAddress(accounts[this.accountId]);\n      const network = await ethersProvider.getNetwork();\n      this.chainId = network.chainId;\n      this.networkName = network.name;\n      await this._launchEventProvider();\n      if (await this._setupContracts(ethersProvider)) this._emitNetworkChange();\n      this.ethersProvider = ethersProvider;\n      this.ethersSigner = ethersProvider.getSigner(this.accountId);\n\n      // Enable MessageProof for bidging back from Polygon\n      if (this.chainId === 1 || this.chainId === 5)\n        this.polygonBridge = new MessageProof(\n          this.eventProvider ?? ethersProvider,\n          this.chainId,\n          this.handleBridgeChange\n        );\n    } catch (e) {\n      console.log(e);\n      await this.disconnect(true, true);\n    }\n  };\n\n  autoconnect = async () => {\n    if (this.address) alert('Conneted');\n    const query = new URLSearchParams(window.location.search);\n    const defaultChain = query.get('chainId');\n    const defaultAccountId = query.get('accountId');\n\n    if (defaultChain) this.chainId = parseInt(defaultChain);\n    if (defaultAccountId) this.accountId = parseInt(defaultAccountId);\n\n    if (this.web3Modal.cachedProvider) {\n      await this.connect();\n    } else await this._launchEventProvider();\n  };\n\n  subscribeProvider = async (provider: ethers.providers.Provider) => {\n    if (!provider.on) {\n      return;\n    }\n\n    provider.on('disconnect', () => {\n      this.disconnect(false, true);\n    });\n\n    provider.on('accountsChanged', async (accounts: string[]) => {\n      if (this.address !== '' && accounts[0] !== this.address) {\n        this.address = ethers.utils.getAddress(accounts[0]);\n        this._emitNetworkChange();\n      }\n    });\n\n    provider.on('chainChanged', async (chainId: number) => {\n      if (chainId !== this.chainId) {\n        this.chainId = chainId;\n        await this.connect();\n      }\n    });\n  };\n\n  disconnect = async (clearCache: boolean, fireEvent: boolean) => {\n    if (this.ethersProvider) {\n      localStorage.removeItem('walletconnect');\n      this.ethersProvider.removeAllListeners();\n      this.tokenContract = undefined;\n      this.ethersProvider = undefined;\n      this.cfihLpContract = undefined;\n      this.cfihScContract = undefined;\n      this.sftEvaluatorContract = undefined;\n      this.boosterContract = undefined;\n      this.ethersSigner = undefined;\n      this.polygonBridge = undefined;\n    }\n    this.address = '';\n    if (clearCache) {\n      this.web3Modal.clearCachedProvider();\n    }\n    if (fireEvent) {\n      this._emitNetworkChange();\n    }\n  };\n\n  close = async () => {\n    try {\n      this.sftHolderContractRO?.removeAllListeners();\n      this.sftHolderContractRO = undefined;\n      this.sftMintContractRO = undefined;\n      this.tradeFloorContractRO?.removeAllListeners();\n      this.tradeFloorContractRO = undefined;\n      this.lpContractRO?.removeAllListeners();\n      this.lpContractRO = undefined;\n      this.uniDaiWethPairContractRO = undefined;\n    } catch (e) {\n      console.log(e);\n    }\n    console.log('Disconnect due to WS close');\n    await this.disconnect(false, true);\n    if (this.eventProvider) {\n      try {\n        this.eventProvider?.removeAllListeners();\n      } catch (e) {\n        console.log(e);\n      }\n      if (this.isWSEventProvider) {\n        const wsEventProvider = this\n          .eventProvider as ethers.providers.WebSocketProvider;\n        wsEventProvider._websocket.onclose = null;\n        wsEventProvider._websocket.onerror = null;\n        await wsEventProvider.destroy();\n      }\n      this.eventProvider = undefined;\n    }\n  };\n\n  isConnected = () => {\n    return this.ethersProvider !== undefined;\n  };\n\n  isEventConnected = () => {\n    return this.eventProvider !== undefined;\n  };\n\n  _addDQ = async (block: number, payload: Payload) => {\n    if (this.eventsSuspended) {\n      if (\n        !this.dispatchQueue.find(\n          (elem) => JSON.stringify(elem) === JSON.stringify(payload)\n        )\n      )\n        this.dispatchQueue.push(payload);\n    } else {\n      dispatcher.dispatch(payload);\n    }\n  };\n\n  _resolveDQ = () => {\n    if (this.eventsSuspended) {\n      this.dispatchQueue.forEach((payload) => dispatcher.dispatch(payload));\n      this.dispatchQueue = [];\n      /*if (this.lastAprTime + 300000 < Date.now()) {\n        this.lastAprTime = Date.now();\n        this._updatePoolAPR();\n      }*/\n      this.eventsSuspended = false;\n    }\n  };\n\n  _setupEvents(): boolean {\n    this.eventProvider?.removeAllListeners();\n    this.sftHolderContractRO?.removeAllListeners();\n    this.tradeFloorContractRO?.removeAllListeners();\n    this.lpContractRO?.removeAllListeners();\n\n    const handleTransfer = (\n      operator: string,\n      from: string,\n      to: string,\n      cards: boolean\n    ) => {\n      const filter = [];\n      if (cards && from === Store.nullAddress) filter.push('cards');\n      if (\n        operator === this.address ||\n        from === this.address ||\n        to === this.address\n      ) {\n        filter.push('tokens');\n      }\n      if (filter.length > 0) {\n        console.log('TransferEvent: ', filter);\n        this._addDQ(0, { type: ASSETS_STATE, content: { filter } } as Payload);\n      }\n    };\n\n    this.sftHolderContractRO?.on('SftTokenTransfer', (operator, from, to) =>\n      handleTransfer(operator, from, to, true)\n    );\n    this.tradeFloorContractRO?.on('TransferSingle', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    this.tradeFloorContractRO?.on('TransferBatch', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    this.lpContractRO?.on('Transfer', (from, to) => {\n      if (from === this.address || to === this.address) {\n        dispatcher.dispatch({\n          type: ASSETS_STATE,\n          content: { filter: ['balances'] },\n        });\n      }\n    });\n    return true;\n  }\n\n  _emitNetworkChange() {\n    // Request new SFT List\n    if (this.address) {\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['tokens', 'balances', 'rewards'] },\n      } as Payload);\n    } else {\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.value = 0;\n      }\n      this.assets.userSFT = [];\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    }\n    emitter.emit(CONNECTION_CHANGED, {\n      type: 'prod',\n      address: this.address,\n      networkName: this.networkName,\n    } as ConnectResult);\n  }\n\n  _launchEventProvider = async () => {\n    await this.lock.promise;\n    this.lock.enable();\n    try {\n      if (\n        !this.eventProvider ||\n        (await this.eventProvider?.getNetwork()).chainId !== this.chainId\n      ) {\n        let eventProvider:\n          | ethers.providers.WebSocketProvider\n          | ethers.providers.JsonRpcProvider;\n        this.isWSEventProvider = true;\n        const endpoint = this.getEndpoint(true);\n        if (endpoint) {\n          if (endpoint.startsWith('http')) {\n            this.isWSEventProvider = false;\n            eventProvider = new ethers.providers.JsonRpcProvider(endpoint);\n          } else {\n            eventProvider = new ethers.providers.WebSocketProvider(endpoint);\n          }\n        } else {\n          eventProvider = ethers.providers.InfuraProvider.getWebSocketProvider(\n            this.networkName,\n            process.env.REACT_APP_INFURA_ID\n          );\n        }\n        if (!this.chainId)\n          this.chainId = (await eventProvider.getNetwork()).chainId;\n\n        await this._setupEventContracts(eventProvider);\n        if (this.isWSEventProvider) {\n          const wsEventProvider =\n            eventProvider as ethers.providers.WebSocketProvider;\n          wsEventProvider._websocket.onclose = () => {\n            this.close();\n          };\n          wsEventProvider._websocket.onerror = () => {\n            this.close();\n          };\n        }\n\n        this.eventProvider?.removeAllListeners();\n        this.eventProvider = eventProvider;\n\n        console.log('EventProvider launched on network: ', this.networkName);\n        emitter.emit(CONNECTION_CHANGED, {\n          type: 'event',\n          address: '',\n          networkName: this.networkName,\n        } as ConnectResult);\n        if (this.assets.cfolioItems.length > 0) {\n          dispatcher.dispatch({\n            type: ASSETS_STATE,\n            content: { filter: ['cards'] },\n          } as Payload);\n        }\n        this._setupEvents();\n      }\n    } catch (e) {\n      console.log(e);\n      if (this.eventProvider) {\n        this.eventProvider = undefined;\n      }\n    }\n    this.lock.disable();\n  };\n\n  switchChain = async (chain: string) => {\n    if (window.ethereum) {\n      let newChain = 0;\n      if (chain === 'polygon') {\n        newChain = this.chainId === 1 ? 137 : 80001;\n      } else {\n        newChain = this.chainId === 137 ? 1 : 5;\n      }\n      if (newChain) {\n        try {\n          await window.ethereum.request({\n            method: 'wallet_switchEthereumChain',\n            params: [{ chainId: '0x' + newChain.toString(16) }],\n          });\n        } catch (e) {\n          if (e.code === 4902 && newChain === 137) {\n            try {\n              await window.ethereum.request({\n                method: 'wallet_addEthereumChain',\n                params: [\n                  {\n                    chainId: '0x89',\n                    chainName: 'Matic(Polygon) Mainnet',\n                    rpcUrls: ['https://polygon-rpc.com/'],\n                    blockExplorerUrls: ['https://polygonscan.com'],\n                    nativeCurrency: {\n                      name: 'MATIC',\n                      symbol: 'MATIC',\n                      decimals: 18,\n                    },\n                  },\n                ],\n              });\n            } catch (e) {\n              console.log(e);\n            }\n          }\n          console.log(e);\n        }\n      }\n    }\n  };\n\n  getStableCurrencies() {\n    switch (this.chainId) {\n      case 137:\n        return STABLE_CURRENCIES[0];\n      case 80001:\n        return STABLE_CURRENCIES[1];\n      default:\n        return STABLE_CURRENCIES[2];\n    }\n  }\n  /******************** Contracts *********************/\n\n  _getChainAddresses(): ChainAddresses | undefined {\n    return (addresses as IIndexable)[this.chainId];\n  }\n\n  async _setupEventContracts(\n    provider: ethers.providers.BaseProvider\n  ): Promise<void> {\n    const chainAddresses = this._getChainAddresses();\n\n    if (chainAddresses) {\n      this.tokenContractAddress = chainAddresses.token;\n      this.lpContractRO = new ethers.Contract(\n        chainAddresses.uniV2Pair,\n        UniV2PairAbi,\n        provider\n      );\n\n      if (chainAddresses.sftHolderProxy) {\n        this.sftHolderContractRO = new ethers.Contract(\n          chainAddresses.sftHolderProxy,\n          SFTHolderAbi,\n          provider\n        );\n      }\n\n      if (chainAddresses.sftMinterProxy) {\n        this.sftMintContractRO = new ethers.Contract(\n          chainAddresses.sftMinterProxy,\n          SFTMinterAbi,\n          provider\n        );\n      }\n      if (chainAddresses.tradeFloorProxy) {\n        this.tradeFloorContractRO = new ethers.Contract(\n          chainAddresses.tradeFloorProxy,\n          TradeFloorAbi,\n          provider\n        );\n      }\n\n      this.cfolioFarmLpAddress = chainAddresses.cfolioFarmLP || '';\n      this.cfolioFarmScAddress = chainAddresses.cfolioFarmSC || '';\n\n      if (chainAddresses.uniDaiWeth !== '') {\n        this.uniDaiWethPairContractRO = new ethers.Contract(\n          chainAddresses.uniDaiWeth,\n          UniV2PairAbi,\n          provider\n        );\n      } else this.uniDaiWethPairContractRO = undefined;\n\n      if (chainAddresses.curveADeposit) {\n        this.curveDepositContractRO = new ethers.Contract(\n          chainAddresses.curveADeposit,\n          CurveDepositAbi,\n          provider\n        );\n      } else if (chainAddresses.curveYDeposit) {\n        this.curveDepositContractRO = new ethers.Contract(\n          chainAddresses.curveYDeposit,\n          CurveDepositAbi,\n          provider\n        );\n      } else this.curveDepositContractRO = undefined;\n\n      // Setup our balances\n      this.assets.balances['WOWS'].address = chainAddresses.token;\n      this.assets.balances['WETH/WOWS LP'].address = this.lpContractRO.address;\n      this.assets.balances['USDC'].address = chainAddresses.usdcToken;\n      this.assets.balances['USDT'].address = chainAddresses.usdtToken;\n      this.assets.balances['DAI'].address = chainAddresses.daiToken;\n      this.assets.balances['TUSD'].address = chainAddresses.tusdToken;\n      this.assets.balances['yCrv'].address = chainAddresses.curveYToken;\n      this.assets.balances['am3Crv'].address = chainAddresses.curveAToken;\n\n      this.assets.balances['WOWS'].handlerAddress =\n        chainAddresses.sftMinterProxy;\n      this.assets.balances['WETH/WOWS LP'].handlerAddress =\n        chainAddresses.cfolioItemHandlerLPProxy;\n      this.assets.balances['USDC'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['USDT'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['DAI'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['TUSD'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['yCrv'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n    } else {\n      this.tokenContractAddress = Store.nullAddress;\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.address = undefined;\n        value.value = 0;\n      }\n    }\n  }\n\n  async _setupContracts(\n    provider: ethers.providers.JsonRpcProvider\n  ): Promise<boolean> {\n    const chainAddresses = this._getChainAddresses();\n    if (chainAddresses) {\n      const signer = provider.getSigner(this.accountId);\n      this.tokenContract = new ethers.Contract(\n        chainAddresses.token,\n        TokenAbi,\n        signer\n      );\n      if (chainAddresses.cfolioItemHandlerLPProxy) {\n        this.cfihLpContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerLPProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.cfolioItemHandlerSCProxy) {\n        this.cfihScContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerSCProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.sftEvaluatorProxy) {\n        this.sftEvaluatorContract = new ethers.Contract(\n          chainAddresses.sftEvaluatorProxy,\n          SftEvaluatorAbi,\n          signer\n        );\n      }\n      if (chainAddresses.boosterProxy) {\n        this.boosterContract = new ethers.Contract(\n          chainAddresses.boosterProxy,\n          BoosterAbi,\n          signer\n        );\n      }\n      this.bridgeTargetAddress = chainAddresses.bridgeTarget;\n\n      return true;\n    }\n    return false;\n  }\n\n  _getSftState = async (payloadContent: PayloadContent | undefined) => {\n    if (!this.sftMintContractRO) {\n      return;\n    }\n\n    // Loop through the assets and build up level / cardIds to query\n    const levels: ethers.BigNumber[] = [];\n    const cardIds: ethers.BigNumber[] = [];\n\n    this.assets.cards.cards.forEach((level) =>\n      level.cards.forEach((card) => {\n        levels.push(ethers.BigNumber.from(level.chainRef));\n        cardIds.push(ethers.BigNumber.from(card.chainRef));\n      })\n    );\n\n    try {\n      if (!this.isSidechain()) {\n        const sftResult:\n          | {\n              prices: ethers.BigNumber[];\n              numMinted: number[];\n              maxMintable: number[];\n            }\n          | undefined = await this.sftMintContractRO?.getBaseSpec(\n          levels,\n          cardIds\n        );\n\n        if (sftResult !== undefined) {\n          let index = 0;\n          for (const level of this.assets.cards.cards) {\n            level.price = this.fromWei(sftResult.prices[index]);\n            level.quantity = sftResult.maxMintable[index];\n            for (const card of level.cards) {\n              card.minted = sftResult.numMinted[index];\n              index++;\n            }\n            if (index >= sftResult.prices.length) break;\n          }\n        }\n      }\n\n      const cfolioTypes: number[] = [];\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => cfolioTypes.push(card.chainRef))\n      );\n\n      const cfolioResult: [\n        ethers.BigNumber[],\n        ethers.BigNumber[],\n        ethers.BigNumber[]\n      ] = await this.sftMintContractRO?.getCFolioSpec(cfolioTypes);\n      let index = 0;\n\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => {\n          card.price = this.fromWei(cfolioResult[0][index]);\n          card.minted = cfolioResult[1][index].toNumber();\n          card.maxMintable = cfolioResult[2][index].toNumber();\n          ++index;\n        })\n      );\n      emitter.emit(ASSETS_STATE, { status: 'cards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getUserSft = async (payloadContent: PayloadContent | undefined) => {\n    if (this.address === '' || !this.sftMintContractRO) return;\n\n    try {\n      const result: [ethers.BigNumber[], ethers.BigNumber[]] =\n        await this.sftMintContractRO.getTokenIds(this.address);\n\n      const bridgeToken = this.polygonBridge\n        ? this.polygonBridge.getTokenIds(this.address)\n        : [];\n\n      const mergeList = result[0].map((t) => t);\n      mergeList.push(...result[1]);\n      mergeList.push(...bridgeToken.map((item) => item.tokenId));\n\n      const newUserSFT: SFT[] = mergeList\n        .filter((n) => n.mask(128).lte(Store.BASE_CARD_MAX))\n        .map((bn, index) => {\n          const cr = bn.mask(32).toNumber() >> 16;\n          let cardIndex = 0;\n          const levelIndex = this.assets.cards.cards.findIndex(\n            (l) =>\n              l.chainRef << 8 === (cr & 0xff00) &&\n              (cardIndex = l.cards.findIndex(\n                (c) => c.chainRef === (cr & 0xff)\n              )) >= 0\n          );\n          const bridgeItem = bridgeToken.find((item) => item.tokenId.eq(bn));\n          return {\n            tokenId: bn,\n            levelId: levelIndex,\n            cardId: cardIndex,\n            isBaseCard: bn.mask(128).lte(Store.BASE_CARD_MAX),\n            isStockCard: bn.mask(128).lte(Store.STOCK_CARD_MAX),\n            isWallet: false,\n            status: bridgeItem\n              ? bridgeItem.available\n                ? SFTS.BRIDGE_READY\n                : SFTS.BRIDGE_PENDING\n              : result[1].find((b) => b.eq(bn)) !== undefined\n              ? SFTS.LOCKED\n              : SFTS.UNLOCKED,\n            rewardRate: 0,\n            rewardShare: 0,\n            rewardEarned: 0,\n            mintTimestamp: 0,\n            cfolioItems: [],\n            boosterRewards: {\n              total: 0,\n              pending: 0,\n              apr: 0,\n            },\n          };\n        })\n        .sort((a, b) =>\n          a.tokenId.mask(128).gt(b.tokenId.mask(128))\n            ? 1\n            : a.tokenId.mask(128).lt(b.tokenId.mask(128))\n            ? -1\n            : 0\n        );\n      // Create a dummy UserTokenId UINT256Max for the users wallet\n      newUserSFT.unshift({\n        tokenId: BIGNUMBER_MAX,\n        levelId: -1,\n        cardId: -1,\n        isBaseCard: false,\n        isStockCard: false,\n        isWallet: true,\n        status: SFTS.UNLOCKED,\n        rewardRate: 0,\n        rewardShare: 0,\n        rewardEarned: 0,\n        mintTimestamp: 0,\n        cfolioItems: [],\n        boosterRewards: {\n          total: 0,\n          pending: 0,\n          apr: 0,\n        },\n      });\n\n      // Get all CFolio Items and tokenId information, root cFolioItems go into wallet (-1)\n      // We expect uint256: [%,MintTime,NumItems,[tokenId,type,numAssetValues,[assetValue]]]...\n      const result2: string = await this.sftMintContractRO.getTokenInformation(\n        mergeList\n      );\n      let readIndex = 0;\n      // We have now a string of uint256Hex values\n      mergeList.forEach((tokenId) => {\n        //get destination tokenId\n        let destinationId: number;\n        if (tokenId.mask(128).gt(Store.BASE_CARD_MAX)) destinationId = 0;\n        else\n          destinationId = newUserSFT.findIndex((sft) =>\n            sft.tokenId.eq(tokenId)\n          );\n        if (destinationId >= 0) {\n          newUserSFT[destinationId].rewardRate = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n          newUserSFT[destinationId].mintTimestamp = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n\n          let numCFolios = readUint256(result2, readIndex++).toNumber();\n          while (numCFolios > 0) {\n            const childId = readUint256(result2, readIndex++);\n            const child: SFTCHILD = {\n              tokenId: childId,\n              levelId: -1,\n              cardId: -1,\n              status:\n                destinationId === 0 &&\n                result[1].find((b) => b.eq(childId)) !== undefined\n                  ? SFTS.LOCKED\n                  : SFTS.UNLOCKED,\n              type: readUint256(result2, readIndex++).toNumber(),\n              assets: [],\n            };\n            child.levelId = this.assets.cfolioItems.findIndex(\n              (l) =>\n                (child.cardId = l.cards.findIndex(\n                  (c) => c.chainRef === child.type\n                )) >= 0\n            );\n            const numAssets = readUint256(result2, readIndex++).toNumber();\n            const bidx =\n              this.assets.cfolioItems[child.levelId].type === 'lpInvestment'\n                ? ['WETH/WOWS LP']\n                : this.getStableCurrencies();\n            for (let index = 0; index < numAssets; ++index) {\n              child.assets.push(\n                this.fromWei(\n                  readUint256(result2, readIndex++),\n                  this.assets.balances[bidx[index]].decimals\n                )\n              );\n            }\n            newUserSFT[destinationId].cfolioItems.push(child);\n            --numCFolios;\n          }\n        } else throw new Error('Mismatch in tokenId array');\n      });\n\n      this.assets.userSFT = newUserSFT;\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getSftRewards = async (plc: PayloadContent) => {\n    try {\n      if (!this.sftMintContractRO) return;\n      const filter = ['wolves', 'bois'];\n      const contracts = [this.cfihLpContract, this.cfihScContract];\n\n      for (let i = 0; i < 2; ++i) {\n        if (!contracts[i]) return;\n\n        const sfts = this.assets.userSFT.filter(\n          (sft) =>\n            sft.isBaseCard &&\n            this.assets.cards.cards[sft.levelId].type === filter[i]\n        );\n\n        if (sfts.length === 0) continue;\n\n        // Returns:\n        //  result: totalsupply, rewardDur, rewardsPerDur, [share, earned]\n        //  boosterLocked\n        //  boosterPending\n        //  boosterApr\n        //  boosterSecsLeft\n        const result = await this.sftMintContractRO.getRewardInfo(\n          contracts[i]?.address,\n          sfts.map((sft) => sft.tokenId)\n        );\n        let readIndex = 0;\n        const cfiResult = result.result;\n        const ri = this.assets.rewardInfo[i];\n        ri.total = readUint256(cfiResult, readIndex++);\n        const total = this.fromWei(ri.total);\n        ri.rewardDuration = readUint256(cfiResult, readIndex++).toNumber();\n        ri.rewardPerDuration = readUint256(cfiResult, readIndex++);\n        sfts.forEach((sft, index) => {\n          sft.rewardShare =\n            (this.fromWei(readUint256(cfiResult, readIndex++)) * 100) / total;\n          sft.rewardEarned = this.fromWei(readUint256(cfiResult, readIndex++));\n          sft.boosterRewards.total = this.fromWei(result.boosterLocked[index]);\n          sft.boosterRewards.pending = this.fromWei(\n            result.boosterPending[index]\n          );\n          sft.boosterRewards.apr = this.fromWei(result.boosterApr[index]);\n          sft.boosterRewards.secsLeft = result.boosterSecsLeft[index].eq(\n            BIGNUMBER_MAX\n          )\n            ? undefined\n            : result.boosterSecsLeft[index].toNumber();\n        });\n      }\n      await this._updatePoolAPR();\n      emitter.emit(ASSETS_STATE, { status: 'rewards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _setCFolioAmount(\n    receipt: ethers.providers.TransactionReceipt,\n    sft: ethers.BigNumber,\n    cfolio: ethers.BigNumber\n  ) {\n    const iface = new ethers.utils.Interface(CFolioFarmAbi);\n    const stableCurrencies = this.getStableCurrencies();\n    receipt.logs.find((log) => {\n      if (\n        log.address === this.cfolioFarmLpAddress ||\n        log.address === this.cfolioFarmScAddress\n      ) {\n        const parsed = iface.parseLog(log);\n        if (['AssetAdded', 'AssetRemoved'].includes(parsed.name)) {\n          this.assets.userSFT.find(\n            (isft) =>\n              isft.tokenId === sft &&\n              isft.cfolioItems.find((item) => {\n                if (item.tokenId === cfolio) {\n                  if (log.address === this.cfolioFarmLpAddress) {\n                    item.assets[0] = this.fromWei(parsed.args[2]);\n                    emitter.emit(ASSETS_STATE, {\n                      status: 'cfolio_amount',\n                    } as AssetStateresult);\n                  } else if (this.cfihScContract) {\n                    this.cfihScContract\n                      .getAmounts(parsed.args[0])\n                      .then((amounts: ethers.BigNumber[]) => {\n                        amounts.forEach(\n                          (amount, index) =>\n                            (item.assets[index] = this.fromWei(\n                              amount,\n                              this.assets.balances[stableCurrencies[index]]\n                                .decimals\n                            ))\n                        );\n                        emitter.emit(ASSETS_STATE, {\n                          status: 'cfolio_amount',\n                        } as AssetStateresult);\n                      });\n                  }\n                  dispatcher.dispatch({\n                    type: ASSETS_STATE,\n                    content: { filter: ['tokens', 'balances'] },\n                  } as Payload);\n                  return true;\n                }\n                return false;\n              })\n          );\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _setRewardRate(receipt: ethers.providers.TransactionReceipt): void {\n    const iface = new ethers.utils.Interface(SftEvaluatorAbi);\n    receipt.logs.find((log) => {\n      if (log.address === this.sftEvaluatorContract?.address) {\n        const parsed = iface.parseLog(log);\n        if (parsed.name === 'RewardRate') {\n          const sft = this.assets.userSFT.find((sft) =>\n            sft.tokenId.eq(parsed.args[0])\n          );\n          if (sft) {\n            sft.rewardRate = parsed.args[1];\n          }\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _getTokenContractAddress() {\n    return this.tokenContractAddress;\n  }\n\n  _getAssetsBalances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Balances(\n        this.address,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.value = this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'balances' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  _getAssetsAllowances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const spender = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.handlerAddress ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Allowances(\n        this.address,\n        spender,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.allowance = balances[index].gt(\n            ethers.BigNumber.from(0xffffffff).mul(\n              ethers.BigNumber.from(10).pow(value.decimals)\n            )\n          )\n            ? -1\n            : this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'allowance' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  async _updatePoolAPR() {\n    let lpContractRO = this.lpContractRO;\n    if (this.chainId === 137) {\n      const provider = new ethers.providers.InfuraProvider(\n        'mainnet',\n        process.env.REACT_APP_INFURA_ID\n      );\n      lpContractRO = new ethers.Contract(\n        (addresses as IIndexable)[1].uniV2Pair,\n        UniV2PairAbi,\n        provider\n      );\n    } else if (this.isSidechain()) return;\n\n    if (\n      this.uniDaiWethPairContractRO &&\n      lpContractRO &&\n      this.curveDepositContractRO\n    ) {\n      const e18 = ethers.BigNumber.from('10').pow(18);\n\n      const daiWethReserves = await this.uniDaiWethPairContractRO.getReserves();\n      // Price of 1 WETH in DAI\n      const wethPrice = daiWethReserves.reserve0.gt(daiWethReserves.reserve1)\n        ? daiWethReserves.reserve0.mul(e18).div(daiWethReserves.reserve1)\n        : daiWethReserves.reserve1.mul(e18).div(daiWethReserves.reserve0);\n\n      const wowsWethReserves = await lpContractRO.getReserves();\n      // Price of 1 WOWS\n      const wowsPrice = wowsWethReserves.reserve1\n        .mul(wethPrice)\n        .div(wowsWethReserves.reserve0);\n\n      for (let i = 0; i < 2; ++i) {\n        const rewardInfo = this.assets.rewardInfo[i];\n\n        rewardInfo.priceWOWS = this.fromWei(wowsPrice);\n\n        let stakedPrice;\n        if (i === 0) {\n          // TotalSupply of the WOWS/WETH pool\n          const wowsWethTotalSupply = await lpContractRO.totalSupply();\n\n          // Total price of pool\n          const poolPrice = wowsWethReserves.reserve0\n            .mul(wowsPrice)\n            .add(wowsWethReserves.reserve1.mul(wethPrice))\n            .div(e18);\n\n          rewardInfo.priceToken = this.fromWei(\n            poolPrice.mul(e18).div(wowsWethTotalSupply)\n          );\n\n          // Staked share\n          stakedPrice = poolPrice\n            .mul(ethers.BigNumber.from(rewardInfo.total))\n            .div(wowsWethTotalSupply);\n        } else {\n          // Get the DAI price of one yCrv token\n          const priceToken =\n            await this.curveDepositContractRO.calc_withdraw_one_coin(\n              this.toWei(1),\n              0\n            );\n          rewardInfo.priceToken = this.fromWei(priceToken);\n\n          // Staked share\n          stakedPrice = priceToken\n            .mul(ethers.BigNumber.from(rewardInfo.total))\n            .div(e18);\n        }\n\n        if (rewardInfo.rewardDuration) {\n          // yearly emission\n          const emmission = wowsPrice.mul(\n            rewardInfo.rewardPerDuration\n              .mul(ethers.BigNumber.from(SECONDS_PER_YEAR))\n              .div(ethers.BigNumber.from(rewardInfo.rewardDuration).mul(e18))\n          );\n\n          const apr = stakedPrice.gt(0)\n            ? emmission.mul(100).div(stakedPrice).toNumber()\n            : 0;\n          rewardInfo.apr = apr;\n        }\n      }\n    }\n  }\n\n  aprToApy(apr: number): string {\n    const apy = (Math.pow(1.0 + apr / 100 / 52, 52) - 1.0) * 100;\n    return apy > 1e4 ? 'INF' : apy.toFixed(2);\n  }\n\n  /************** TX ****************/\n\n  _doSftBuy = async (payloadContent: PayloadContent) => {\n    const { amount, id } = payloadContent;\n\n    try {\n      if (!amount || id === undefined) {\n        throw new Error('Invalid input');\n      }\n\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.sftHolderContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Invalid contract');\n      }\n\n      const sftAmount = this.toWei(amount);\n      const walletAmount = await this.tokenContract.balanceOf(this.address);\n\n      if (sftAmount.gt(walletAmount)) {\n        throw new Error('Insufficient balances');\n      }\n\n      const cardData = await this.sftMintContractRO?.getBaseSpec(\n        [id.toNumber() >> 8],\n        [id.toNumber() & 0xff]\n      );\n      if (cardData.maxMintable[0] <= cardData.numMinted[0]) {\n        throw new Error('No cards available');\n      }\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const allowance = await this.tokenContract.allowance(\n        this.address,\n        sftMintContract.address\n      );\n\n      if (allowance.lt(sftAmount)) {\n        const tx = await this.tokenContract.approve(\n          sftMintContract.address,\n          this._checkUnlimited('WOWS', sftAmount)\n        );\n        emitter.emit(SFT_BUY, {\n          status: 'approve',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx.wait();\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction | undefined =\n        await sftMintContract?.mintWowsSFT(\n          this.address,\n          id.toNumber() >> 8,\n          id.toNumber() & 0xff\n        );\n      emitter.emit(SFT_BUY, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx?.wait();\n      emitter.emit(SFT_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftLock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (\n      !this.sftHolderContractRO ||\n      !this.tradeFloorContractRO ||\n      !this.ethersProvider\n    ) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    const sftHolderContract = new ethers.Contract(\n      this.sftHolderContractRO.address,\n      this.sftHolderContractRO.interface,\n      this.ethersProvider.getSigner(this.accountId)\n    );\n\n    try {\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftHolderContract.safeTransferFrom(\n          this.address,\n          this.tradeFloorContractRO.address,\n          id,\n          1,\n          []\n        );\n      emitter.emit(SFT_LOCK, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_LOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        type: SFT_LOCK,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftTransfer = async (payloadContent: PayloadContent) => {\n    const { id, address } = payloadContent;\n    if (id === undefined || !address) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.sftHolderContractRO || !this.ethersProvider) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const sftHolderContract = this.sftHolderContractRO.connect(\n        this.ethersProvider.getSigner(this.accountId)\n      );\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftHolderContract.safeTransferFrom(\n          this.address,\n          address,\n          id,\n          1,\n          []\n        );\n      emitter.emit(SFT_TRANSFER, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n\n      if (address === this.bridgeTargetAddress) {\n        await MessageProof.insertItem(this.address, this.chainId, id, receipt);\n      }\n\n      emitter.emit(SFT_TRANSFER, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftMessageProof = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.ethersSigner || !this.polygonBridge) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n    try {\n      const proof = await this.polygonBridge.processPending(id);\n      const contract = new ethers.Contract(\n        this.bridgeTargetAddress,\n        RootTunnelAbi,\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx = await contract.receiveMessage(proof);\n\n      emitter.emit(SFT_PROOF, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_PROOF, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this.polygonBridge?.removeItem(id);\n    } catch (e) {\n      this.polygonBridge?.resetPending(id);\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftUnlock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.tradeFloorContractRO || !this.ethersSigner) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const tradeFloorContract = this.tradeFloorContractRO.connect(\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction = await tradeFloorContract.burn(\n        this.address,\n        id,\n        1\n      );\n      emitter.emit(SFT_UNLOCK, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_UNLOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemBuy = async (payloadContent: PayloadContentCFolioItem) => {\n    const { wowsAmount, investAmount, sftTokenId, cfolioType } = payloadContent;\n\n    try {\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (wowsAmount > 0) {\n        const weiAmount = this.toWei(wowsAmount);\n        const walletAmount = await this.tokenContract.balanceOf(this.address);\n        if (weiAmount.gt(walletAmount)) {\n          throw new Error('Insufficient WOWS balances');\n        }\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas } = await this._investmentApproval(\n        CFOLIO_ITEM_BUY,\n        cfolioType,\n        false,\n        investAmount,\n        investWeiAmounts\n      );\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n\n      if (wowsAmount > 0) {\n        const allowance = await this.tokenContract.allowance(\n          this.address,\n          sftMintContract.address\n        );\n        const weiAmount = this.toWei(wowsAmount);\n        if (allowance.lt(weiAmount)) {\n          const tx = await this.tokenContract.approve(\n            sftMintContract.address,\n            this._checkUnlimited('WOWS', weiAmount)\n          );\n          emitter.emit(CFOLIO_ITEM_BUY, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await sftMintContract.estimateGas.mintCFolioItemSFT(\n            this.address,\n            cfolioType,\n            sftTokenId,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftMintContract.mintCFolioItemSFT(\n          this.address,\n          cfolioType,\n          sftTokenId,\n          investWeiAmounts,\n          options\n        );\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      // There is no transfer with our address emitted,\n      // in case of valid SFT: Request an tokenId update\n      if (!sftTokenId.eq(BIGNUMBER_MAX)) {\n        this._addDQ(tx?.blockNumber ?? 0, {\n          type: ASSETS_STATE,\n          content: { filter: ['tokens', 'balances'] },\n        } as Payload);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemDeposit = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas, cfihContract } = await this._investmentApproval(\n        CFOLIO_ITEM_DEPOSIT,\n        cfolioType,\n        true,\n        investAmount,\n        investWeiAmounts\n      );\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.deposit(\n            this.address,\n            sftTokenId,\n            cfolioTokenId,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      const tx = await cfihContract.deposit(\n        this.address,\n        sftTokenId,\n        cfolioTokenId,\n        investWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _investmentApproval = async (\n    msgType: string,\n    cfiType: number,\n    requireOneSet: boolean,\n    investAmount: number[],\n    investWeiAmounts: ethers.BigNumber[]\n  ) => {\n    const cfiLevel = this.assets.cfolioItems.find((cf) =>\n      cf.cards.find((cfc) => cfc.chainRef === cfiType)\n    );\n    if (!cfiLevel) {\n      throw new Error('Unsupported cfolioType');\n    }\n\n    let cfihContract, balances;\n    if (cfiLevel.type === 'lpInvestment') {\n      cfihContract = this.cfihLpContract;\n      balances = ['WETH/WOWS LP'];\n    } else {\n      cfihContract = this.cfihScContract;\n      balances = this.getStableCurrencies();\n    }\n\n    if (!cfihContract || !this.ethersSigner) {\n      throw new Error('Contract not initialized');\n    }\n\n    const approvalContracts: (ethers.Contract | undefined)[] = [];\n    let oneSet = false;\n    let oneStableSet = false;\n\n    for (const index in investAmount) {\n      if (investAmount[index] > 0) {\n        const balance = this.assets.balances[balances[index]];\n        if (!balance.address) throw new Error('ERC20 address missing');\n        const approvalContract = new ethers.Contract(\n          balance.address,\n          ERC20Abi,\n          this.ethersSigner\n        );\n        let investWeiAmount = this.toWei(investAmount[index], balance.decimals);\n\n        const walletAmount = await approvalContract.balanceOf(this.address);\n        if (investWeiAmount.gt(walletAmount)) {\n          if (investWeiAmount.sub(walletAmount).lt(balance.dust)) {\n            investWeiAmount = walletAmount;\n          } else {\n            throw new Error('Insufficient LP balances');\n          }\n        } else if (walletAmount.sub(investWeiAmount).lt(balance.dust)) {\n          // Try to invest dust, too\n          investWeiAmount = walletAmount;\n        }\n        investWeiAmounts.push(investWeiAmount);\n        approvalContracts.push(approvalContract);\n\n        if (\n          cfihContract === this.cfihScContract &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n        oneSet = true;\n      } else {\n        investWeiAmounts.push(ethers.BigNumber.from(0));\n        approvalContracts.push(undefined);\n      }\n    }\n\n    if (requireOneSet && !oneSet) throw new Error('ERC20 address missing');\n    if (!oneSet) investWeiAmounts.length = 0;\n\n    for (const index in investWeiAmounts) {\n      if (approvalContracts[index] !== undefined) {\n        const allowance = await approvalContracts[index]?.allowance(\n          this.address,\n          cfihContract?.address\n        );\n        if (allowance.lt(investWeiAmounts[index])) {\n          // USDT doesn't allow increase of existing allowance\n          if (balances[index] === 'USDT' && !allowance.eq(0)) {\n            throw new Error(\n              \"Revoke USDT allowance in 'Manage Approval' required!\"\n            );\n          }\n          const tx = await approvalContracts[index]?.approve(\n            cfihContract?.address,\n            this._checkUnlimited(\n              balances[parseInt(index)],\n              investWeiAmounts[index]\n            )\n          );\n          emitter.emit(msgType, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n    }\n    return { additionalGas: oneStableSet ? 400000 : 0, cfihContract };\n  };\n\n  _doCFolioItemWithdraw = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      if (!this.sftHolderContractRO) {\n        throw new Error('Contract not initialized');\n      }\n\n      // get cFolioAddress from cFolioTokenId\n      const cfa = await this.sftHolderContractRO.tokenIdToAddress(\n        cfolioTokenId.mask(128)\n      );\n      if (cfa === Store.nullAddress) {\n        throw new Error('Cannot get cfolio address');\n      }\n\n      const cfiLevel = this.assets.cfolioItems.find((cf) =>\n        cf.cards.find((cfc) => cfc.chainRef === cfolioType)\n      );\n      if (!cfiLevel) {\n        throw new Error('Unsupported cfolioType');\n      }\n\n      let cfihContract, balances;\n      if (cfiLevel.type === 'lpInvestment') {\n        cfihContract = this.cfihLpContract;\n        balances = ['WETH/WOWS LP'];\n      } else {\n        cfihContract = this.cfihScContract;\n        balances = this.getStableCurrencies();\n      }\n\n      if (!cfihContract || !this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (investAmount.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const cfolioAmounts: ethers.BigNumber[] = await cfihContract.getAmounts(\n        cfa\n      );\n\n      if (cfolioAmounts.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const withdrawWeiAmounts: ethers.BigNumber[] = [];\n      let oneStableSet = false;\n      for (const index in investAmount) {\n        const balance = this.assets.balances[balances[index]];\n        let withdrawWeiAmount = this.toWei(\n          investAmount[index],\n          balance.decimals\n        );\n        if (withdrawWeiAmount.gt(cfolioAmounts[index])) {\n          if (withdrawWeiAmount.sub(cfolioAmounts[index]).lt(balance.dust)) {\n            withdrawWeiAmount = cfolioAmounts[index];\n          } else {\n            throw new Error('Insufficient LP balances');\n          }\n        } else if (\n          cfolioAmounts[index].sub(withdrawWeiAmount).lt(balance.dust)\n        ) {\n          // Try to invest dust, too\n          withdrawWeiAmount = cfolioAmounts[index];\n        }\n        if (\n          cfihContract === this.cfihScContract &&\n          withdrawWeiAmount.gt(0) &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n\n        withdrawWeiAmounts.push(withdrawWeiAmount);\n      }\n\n      let options = {};\n      if (oneStableSet) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.withdraw(\n            sftTokenId,\n            cfolioTokenId,\n            withdrawWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + 400000 };\n      }\n\n      const tx = await cfihContract.withdraw(\n        sftTokenId,\n        cfolioTokenId,\n        withdrawWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx?.wait();\n\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'success',\n        tx: receipt.transactionHash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doCFolioItemUnlockAndTransfer = async (\n    payloadContent: PayloadContentCFolioItemLT\n  ) => {\n    const { src, dst, lockedCFIs, transferCFIs } = payloadContent;\n\n    try {\n      if (\n        !this.sftHolderContractRO ||\n        !this.tradeFloorContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n      if (src === dst) {\n        throw new Error('Ooups! src === dest');\n      }\n\n      // get destination address\n      let dstAddress = this.address;\n      if (dst !== BIGNUMBER_MAX) {\n        dstAddress = this.sftHolderContractRO.tokenIdToAddress(dst);\n        if (dstAddress === Store.nullAddress) {\n          throw new Error('Cannot get cfolio address');\n        }\n      }\n\n      this.eventsSuspended = true;\n\n      if (lockedCFIs.length > 0) {\n        if (src !== BIGNUMBER_MAX) {\n          throw new Error('Unlock only from Wallet');\n        }\n        const tradeFloorContract = this.tradeFloorContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await tradeFloorContract.burnBatch(\n          this.address,\n          lockedCFIs,\n          new Array(lockedCFIs.length).fill(1)\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx?.wait();\n\n        // CFIs are now in users wallet -> push them to cfiBridge\n        transferCFIs.push(...lockedCFIs.map((id) => id.mask(128)));\n      }\n      if (transferCFIs.length > 0) {\n        // CFI's has to be in TF contract!\n        let srcAddress = this.address;\n        if (src !== BIGNUMBER_MAX) {\n          srcAddress = this.sftHolderContractRO.tokenIdToAddress(src);\n          if (srcAddress === Store.nullAddress) {\n            throw new Error('Cannot get cfolio address');\n          }\n        }\n        const sftHolderContract = this.sftHolderContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await sftHolderContract.safeBatchTransferFrom(\n          srcAddress,\n          dstAddress,\n          transferCFIs,\n          new Array(transferCFIs.length).fill(1),\n          []\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx.hash,\n        } as StatusResult);\n\n        await tx.wait();\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'success',\n          tx: tx.hash,\n        } as StatusResult);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftClaim = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftMintContractRO || !this.ethersSigner) {\n        throw new Error('Invalid contract state');\n      }\n\n      const mintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const tx: ethers.ContractTransaction = await mintContract.claimSFTRewards(\n        payloadContent.id,\n        payloadContent.time ?? 0\n      );\n      emitter.emit(SFT_CLAIM, {\n        status: 'tx',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_CLAIM, {\n        status: 'success',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM, {\n        status: 'error',\n        type: SFT_CLAIM,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftClaimBooster = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.boosterContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.boosterContract.claimRewards(\n          payloadContent.id,\n          payloadContent.time\n        );\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftUpgrade = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftEvaluatorContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.sftEvaluatorContract.setRewardRate(payloadContent.id, true);\n      emitter.emit(SFT_UPGRADE, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n\n      this._setRewardRate(receipt);\n\n      emitter.emit(SFT_UPGRADE, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UPGRADE, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doRevokeApproval = async (payloadContent: PayloadContent) => {\n    const currency = payloadContent.filter ? payloadContent.filter[0] : '';\n    const balance = this.assets.balances[currency];\n    try {\n      if (!this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (!balance) {\n        throw new Error('Invalid input currency');\n      }\n\n      const approvalContract = new ethers.Contract(\n        balance.address ?? '',\n        ERC20Abi,\n        this.ethersSigner\n      );\n\n      const tx = await approvalContract.approve(balance.handlerAddress, 0);\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'tx',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'success',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['allowance'] },\n      } as Payload);\n    } catch (e) {\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'error',\n        type: currency,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  /******************** Misc *********************/\n\n  fromWei(n: ethers.BigNumber, decimals = 18) {\n    return parseFloat(ethers.utils.formatUnits(n, decimals));\n  }\n\n  toWei(n: number, decimals = 18) {\n    const parsed = typeof n === 'number' ? n.toFixed(decimals) : n;\n    return ethers.utils.parseUnits(parsed, decimals);\n  }\n\n  _checkUnlimited(currency: string, defaultReturn: ethers.BigNumber) {\n    const index = Object.keys(this.assets.balances).findIndex(\n      (b) => b === currency\n    );\n    if (index >= 0) {\n      const mask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n      if (mask & (1 << index)) return BIGNUMBER_MAX;\n    }\n    return defaultReturn;\n  }\n}\n\nconst StoreClasses = {\n  store: new Store(),\n  emitter: emitter,\n  dispatcher: dispatcher,\n};\n\nexport class StoreContainer extends React.Component<unknown> {\n  componentDidMount(): void {\n    window.addEventListener('load', async () => {\n      StoreClasses.store.mount();\n    });\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.store.unmount();\n  }\n\n  render(): React.ReactNode {\n    return <>{this.props.children}</>;\n  }\n}\n\nexport { StoreClasses };\n","export default \"data:image/png;base64,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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n// Events (used in dispatcher and emitter)\nexport const ASSETS_STATE = 'ASSETS_STATE';\nexport const REVOKE_APPROVAL = 'REVOKE_APPROVAL';\n\nexport const ADDRESS_COPIED = 'ADDRESS_COPIED';\nexport const CONNECTION_CHANGED = 'CONNECTION_CHANGED';\nexport const NEW_BLOCK = 'NEW_BLOCK'; // Block ticker\n\nexport const SFT_BUY = 'SFT_BUY'; // Buy (mint) an SFT with given level / class\nexport const SFT_CLAIM = 'SFT_CLAIM'; // Claim all SFT rewards\nexport const SFT_CLAIM_BOOSTER = 'SFT_CLAIM_BOOSTER'; // Claim all SFT rewards from booster\nexport const SFT_LOCK = 'SFT_LOCK'; // Transfer SFT to TradingFloor contract\nexport const SFT_PROOF = 'SFT_PROOF'; // Fire the Polygon Burn Proof\nexport const SFT_REWARD = 'SFT_REWARD'; // REQUEST REWARD INFO\nexport const SFT_TRANSFER = 'SFT_TRANSFER'; // Transfer / bridge\nexport const SFT_UNLOCK = 'SFT_UNLOCK'; // Burn NFT, transfer SFT back\nexport const SFT_UPGRADE = 'SFT_UPGRADE'; // Upgrade Reward Share\n\nexport const CFOLIO_ITEM_BUY = 'CFOLIO_ITEM_BUY'; // Buy (mint) cfolioItem\nexport const CFOLIO_ITEM_DEPOSIT = 'CFOLIO_ITEM_DEPOSIT'; // Add investment into existing CFI\nexport const CFOLIO_ITEM_WITHDRAW = 'CFOLIO_ITEM_WITHDRAW_LP'; // Remove LP token from existing CFI\nexport const CFOLIO_ITEM_UNLOCK_TRANSFER = 'CFOLIO_ITEM_UNLOCK_TRANSFER'; // UnlockBurn / transfer CFIs\n","export default __webpack_public_path__ + \"static/media/coinbase-wallet.9fa41556.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './image_slider.css';\n\nimport { ethers } from 'ethers';\nimport { Fragment, RefObject, useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport interface IMAGE_SLIDER_CFOLIO {\n  name: string;\n  tokenId: ethers.BigNumber;\n  disabled: boolean;\n}\n\nexport interface IMAGE_SLIDER_SLIDE {\n  url: string;\n  cfolioItems: IMAGE_SLIDER_CFOLIO[];\n  tokenId?: ethers.BigNumber;\n  locked?: boolean;\n}\n\nexport type IMAGE_SLIDER_INTERFACE = {\n  prev: () => void;\n  next: () => void;\n  go: (index: number) => void;\n};\n\ntype PROPS = {\n  sliderId?: string;\n  initCallback: (id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) => void;\n  onSlideChanged?: (\n    slideId: string | undefined,\n    index: number,\n    checked: number[]\n  ) => void;\n  slideWidth: number;\n  slides: IMAGE_SLIDER_SLIDE[];\n  startSlideId?: number;\n  checkbox?: boolean;\n  toolTippLink?: string;\n};\n\nconst ImageSlider = ({\n  sliderId,\n  initCallback,\n  onSlideChanged,\n  slideWidth,\n  slides,\n  startSlideId,\n  checkbox,\n  toolTippLink,\n}: PROPS): JSX.Element => {\n  const containerRef: RefObject<HTMLDivElement> = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [checked, setChecked] = useState([] as number[]);\n  const [displayIndex, setDisplayIndex] = useState(-1);\n  const [left, setLeft] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [useTransition, enableTransition] = useState(false);\n\n  const prev = () => {\n    if (currentIndex === 0) {\n      return setCurrentIndex(slides.length - 1);\n    }\n    slides.length > 0 && setCurrentIndex(currentIndex - 1);\n  };\n\n  const next = () => {\n    if (currentIndex + 1 === slides.length) {\n      return setCurrentIndex(0);\n    }\n    slides.length > currentIndex + 1 && setCurrentIndex(currentIndex + 1);\n  };\n\n  const go = (index: number) =>\n    index >= 0 && index < slides.length && setCurrentIndex(index);\n\n  const select = (index: number) => {\n    if (index >= 0 && index < slides.length) {\n      const newChecked = checked.filter((e) => e !== index);\n      if (newChecked.length === checked.length) newChecked.push(index);\n      setChecked(newChecked);\n    }\n  };\n\n  initCallback(sliderId, { prev, next, go });\n\n  useEffect(() => {\n    if (onSlideChanged) {\n      onSlideChanged(sliderId, currentIndex, checked);\n    }\n  }, [currentIndex, onSlideChanged, checked, sliderId]);\n\n  useEffect(() => {\n    setLeft((width - slideWidth) / 2 - currentIndex * slideWidth);\n    if (!checkbox && currentIndex !== displayIndex) {\n      setDisplayIndex(-1);\n      setTimeout(() => setDisplayIndex(currentIndex), 250);\n    }\n  }, [currentIndex, displayIndex, slideWidth, width, checkbox]);\n\n  useEffect(() => {\n    enableTransition(false);\n    setTimeout(() => enableTransition(true), 500);\n  }, [slides]);\n\n  useEffect(() => {\n    if (startSlideId === undefined) {\n      setChecked([]);\n      setDisplayIndex(-1);\n      setCurrentIndex(0);\n    } else setCurrentIndex(startSlideId);\n  }, [slides, startSlideId]);\n\n  useEffect(() => {\n    if (containerRef.current) setWidth(containerRef.current.clientWidth);\n\n    const resizeListener = () => {\n      if (containerRef.current) setWidth(containerRef.current.clientWidth);\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"image_slide_container tk-aktiv-grotesk-condensed\"\n      ref={containerRef}\n    >\n      <div\n        className={`image_slide_track ${useTransition && 'trans'}`}\n        style={{ left: left + 'px' }}\n      >\n        {slides.map((elem, index) => {\n          return (\n            <Fragment key={'si_' + index}>\n              <div className=\"d-flex flex-column justify-content-center text-center p-0 m-0 p_relative\">\n                <div\n                  className={\n                    'image_slide' +\n                    (checked.indexOf(index) >= 0\n                      ? ' active c-pointer'\n                      : index === displayIndex\n                      ? ' active c-default'\n                      : ' c-pointer')\n                  }\n                  style={{\n                    width: slideWidth + 'px',\n                    // ['--url' as string]: `url(${elem.url}`,\n                  }}\n                  onClick={() => (checkbox ? select(index) : go(index))}\n                >\n                  {elem.cfolioItems.length > 0 && (\n                    <>\n                      <div className={'slide_count'}>\n                        {elem.cfolioItems.length}\n                      </div>\n                      <div className=\"slide_tooltip_wrapper\">\n                        <div className=\"slide_tooltip_content\">\n                          {elem.cfolioItems.map((cfi) =>\n                            !toolTippLink ||\n                            index !== displayIndex ||\n                            cfi.disabled ? (\n                              <p\n                                key={cfi.tokenId.toHexString()}\n                                className={cfi.disabled ? 'disabled' : ''}\n                              >\n                                {cfi.name}\n                              </p>\n                            ) : (\n                              <Link\n                                key={cfi.tokenId.toHexString()}\n                                to={\n                                  toolTippLink +\n                                  '&tokenId=' +\n                                  cfi.tokenId.toHexString()\n                                }\n                              >\n                                {cfi.name}\n                              </Link>\n                            )\n                          )}\n                        </div>\n                      </div>\n                    </>\n                  )}\n                  {elem.locked && <div className={'slide_locked'} />}\n\n                  <img width=\"100%\" height=\"100%\" src={elem.url} alt=\"\" />\n                </div>\n\n                <span className=\"p-0 m-0 font-13 image_slider_tid\">\n                  {elem.tokenId && elem.tokenId.mask(128).toHexString()}\n                </span>\n              </div>\n            </Fragment>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport { ImageSlider };\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Approval.css';\n\nimport { useEffect, useReducer, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { ASSETS_STATE, REVOKE_APPROVAL } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  Payload,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\n\ntype PROPS = {\n  hideCB: () => void;\n  show: boolean;\n  t: TFunction;\n};\n\nfunction Approval({ hideCB, show, t }: PROPS): JSX.Element {\n  const [redraw, setRedraw] = useState(false);\n\n  const reducer = (\n    state: string[],\n    action: { action: number; key: string }\n  ) => {\n    switch (action.action) {\n      case 1:\n        return [...state, action.key];\n      case -1:\n        return state.filter((e) => e !== action.key);\n      default:\n        throw new Error();\n    }\n  };\n\n  const [approving, setApproving] = useReducer(reducer, []);\n\n  let checkMask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n\n  const setCheck = (index: number, checked: boolean) => {\n    checkMask = checked ? checkMask | (1 << index) : checkMask & ~(1 << index);\n    localStorage.setItem('APPROVAL', checkMask.toString());\n  };\n\n  useEffect(() => {\n    const assetState = (result: AssetStateresult) => {\n      if (result.status === 'allowance') setRedraw(true);\n    };\n\n    const handleRevoke = (result: StatusResult) => {\n      if (result.status !== 'tx') {\n        setApproving({ action: -1, key: result.type });\n      }\n    };\n\n    StoreClasses.emitter.on(ASSETS_STATE, assetState);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, handleRevoke);\n    StoreClasses.dispatcher.dispatch({\n      type: ASSETS_STATE,\n      content: { filter: ['allowance'] },\n    } as Payload);\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(REVOKE_APPROVAL, handleRevoke);\n      StoreClasses.emitter.off(ASSETS_STATE, assetState);\n    };\n  }, []);\n\n  const balances = StoreClasses.store.getAssets().balances;\n\n  const revoke = (key: string) => {\n    const payload = {\n      type: REVOKE_APPROVAL,\n      content: {\n        filter: [key],\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setApproving({ action: 1, key: key });\n  };\n\n  if (redraw) setRedraw(false);\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} size=\"lg\">\n      <Modal.Header closeButton>\n        <Modal.Title>Manage Approval</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        In order to allow our smart contracts work with the assets in your\n        wallet, you have to approve it.\n        <br />\n        By default we approve only the exact amount for an asset, which means\n        that you have to pay multiple times in gas if you process multiple\n        operations for the same asset (e.g. investment or NFT purchase)\n        <br />\n        Enabling \"Unlimited\" approval approves our smart contract only once, but\n        it comes with the risk that in case of a software bug or an attack our\n        smart contract is allowed to pull the full available asset amount out of\n        your wallet.\n        <br />\n        Revoke allowances early to make sure that in an extraordinary situation\n        your assets are safe.\n        <span className=\"d-block mt-2\">\n          <b>Hint: </b>MetaMask supports fine control for approval just before\n          you confirm the approve transaction\n        </span>\n        <table className=\"mt-4 w-100 tk-aktiv-grotesk-condensed font-14 text-center\">\n          <thead>\n            <tr>\n              <td>Asset</td>\n              <td>Unlimited</td>\n              <td>Allowance</td>\n              <td>Revoke</td>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.entries(balances).map(([k, v], index) => (\n              <tr key={`AT_${index}`}>\n                <td>{k}</td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    onChange={(e) => setCheck(index, e.target.checked)}\n                    defaultChecked={(checkMask & (1 << index)) !== 0}\n                  />\n                </td>\n                <td>\n                  {v.allowance < 0 ? 'UNLIMITED' : v.allowance.toFixed(2)}\n                </td>\n                <td>\n                  <button\n                    className={'wolves-btn font-16 white-border'}\n                    disabled={approving.includes(k) || v.allowance === 0}\n                    onClick={() => revoke(k)}\n                  >\n                    REVOKE\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Approval);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './asset_input.css';\n\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\ntype PROPS = {\n  currency: string;\n  defaultValue?: string;\n  minAmount: number;\n  maxAmount: number;\n  cb?: (n: number) => void;\n};\n\nfunction AssetInput({\n  cb,\n  currency,\n  defaultValue,\n  maxAmount,\n  minAmount,\n}: PROPS): JSX.Element {\n  const [hasFocus, setHasFocus] = useState(false);\n  const [amountChanged, setAmountChanged] = useState(false);\n  const inputRef: React.RefObject<HTMLInputElement> = useRef(null);\n\n  const handleOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.target.value = event.target.value\n      .replace(/[^0-9,.]/gi, '')\n      .replace(',', '.');\n    verifyAndCb();\n  };\n\n  const setMax = () => {\n    if (inputRef.current) inputRef.current.value = maxAmount.toString();\n    setAmountChanged(true);\n  };\n\n  const verifyAndCb = useCallback(() => {\n    if (cb && inputRef.current) {\n      const num =\n        minAmount === 0 && inputRef.current.value === ''\n          ? 0\n          : parseFloat(inputRef.current.value);\n      cb(num < minAmount || num > maxAmount ? NaN : num);\n    }\n  }, [cb, minAmount, maxAmount]);\n\n  useEffect(() => {\n    if (inputRef.current && !hasFocus) {\n      inputRef.current.value = defaultValue ?? '';\n      setAmountChanged(true);\n    }\n  }, [hasFocus, maxAmount, defaultValue]);\n\n  useEffect(() => {\n    if (defaultValue && inputRef.current) {\n      if (minAmount === 0 && parseFloat(defaultValue) === 0)\n        inputRef.current.value = '';\n      else inputRef.current.value = defaultValue;\n      setAmountChanged(true);\n    }\n  }, [defaultValue, minAmount]);\n\n  useEffect(() => {\n    if (amountChanged) {\n      setAmountChanged(false);\n      verifyAndCb();\n    }\n  }, [amountChanged, verifyAndCb]);\n\n  const maxVisible = inputRef.current\n    ? !hasFocus && inputRef.current.value === ''\n    : true;\n\n  return (\n    <div className=\"asset-input-container opaque\">\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        className=\"asset-input\"\n        onFocus={() => setHasFocus(true)}\n        onBlur={() => setHasFocus(false)}\n        onChange={handleOnChange}\n        ref={inputRef}\n      />\n      <div\n        className=\"asset-input-max\"\n        onClick={() => setMax()}\n        hidden={!maxVisible}\n      >\n        max\n      </div>\n      <div className=\"asset-input-currency\">{currency}</div>\n    </div>\n  );\n}\n\nexport default AssetInput;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Stable.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n} from '../../../stores/constants';\nimport {\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n} from '../../../stores/store';\nimport Approval from '../../Approval/Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction Stable({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [currencyIndex, setCurrencyIndex] = useState(0);\n  const [checkedIndex, setCheckedIndex] = useState(-1);\n  const [inputVals, setInputVals] = useState([0, 0, 0, 0, 0]);\n  const [txRunning, setTXRunning] = useState(false);\n  const [balances] = useState(StoreClasses.store.getAssets().balances);\n  const [modal, showModal] = useState(false);\n\n  const currencies = StoreClasses.store.getStableCurrencies();\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: inputVals.slice(0, currencies.length),\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    currencies.length === 0\n      ? 0\n      : tabOption === 0\n      ? balances[currencies[currencyIndex]].value\n      : (cfolioItem && cfolioItem.assets[currencyIndex]) ?? 0;\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  useEffect(() => {\n    if (tabOption) {\n      setCurrencyIndex(currencies.length - 1);\n      setCheckedIndex(0);\n    } else setCheckedIndex(-1);\n    setInputVals([0, 0, 0, 0, 0]);\n  }, [currencies, tabOption]);\n\n  useEffect(() => {\n    if (tabOption === 1) {\n      const newValues = Array.from({ length: currencies.length }, (v) => 0);\n      newValues[currencies.length - 1] = inputVals[currencies.length - 1];\n      if (checkedIndex >= 0 && curMaxAmount > 0) {\n        newValues[checkedIndex] = isNaN(inputVals[currencies.length - 1])\n          ? NaN\n          : (((cfolioItem && cfolioItem.assets[checkedIndex]) ?? 0) *\n              inputVals[currencies.length - 1]) /\n            curMaxAmount;\n      }\n      if (newValues.find((v, index) => v !== inputVals[index]) !== undefined) {\n        setInputVals(newValues);\n      }\n    }\n  }, [\n    checkedIndex,\n    currencies,\n    tabOption,\n    inputVals,\n    cfolioItem,\n    curMaxAmount,\n  ]);\n\n  const validCurrencies = () => {\n    if (tabOption === 1)\n      return isNaN(inputVals[currencies.length - 1])\n        ? undefined\n        : inputVals[currencies.length - 1] <= 0\n        ? []\n        : [currencies[currencies.length - 1]];\n    else if (inputVals.find((v) => isNaN(v)) !== undefined) return undefined;\n    else return currencies.filter((_, index) => inputVals[index] > 0);\n  };\n\n  const setCurrentValue = (v: number) => {\n    const newValues = inputVals.map((i) => i);\n    newValues[currencyIndex] = v;\n    setInputVals(newValues);\n  };\n\n  let vc: string[] | undefined;\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? (vc = validCurrencies()) === undefined\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : vc.length === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? {\n          l:\n            `WITHDRAW ${investCurrency}` +\n            (checkedIndex >= 0\n              ? ` AND RECEIVE ${currencies[checkedIndex]}`\n              : ''),\n          e: true,\n        }\n      : cfolioItem\n      ? { l: `DEPOSIT ${vc.join(' + ')}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (vc.length > 0 ? ` & DEPOSIT ${vc.join(' + ')}` : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'DEPOSIT MORE'\n    : sft?.isWallet\n    ? 'BUY \"STABLE I-NFT\" INTO MY WALLET'\n    : 'BUY \"STABLE I-NFT\" INTO MY C-FOLIO';\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'WITHDRAW')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {currencies[currencyIndex]}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      {/* Orange Horizontal Bar */}\n      <AssetInput\n        currency={currencies[currencyIndex]}\n        defaultValue={\n          isNaN(inputVals[currencyIndex]) || inputVals[currencyIndex] === 0\n            ? ''\n            : inputVals[currencyIndex].toString()\n        }\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        cb={(n) => setCurrentValue(n)}\n      />\n      <div id=\"currency-container\" className=\"tk-grotesk-lightbold mt-3\">\n        {currencies.map((currency, index) => (\n          <div\n            style={{ flexBasis: 100 / currencies.length - 1 + '%' }}\n            key={'cidx_' + index}\n            className={\n              index === currencyIndex\n                ? 'selected'\n                : index === checkedIndex\n                ? 'checked'\n                : ''\n            }\n            onClick={\n              index === currencyIndex\n                ? undefined\n                : tabOption === 1\n                ? () => setCheckedIndex(index === checkedIndex ? -1 : index)\n                : () => setCurrencyIndex(index)\n            }\n          >\n            {currency}\n            <br />\n            {isNaN(inputVals[index]) ? 'INVALID' : inputVals[index].toFixed(2)}\n          </div>\n        ))}\n      </div>\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(Stable);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './StakeLP.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n} from '../../../stores/constants';\nimport {\n  AssetStateresult,\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n} from '../../../stores/store';\nimport Approval from '../../Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction StakeLP({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [investAmount, setInvestAmount] = useState(0);\n  const [hasSft, setHasSft] = useState(false);\n  const [inputVal, setInputVal] = useState(0);\n  const [txRunning, setTXRunning] = useState(false);\n  const [modal, showModal] = useState(false);\n\n  if ((sft === undefined) === hasSft) {\n    if (hasSft) setInvestAmount(0);\n    setHasSft(sft !== undefined);\n  }\n\n  useEffect(() => {\n    const onAssetsState = (params: AssetStateresult) => {\n      if (params.status === 'balances') {\n        setInvestAmount(\n          StoreClasses.store.getAssets().balances['WETH/WOWS LP'].value\n        );\n      }\n    };\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(ASSETS_STATE, onAssetsState);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n      StoreClasses.emitter.off(ASSETS_STATE, onAssetsState);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'STAKE MORE'\n    : sft?.isWallet\n    ? 'ADD \"STAKE I-NFT\" INTO MY WALLET'\n    : 'ADD \"STAKE I-NFT\" INTO MY C-FOLIO';\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: [inputVal],\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    tabOption === 0 ? investAmount : (cfolioItem && cfolioItem.assets[0]) ?? 0;\n\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? isNaN(inputVal)\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : inputVal === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? { l: `UNSTAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : cfolioItem\n      ? { l: `STAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (inputVal > 0\n              ? ` & STAKE ${inputVal.toFixed(2)} ${investCurrency}`\n              : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'UNSTAKE')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {investCurrency}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      <AssetInput\n        currency={investCurrency}\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        defaultValue={\n          isNaN(inputVal) || inputVal === 0 ? '' : inputVal.toString()\n        }\n        cb={(n) => setInputVal(n)}\n      />\n      <span className=\"d-block left mt-1 font-14\">\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={\n            'https://app.uniswap.org/#/add/v2/ETH/' +\n            StoreClasses.store._getTokenContractAddress()\n          }\n        >\n          <u>GET UNI-V2 WOWS/ETH LP TOKENS HERE</u>\n        </a>\n      </span>\n\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(StakeLP);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './CFolioInvest.css';\n\nimport { ethers } from 'ethers';\nimport React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\n//import CoverLogo from '../../assets/COVER_LOGO_SMALL.png';\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport { ASSETS_STATE } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEMS } from '../types/cards';\nimport Stable from './Stable/Stable';\nimport StakeLP from './StakeLP/StakeLP';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype CFI_RENDER = {\n  cfolioItem?: SFTCHILD;\n  index: number;\n};\n\ntype STATE = {\n  cfiRender: CFI_RENDER[];\n  currentImage: number;\n  modalOpen: boolean;\n};\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\n// CFolio Investment\n\nclass CFolioInvest extends React.Component<PROPS, STATE> {\n  receiverImages: IMAGE[] = [];\n  cards?: CARDS;\n  cfolioItems?: CFOLIO_ITEMS;\n  sliderInterface?: IMAGE_SLIDER_INTERFACE;\n  slideIndex = 0;\n  displayType = '';\n  toolTippLink = '';\n  continueBuy: (() => void) | undefined;\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      cfiRender: [],\n      currentImage: 0,\n      modalOpen: false,\n    };\n    this._onAssetsState = this._onAssetsState.bind(this);\n    this.sliderCB = this.sliderCB.bind(this);\n\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n    this.displayType = query.get('type') || 'lpInvestment';\n    this.toolTippLink = '?type=' + this.displayType;\n  }\n\n  setCurrentImage(val: number) {\n    const { cfiRender } = this.state;\n    const { history } = this.props;\n    if (cfiRender[val].cfolioItem) {\n      history.push(\n        `?type=${this.displayType}&tokenId=${cfiRender[\n          val\n        ].cfolioItem?.tokenId.toHexString()}`\n      );\n    } else {\n      history.push(`?type=${this.displayType}&item=${cfiRender[val].index}`);\n    }\n  }\n\n  componentDidUpdate() {\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n    const newDisplayType = query.get('type') || 'lpInvestment';\n\n    if (newDisplayType !== this.displayType) {\n      this.displayType = newDisplayType;\n      this.slideIndex = 0;\n      this.sliderInterface?.go(0);\n      this.toolTippLink = '?type=' + this.displayType;\n      this.setState({ currentImage: 0 });\n      this._updateImages();\n    }\n\n    let index: number | undefined;\n    if (query.get('tokenId')) {\n      const newTokenId = ethers.BigNumber.from(query.get('tokenId'));\n      index = this.state.cfiRender.findIndex(\n        (elem) => elem.cfolioItem && elem.cfolioItem.tokenId.eq(newTokenId)\n      );\n    } else if (query.get('item')) {\n      const item = parseInt(query.get('item') || '-1');\n      index = this.state.cfiRender.findIndex(\n        (elem) => !elem.cfolioItem && elem.index === item\n      );\n    }\n\n    if (index !== undefined) {\n      if (index >= 0) {\n        if (index !== this.state.currentImage) {\n          this.setState({ currentImage: index });\n        }\n      } else if (this.receiverImages.length > 0) {\n        query.delete('tokenId');\n        query.delete('item');\n        history.replace('?' + query.toString());\n        this.setState({ currentImage: 0 });\n        return;\n      }\n    }\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this._onAssetsState);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this._onAssetsState);\n  }\n\n  _onAssetsState(result: AssetStateresult) {\n    if (['loaded', 'cards', 'tokens'].includes(result.status)) {\n      this._updateImages();\n    } else if (result.status === 'cfolio_amount') {\n      this.setState({ currentImage: this.state.currentImage });\n    }\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    const cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const newImages: IMAGE[] = [];\n    const allowedLevel =\n      this.displayType === 'lpInvestment' ? 0xff000000f0 : 0xff0000000f;\n\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (\n        sft.isStockCard &&\n        sft.status === SFTS.UNLOCKED &&\n        (allowedLevel & (1 << cards.cards[sft.levelId].chainRef)) !== 0\n      ) {\n        const url =\n          cards.cards[sft.levelId].cards[sft.cardId].url\n            .replace('{res}', '300')\n            .replace('.mp4', '.mp4.jpg') || '';\n        newImages.push({\n          url,\n          tokenId: sft.tokenId,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      } else if (sft.isWallet) {\n        newImages.push({\n          url: WalletLogo,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      }\n    });\n\n    this.receiverImages = newImages;\n    this.cards = cards;\n    this._updateCFolioItems();\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled:\n          (sft.isWallet && cfi.status > 0) ||\n          cfolioItems[cfi.levelId].type !== this.displayType,\n      });\n    });\n    return result;\n  }\n\n  _updateCFolioItems() {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const cfiRender: CFI_RENDER[] = [];\n\n    if (cfolioItems.length > 0) {\n      this.cfolioItems = cfolioItems.filter(\n        (elem) => elem.type === this.displayType\n      )[0];\n\n      if (this.cfolioItems) {\n        // Get all cFolioItems from selected card.\n        if (\n          this.slideIndex >= 0 &&\n          this.slideIndex < this.receiverImages.length\n        ) {\n          const isWallet = this.receiverImages[this.slideIndex].sft.isWallet;\n          this.receiverImages[this.slideIndex].sft.cfolioItems.forEach(\n            (cfolioItem) => {\n              if (\n                cfolioItems[cfolioItem.levelId].type === this.displayType &&\n                (!isWallet || cfolioItem.status === 0)\n              )\n                cfiRender.push({ cfolioItem, index: cfolioItem.cardId });\n            }\n          );\n        }\n        // Get all New cards\n        cfiRender.push(\n          ...this.cfolioItems.cards.map((_, index) => {\n            return { index };\n          })\n        );\n      }\n    }\n    this.setState({ cfiRender });\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterface = iface;\n  }\n\n  sliderCB(_: string | undefined, index: number) {\n    if (index !== this.slideIndex) {\n      this.slideIndex = index;\n      this._updateCFolioItems();\n    }\n  }\n\n  beforeBuyCallback = (cb: () => void) => {\n    const { cfiRender, currentImage, modalOpen } = this.state;\n    if (\n      !modalOpen &&\n      cfiRender.length > 1 &&\n      this.slideIndex === 0 &&\n      currentImage < cfiRender.length\n    ) {\n      const currentRender = cfiRender[currentImage];\n      if (!currentRender.cfolioItem) {\n        this.continueBuy = cb;\n        this.setState({ modalOpen: true });\n        return false;\n      } else {\n        return true;\n      }\n    } else return true;\n  };\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const { cfiRender, modalOpen } = this.state;\n\n    const handleImageChange = (change: number) => {\n      if (cfiRender.length > 1) {\n        if (this.state.currentImage + change < 0) {\n          return this.setCurrentImage(cfiRender.length - 1);\n        }\n\n        if (this.state.currentImage + change >= cfiRender.length) {\n          return this.setCurrentImage(0);\n        }\n\n        return this.setCurrentImage(this.state.currentImage + change);\n      }\n    };\n\n    const renderItem =\n      this.state.currentImage < cfiRender.length &&\n      cfiRender[this.state.currentImage];\n    const renderCFolioItem = renderItem && renderItem.cfolioItem;\n    const cfolioItemCard =\n      this.cfolioItems &&\n      renderItem &&\n      this.cfolioItems.cards[renderItem.index];\n    const scroll = cfiRender.length > 1;\n\n    const controlAttr = {\n      nftPrice: cfolioItemCard ? cfolioItemCard.price : 0,\n      nftType: cfolioItemCard ? cfolioItemCard.chainRef : 0,\n      investCurrency: this.cfolioItems?.token ?? '',\n      cfolioItem: renderCFolioItem || undefined,\n      sft:\n        this.slideIndex < this.receiverImages.length\n          ? this.receiverImages[this.slideIndex].sft\n          : undefined,\n      beforeBuy: this.beforeBuyCallback,\n    };\n\n    const hideCB = () => {\n      this.setState({ modalOpen: false });\n    };\n\n    const continueBuy = () => {\n      this.setState({ modalOpen: false });\n      if (this.continueBuy) this.continueBuy();\n    };\n\n    return (\n      <>\n        <>\n          <div\n            className={\n              'flex-column justify-content-center bg-flat2 text-white text-center '\n            }\n          >\n            {/* Title & heading */}\n            <div>\n              <h2 className=\"mt-4 tk-vincente-lightbold font-28 single-line\">\n                {this.cfolioItems?.shortDescription}\n              </h2>\n              <h3 className=\"tk-grotesk-lightbold font-14\">\n                PICK YOUR HIGHEST LEVEL C-FOLIO TO INVEST WITH\n              </h3>\n            </div>\n\n            {/* Card slider */}\n            <div\n              className={\n                'd-flex justify-content-center bg-transparent-orange mb-3 '\n              }\n            >\n              <div className=\"vw-90-safe py-3  border_thin_t border_thin_b p_relative center_triangle_up center_triangle_down min-height-190\">\n                <button\n                  onClick={() => this.sliderInterface?.prev()}\n                  className={'slide__arrow slide__arrow--left slide__arrows'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  onSlideChanged={this.sliderCB}\n                  slideWidth={150}\n                  slides={this.receiverImages}\n                  startSlideId={this.slideIndex}\n                  toolTippLink={this.toolTippLink}\n                />\n                <button\n                  onClick={() => this.sliderInterface?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            <div\n              id=\"cfolioInvest-nav\"\n              className=\"tk-vincente-lightbold font-20 single-line\"\n            >\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                }`}\n                onClick={() => handleImageChange(-1)}\n              >\n                &lt;{t('page.previousCard')}\n              </span>\n\n              <Link\n                to={`/cfolio-sfts?type=${this.displayType}`}\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line c-pointer `}\n              >\n                BACK TO I-NFTs\n              </Link>\n\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                } `}\n                onClick={() => handleImageChange(1)}\n              >\n                {t('page.nextCard')}&gt;\n              </span>\n            </div>\n\n            {/* Content */}\n            <div\n              className={\n                'cfolioInvest-container wolves-header center-container my-3'\n              }\n            >\n              <div className=\"left d-flex flex-column align-items-center justify-content-even\">\n                {cfolioItemCard && (\n                  <img\n                    className=\"card-visual\"\n                    src={cfolioItemCard.url.replace('{res}', '500')}\n                    alt=\"\"\n                    style={{ width: '100%' }}\n                  />\n                )}\n              </div>\n\n              <div className={'right t-left'}>\n                <div>\n                  <h1\n                    className={\n                      'tk-vincente no-margin' +\n                      (renderCFolioItem ? ' wolves-text-shaddow' : '')\n                    }\n                  >\n                    {' '}\n                    {cfolioItemCard ? cfolioItemCard.name : 'NFT'}{' '}\n                    {renderCFolioItem ? ' - MY NFT' : ' - NEW NFT'}\n                  </h1>\n                  {cfolioItemCard && (\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}: {cfolioItemCard.motto}\n                      </span>\n                    </h3>\n                  )}\n                  <div\n                    className={'tk-grotesk-lightbold font-16 line-break-enable'}\n                  >\n                    <h3 className=\"tk-vincente\">\n                      {renderCFolioItem ? (\n                        <>\n                          TOKEN ID:{' '}\n                          {renderCFolioItem.tokenId.mask(128).toHexString()}\n                          <br />\n                          INVESTMENT:{' '}\n                          {renderCFolioItem.assets[\n                            renderCFolioItem.assets.length - 1\n                          ].toFixed(4)}\n                          {' ' + controlAttr.investCurrency}\n                        </>\n                      ) : (\n                        cfolioItemCard && (\n                          <>\n                            PRICE: {cfolioItemCard.price.toFixed(2)} WOWS\n                            <br />\n                            AVAILABLE:{' '}\n                            {cfolioItemCard.maxMintable - cfolioItemCard.minted}\n                            /{cfolioItemCard.maxMintable}\n                          </>\n                        )\n                      )}\n                    </h3>\n                    <p>{cfolioItemCard && cfolioItemCard.description}</p>\n                    <p>{this.cfolioItems?.description}</p>\n                  </div>\n                </div>\n                <div\n                  id=\"cfolioInvest-control\"\n                  className=\"bg-blue-transparent-light tk-grotesk-lightbold\"\n                >\n                  {this.displayType === 'lpInvestment' ? (\n                    <StakeLP {...controlAttr} />\n                  ) : (\n                    <Stable {...controlAttr} />\n                  )}\n                </div>\n                {/*<div className=\"d-flex p_relative mt-1\">\n                  <img id=\"cover-image\" src={CoverLogo} alt=\"COVER\" />\n                  <span id=\"cover-inner\">\n                    <a\n                      className=\"tk-grotesk-lightbold\"\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      href=\"https://wolvesofwallstreet.finance\"\n                    >\n                      <u>GET COVER INSURANCE FOR YOUR INVESTMENT</u>\n                    </a>\n                  </span>\n                  </div>*/}\n              </div>\n            </div>\n          </div>\n          {modalOpen && (\n            <Modal\n              show={true}\n              backdrop=\"static\"\n              onHide={hideCB}\n              animation={false}\n            >\n              <Modal.Body>\n                Your current target for the new I-NFT is \"My Wallet\". In order\n                to receive WOWS rewards, the new I-NFT has to be in one of your\n                CFolios.\n                <br />\n                If you want to buy the new I-NFT into one of your CFolios,\n                CANCEL this message and select a CFolio on top of the page.\n              </Modal.Body>\n              <Modal.Footer>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={continueBuy}\n                >\n                  CONTINUE\n                </button>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={hideCB}\n                >\n                  CANCEL\n                </button>\n              </Modal.Footer>\n            </Modal>\n          )}\n        </>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioInvest);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nexport type CARD = {\n  id: string;\n  chainRef: number;\n  minted: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: 'image' | 'movie';\n  url: string;\n};\n\nexport type CARD_LEVEL = {\n  levelId: number;\n  chainRef: number;\n  type: string;\n  quantity: number;\n  price: number;\n  autoUpgrade: string;\n  profitReward: number;\n  upgradeReward: number;\n  header: string;\n  cards: CARD[];\n};\n\nexport type CARDS = {\n  levelNames: string[];\n  cards: CARD_LEVEL[];\n};\n\nexport type CFOLIO_ITEM = {\n  id: string;\n  chainRef: number;\n  price: number;\n  minted: number;\n  maxMintable: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: string;\n  url: string;\n};\n\nexport type CFOLIO_ITEMS = {\n  type: string;\n  token: string;\n  title: string;\n  shortDescription: string;\n  description: string;\n  constraints?: 'wolves' | 'bois';\n  cards: CFOLIO_ITEM[];\n};\n\nexport const INITIAL_CFOLIO_ITEMS: CFOLIO_ITEMS = {\n  type: '',\n  token: '',\n  title: '',\n  shortDescription: '',\n  description: '',\n  cards: [],\n};\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './CFolioItemSfts.css';\n\nimport { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport { ASSETS_STATE } from '../../stores/constants';\nimport { AssetStateresult, StoreClasses } from '../../stores/store';\nimport { INITIAL_CFOLIO_ITEMS } from '../types/cards';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  currentType: string;\n};\n\nconst INITIAL_STATE: STATE = {\n  currentType: '',\n};\n\nclass CFolioItemSfts extends Component<PROPS, STATE> {\n  target = '';\n  constructor(props: PROPS) {\n    super(props);\n    this.state = INITIAL_STATE;\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateContent();\n  }\n\n  componentDidUpdate() {\n    this._updateContent();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'cards'].includes(status.status))\n      this.setState({ currentType: this.state.currentType });\n  }\n\n  _updateContent() {\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    const filter = query.get('type') || '';\n    if (filter !== this.state.currentType) {\n      this.target = 'cfolio-invest?type=' + filter;\n      this.setState({ currentType: filter });\n    }\n  }\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const storeItems = StoreClasses.store\n      .getAssets()\n      .cfolioItems.filter((elem) => elem.type === this.state.currentType);\n    const items = storeItems.length > 0 ? storeItems[0] : INITIAL_CFOLIO_ITEMS;\n    const cardRender =\n      items.cards.length &&\n      items.cards.map((card, index) => {\n        return (\n          <div className=\"cfisft-card\" key={this.state.currentType + index}>\n            <Link to={`${this.target}&item=${index}`}>\n              <img\n                className=\"card-media\"\n                src={card.url.replace('{res}', '500')}\n                alt={card.name}\n              />\n            </Link>\n            <div className=\"wrapper\">\n              <span className=\"tk-vincente-lightbold font-32 m-0 mt-2 line-h\">\n                {card.name}\n              </span>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.motto')}: {card.motto}\n              </span>\n              <hr className=\"wolves\" />\n              {\n                <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                  {t('page.available')}: {card.maxMintable - card.minted}/\n                  {card.maxMintable}\n                </span>\n              }\n              <span className=\"tk-grotesk-lightbold font-14 m-0 line-h ellipsis\">\n                {t('page.price')}: {card.price.toFixed(2)} WOWS\n              </span>\n            </div>\n          </div>\n        );\n      });\n\n    return (\n      <>\n        <div id=\"top\" className={'wolves-container wolves-header bg-wolves'}>\n          {/* Hero heading */}\n          <div className=\"mb-3\">\n            <h2 className=\"tk-vincente-lightbold m-0\">{items.title}</h2>\n            <h4 className=\"tk-grotesk-lightbold m-0\">\n              {items.shortDescription}\n            </h4>\n          </div>\n\n          {/* Line */}\n          <span className=\"line-container cfisft-line-w-80\">\n            <span id=\"left\" className=\"dot\" />\n            <span className=\"line\" />\n            <span id=\"right\" className=\"dot\" />\n          </span>\n\n          {/* Section title */}\n          <span className=\"tk-vincente-lightbold\">\n            <span className=\"font-24\">\n              CORE LP NFT\n              <div id=\"triangle-down\" />\n            </span>\n          </span>\n\n          {/* Cards listing */}\n          <div className=\"cfisft-card-container mt-1\">{cardRender}</div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioItemSfts);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\nimport '../theme/checkbox/wolve_checkbox.css';\nimport './CFolioManager.css';\n\nimport React from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  PayloadContentCFolioItemLT,\n  SFT,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEM, CFOLIO_ITEMS } from '../types/cards';\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\ninterface SUBIMAGE extends IMAGE_SLIDER_SLIDE {\n  constraints?: 'wolves' | 'bois';\n  cfolioItem: CFOLIO_ITEM;\n}\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  txPending: boolean;\n  sliderImagesTop: IMAGE[];\n  sliderImagesMiddle: SUBIMAGE[];\n  sliderImagesBottom: IMAGE[];\n  checkedMiddle: number[];\n};\n\nclass CFolioManager extends React.Component<PROPS, STATE> {\n  cards?: CARDS;\n  cfolioItemCards: CFOLIO_ITEMS[] = [];\n  sliderInterfaces: { [id: string]: IMAGE_SLIDER_INTERFACE } = {};\n  sliderIndex = [0, 0, 0];\n  sliderImagesMiddleAll: SUBIMAGE[] = [];\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      txPending: false,\n      sliderImagesTop: [],\n      sliderImagesMiddle: [],\n      sliderImagesBottom: [],\n      checkedMiddle: [],\n    };\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onTransfer = this.onTransfer.bind(this);\n    this.setSliderIndex = this.setSliderIndex.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'tokens'].includes(status.status)) this._updateImages();\n  }\n\n  onTransfer(status: StatusResult) {\n    if (['error', 'success'].includes(status.status))\n      this.setState({ txPending: false });\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    this.cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const pred = (sft: SFT) => sft.cfolioItems.length > 0;\n    const newImages = this._getSftImages(tokenIds, pred);\n\n    this.cfolioItemCards = assets.cfolioItems;\n    this.setState({ sliderImagesTop: newImages });\n    this.setState({ checkedMiddle: [] });\n\n    this._createSliderImages(newImages);\n  }\n\n  _getSftImages(\n    tokenIds: SFT[],\n    pred: (s: SFT) => boolean,\n    pred2?: (l: number, i: number) => boolean\n  ): IMAGE[] {\n    const result: IMAGE[] = [];\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (pred(sft)) {\n        if (sft.isStockCard && !sft.status) {\n          if (!pred2 || pred2(sft.levelId, sft.cardId)) {\n            const url =\n              this.cards?.cards[sft.levelId].cards[sft.cardId].url\n                .replace('{res}', '300')\n                .replace('.mp4', '.mp4.jpg') || '';\n            result.push({\n              url,\n              cfolioItems: this._cfolioItemsForSlider(sft),\n              tokenId: sft.tokenId,\n              sft,\n            });\n          }\n        } else if (sft.isWallet) {\n          result.push({\n            url: WalletLogo,\n            cfolioItems: this._cfolioItemsForSlider(sft),\n            sft,\n          });\n        }\n      }\n    });\n    return result;\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled: false,\n      });\n    });\n    return result;\n  }\n\n  _createSliderImages(topImages: IMAGE[]) {\n    this.sliderImagesMiddleAll = [];\n    const bottomImages: IMAGE[] = [];\n    const constraints: { [x: string]: boolean } = {};\n\n    if (this.sliderIndex[0] < topImages.length) {\n      const cfolioItems = topImages[this.sliderIndex[0]].sft.cfolioItems;\n      cfolioItems.forEach((cfi) => {\n        let cfiCard: CFOLIO_ITEM | undefined;\n        const cat = this.cfolioItemCards.find(\n          (category) =>\n            (cfiCard = category.cards.find(\n              (card) => card.chainRef === cfi.type\n            ))\n        );\n        if (cfiCard) {\n          this.sliderImagesMiddleAll.push({\n            url: cfiCard?.url.replace('{res}', '300'),\n            locked: cfi.status > 0,\n            constraints: cat?.constraints,\n            cfolioItem: cfiCard,\n            tokenId: cfi.tokenId,\n            cfolioItems: [],\n          });\n          if (cat?.constraints) {\n            constraints[cat.constraints] = true;\n          } else {\n            constraints['wolves'] = true;\n            constraints['bois'] = true;\n          }\n        }\n      });\n\n      // Create bottom images, only contraint matching\n      // and never insert current selected top element\n      const pred = (sft: SFT) =>\n        sft.tokenId !== topImages[this.sliderIndex[0]].sft.tokenId;\n      const pred2 = (l: number, i: number) =>\n        constraints[this.cards?.cards[l].type || ''];\n      bottomImages.push(\n        ...this._getSftImages(\n          StoreClasses.store.getAssets().userSFT,\n          pred,\n          pred2\n        )\n      );\n    } else if (topImages.length > 0) {\n      return;\n    }\n    this.setState({ sliderImagesBottom: bottomImages });\n    this._filterSliderImagesMiddle(topImages, bottomImages, false);\n  }\n\n  _filterSliderImagesMiddle(\n    topImages: IMAGE[],\n    bottomImages: IMAGE[],\n    onlyIfChanged: boolean\n  ) {\n    let sliderImagesMiddle: SUBIMAGE[] = [];\n    if (\n      this.cards &&\n      this.sliderIndex[2] < bottomImages.length &&\n      this.sliderIndex[0] < topImages.length\n    ) {\n      if (\n        bottomImages[this.sliderIndex[2]].sft.isWallet ||\n        !topImages[this.sliderIndex[0]].sft.isWallet\n      ) {\n        sliderImagesMiddle = this.sliderImagesMiddleAll;\n      } else {\n        const filter =\n          this.cards.cards[bottomImages[this.sliderIndex[2]].sft.levelId].type;\n        sliderImagesMiddle = this.sliderImagesMiddleAll.filter(\n          (elem) => !elem.constraints || elem.constraints === filter\n        );\n      }\n    }\n    if (\n      !onlyIfChanged ||\n      JSON.stringify(sliderImagesMiddle) !==\n        JSON.stringify(this.state.sliderImagesMiddle)\n    ) {\n      this.setState({ checkedMiddle: [] });\n      this.setState({ sliderImagesMiddle });\n    }\n  }\n\n  setSliderIndex(id: string | undefined, index: number, checked?: number[]) {\n    const pos = parseInt(id ?? '0');\n    this.sliderIndex[pos] = index;\n    if (pos === 0) this._createSliderImages(this.state.sliderImagesTop);\n    else if (pos === 1 && checked && checked !== this.state.checkedMiddle)\n      this.setState({ checkedMiddle: checked });\n    else if (pos === 2) {\n      this._filterSliderImagesMiddle(\n        this.state.sliderImagesTop,\n        this.state.sliderImagesBottom,\n        true\n      );\n    }\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterfaces[id || 'default'] = iface;\n  }\n\n  handleBuy() {\n    const request: PayloadContentCFolioItemLT = {\n      src: this.state.sliderImagesTop[this.sliderIndex[0]].sft.tokenId,\n      dst: this.state.sliderImagesBottom[this.sliderIndex[2]].sft.tokenId,\n      lockedCFIs: [],\n      transferCFIs: [],\n    };\n    this.state.checkedMiddle.forEach((n) => {\n      if (this.state.sliderImagesMiddle[n].locked)\n        request.lockedCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n      else\n        request.transferCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n    });\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch({\n      type: CFOLIO_ITEM_UNLOCK_TRANSFER,\n      content: request,\n    });\n  }\n\n  render() {\n    let lockedCount = 0;\n    this.state.checkedMiddle.forEach(\n      (n) => (lockedCount += this.state.sliderImagesMiddle[n].locked ? 1 : 0)\n    );\n    const majority = this.state.checkedMiddle.length > 1 ? 's' : '';\n    const buttonState = this.state.txPending\n      ? { l: 'TRANSACTION PENDING', e: false }\n      : this.state.sliderImagesTop.length > 0\n      ? this.state.checkedMiddle.length > 0\n        ? lockedCount > 0\n          ? {\n              l: `UNLOCK (${lockedCount}) AND TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n          : {\n              l: `TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n        : { l: 'NOTHING SELECTED', e: false }\n      : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n    return (\n      <>\n        <div className={'cfm-container bg-wolves'}>\n          {/* Title & heading */}\n          <div>\n            <h2 className=\"tk-vincente-lightbold font-28 mt-1 single-line\">\n              {'WELCOME TO YOUR C-FOLIO TRANSFER MANAGER'}\n            </h2>\n            <h3 className=\"tk-grotesk-lightbold font-14\">\n              {'MANAGE YOUR ASSETS WITH MULTI TRANSACTIONS IN ONE.'}\n            </h3>\n          </div>\n\n          <div\n            className={\n              'd-flex flex-column bg-blue-transparent wolves-orange-border font-16 my-2 pt-2'\n            }\n          >\n            {/* Card slider-1 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center-container center_triangle_down rotate-180'\n              }\n            >\n              <div className=\"d-flex\">\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesTop}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* Card slider-2 */}\n            <div className={'w-90-safe center-container pt-2'}>\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"1\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={135}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesMiddle}\n                  checkbox={true}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* center btn, arrow */}\n            <div\n              className={\n                'center-container d-flex flex-column justify-content-center align-items-center'\n              }\n            >\n              <button\n                disabled={!buttonState.e}\n                className={'wolves-btn white-border w280px font-14'}\n                onClick={this.handleBuy.bind(this)}\n              >\n                {buttonState.l}\n              </button>\n              <div className={'arrow_down mt-1'} />\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* Card slider-3 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center_triangle_down center-container'\n              }\n            >\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[2].prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"2\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesBottom}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[2]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioManager);\n","export default __webpack_public_path__ + \"static/media/icons_discord.e3adf3ed.svg\";","export default __webpack_public_path__ + \"static/media/icons_etherscan.ece3f2bb.svg\";","export default __webpack_public_path__ + \"static/media/icons_github.07a75d5f.svg\";","export default __webpack_public_path__ + \"static/media/icons_TG.e3e58f9f.svg\";","export default __webpack_public_path__ + \"static/media/icons_Twitter.b8aba8a1.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport React, { Component, ReactNode } from 'react';\n\nimport discord from '../../assets/icons_discord.svg';\nimport etherscan from '../../assets/icons_etherscan.svg';\nimport github from '../../assets/icons_github.svg';\nimport telegram from '../../assets/icons_TG.svg';\nimport twitter from '../../assets/icons_Twitter.svg';\n\nclass Social extends Component {\n  render(): ReactNode {\n    return (\n      <div className=\"social-menu\">\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://twitter.com/WolvesWallst\"\n          >\n            <img src={twitter} alt=\"Twitter\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://etherscan.io/address/0x672EF7E4Fe230B5cA1466C5fDD40588d30FdF90a\"\n          >\n            <img src={etherscan} alt=\"Etherscan\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://github.com/wolvesofwallstreet\"\n          >\n            <img src={github} alt=\"Github\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://discord.gg/CCqZtze8kg\"\n          >\n            <img src={discord} alt=\"Discord\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://t.me/wolveswallstreet\"\n          >\n            <img src={telegram} alt=\"Telegram\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Social;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './footer.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport Social from '../social/social';\n\ntype FooterProps = {\n  t: TFunction;\n};\n\ntype FooterState = {\n  showModal: boolean;\n  policyChanged: boolean;\n};\n\nclass Footer extends Component<FooterProps, FooterState> {\n  privacyFile = '';\n  privacyTerms = '';\n\n  constructor(props: FooterProps) {\n    super(props);\n    this.state = { showModal: false, policyChanged: false };\n  }\n\n  loadTerms() {\n    const { t } = this.props;\n    const privacyFile = t('privacyTermsFile');\n\n    if (privacyFile !== this.privacyFile) {\n      import('../../locales/en_US/privacy_policy.json').then((text) => {\n        this.privacyTerms = text.default.policy;\n        this.setState({ policyChanged: !this.state.policyChanged });\n      });\n      this.privacyFile = privacyFile;\n    }\n  }\n\n  render(): ReactNode {\n    const { showModal } = this.state;\n    this.loadTerms();\n\n    return (\n      <div className=\"footer-main\">\n        <p className=\"footer-notes tk-grotesk-lightbold\">\n          BY MAKING USE OF THE WOLVES OF WALL STREET PLATFORM YOU ARE AWARE OF\n          THE RISKS ASSOCIATED WITH TRANSACTIONS OF DIGITAL TOKEN. YOU ARE USING\n          THE PLATFORM AT YOUR OWN RISK.\n          <br />\n          ALL LIABILITY RESIDES WITH THE USER AND THE WOLVES OF WALL STREET\n          SHALL NOT BE LIABLE FOR ANY SUCH RISKS OR ADVERSE OUTCOMES.\n          <br />\n          COPYRIGHT&copy; ALL RIGHTS RESERVED WOLVES OF WALL STREET 2021\n        </p>\n        <div className=\"footer-terms-container\">\n          <Social />\n          <div\n            className=\"footer-notes footer-terms tk-grotesk-lightbold\"\n            onClick={() => this.setState({ showModal: true })}\n          >\n            PRIVACY TERMS & CONDITIONS\n          </div>\n        </div>\n        <Modal\n          show={showModal}\n          onHide={() => this.setState({ showModal: false })}\n          size=\"lg\"\n          animation={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              <h1>Terms & Conditions</h1>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body dangerouslySetInnerHTML={{ __html: this.privacyTerms }} />\n          <Modal.Footer />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Footer);\n","export default __webpack_public_path__ + \"static/media/wolves_sft_logo.4ce0479e.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './header.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Form, Image, Navbar } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport logo from '../../assets/wolves_sft_logo.svg';\nimport { ASSETS_STATE, CONNECTION_CHANGED } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  ConnectResult,\n  StoreClasses,\n} from '../../stores/store';\n\ninterface HEADER_PROPS {\n  location: Location;\n  t: TFunction;\n}\n\ninterface HEADER_STATE {\n  address: string;\n  networkName: string;\n  wowsPrice?: number;\n  wowsAmount?: number;\n  isSidechain?: boolean;\n}\n\ntype DropDownItem = {\n  id: string;\n  to: string;\n};\n\ntype NAVITEM = {\n  id: string;\n  to: string;\n  disabled: boolean;\n  dropdown?: boolean;\n  dropdownItems?: DropDownItem[];\n};\n\nclass Header extends Component<HEADER_PROPS, HEADER_STATE> {\n  store = StoreClasses.store;\n  emitter = StoreClasses.emitter;\n\n  constructor(props: HEADER_PROPS) {\n    super(props);\n    this.state = {\n      address: '',\n      networkName: '',\n      wowsAmount: 0,\n      isSidechain: false,\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.renderDropDown = this.renderDropDown.bind(this);\n  }\n\n  componentDidMount(): void {\n    this.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    this.emitter.on(ASSETS_STATE, this.onAssetsState);\n  }\n\n  componentWillUnmount(): void {\n    this.emitter.off(ASSETS_STATE, this.onAssetsState);\n    this.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') this.setState(params);\n    const isSidechain = this.store.isSidechain();\n    if (isSidechain !== this.state.isSidechain) this.setState({ isSidechain });\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'rewards') {\n      const wowsPrice = StoreClasses.store.getAssets().rewardInfo[0].priceWOWS;\n      this.setState({\n        wowsPrice: wowsPrice > 0 ? wowsPrice : undefined,\n      });\n    }\n    if (status.status === 'balances') {\n      this.setState({\n        wowsAmount: StoreClasses.store.getAssets().balances['WOWS'].value,\n      });\n    }\n  }\n\n  handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n    if (this.store.isConnected()) {\n      this.store.disconnect(true, true);\n    } else {\n      this.store.connect();\n    }\n    event.preventDefault();\n  }\n\n  _shortAddress(): string {\n    const { address, networkName } = this.state;\n    return address !== ''\n      ? address.substring(0, 6) +\n          '...' +\n          address.substring(address.length - 4, address.length) +\n          ' (' +\n          networkName +\n          ')'\n      : 'CONNECT WALLET';\n  }\n\n  renderDropDown(title: string, dropdownItems: DropDownItem[]): ReactNode {\n    const { pathname, search } = this.props.location;\n\n    return (\n      <span className=\"nav-item dropdown mx-0 my-0\" key={Math.random() + title}>\n        <span\n          className=\"nav-link dropdown-toggle text-white navbar-text\"\n          data-bs-toggle=\"dropdown\"\n          aria-expanded=\"false\"\n        >\n          {title}\n        </span>\n        <ul className=\"dropdown-menu bg-blue-transparent-dark translateY_-10\">\n          {dropdownItems.map((item, index) => {\n            const isActiveNav = pathname + search === item.to;\n            return (\n              <li key={'navLink' + index}>\n                {isActiveNav && (\n                  <span className=\"dropdown-item active\"> {item.id} </span>\n                )}\n                {!isActiveNav && (\n                  <Link className=\"dropdown-item\" to={item.to}>\n                    {item.id}\n                  </Link>\n                )}\n              </li>\n            );\n          })}\n        </ul>\n      </span>\n    );\n  }\n\n  _getNavItems(): NAVITEM[] {\n    const { location, t } = this.props;\n    const query = new URLSearchParams(location.search);\n    const type = query.get('type');\n    const levelId = query.get('levelId') || 0;\n    const result = StoreClasses.store.isSidechain()\n      ? [\n          {\n            id: 'WOLF TRADE FLOOR',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.viewWolvesCf'),\n                to: '/shop?type=wolves&levelId=' + levelId,\n                disabled: type === 'wolves',\n              },\n              {\n                id: t('header.buyStake'),\n                to: '/cfolio-sfts?type=lpInvestment',\n              },\n              {\n                id: t('header.stakeInvest'),\n                to: '/cfolio-invest?type=lpInvestment',\n              },\n            ],\n          },\n          {\n            id: 'BOIS BOARDROOMS',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.viewBoisCf'),\n                to: '/shop?type=bois&levelId=' + levelId,\n                disabled: type === 'bois',\n              },\n              {\n                id: t('header.buyYearn'),\n                to: '/cfolio-sfts?type=stableInvestment',\n              },\n              {\n                id: t('header.yearnInvest'),\n                to: '/cfolio-invest?type=stableInvestment',\n              },\n            ],\n          },\n          {\n            id: t('header.myPack'),\n            to: '/my?type=myPack&levelId=' + levelId,\n            disabled: location.pathname === '/my',\n          },\n          {\n            id: 'C-FOLIO MANAGER',\n            to: '/c_folio_manager',\n            disabled: location.pathname === '/c_folio_manager',\n          },\n        ]\n      : [\n          {\n            id: 'WOLF TRADE FLOOR',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.wolvesCf'),\n                to: '/shop?type=wolves&levelId=' + levelId,\n                disabled: type === 'wolves',\n              },\n            ],\n          },\n          {\n            id: 'BOIS BOARDROOMS',\n            to: '/wolf_trade_floor-1',\n            disabled: location.pathname === '/wolf_trade_floor',\n            dropdownItems: [\n              {\n                id: t('header.boisCf'),\n                to: '/shop?type=bois&levelId=' + levelId,\n                disabled: type === 'bois',\n              },\n            ],\n          },\n          {\n            id: t('header.myPack'),\n            to: '/my?type=myPack&levelId=' + levelId,\n            disabled: location.pathname === '/my',\n          },\n          {\n            id: 'WOWS V1',\n            to: 'https://appv1.wows.finance',\n            disabled: false,\n          },\n        ];\n    return result;\n  }\n\n  render(): ReactNode {\n    const shortAddress = this._shortAddress();\n    const navItems = this._getNavItems();\n    const isSidechain = this.state.isSidechain;\n    return (\n      <Navbar bg=\"wolf\" variant=\"dark\" expand=\"md\">\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Brand className=\"navbar-brand mr-auto\" as={Link} to=\"/\">\n          <Image src={logo} width=\"300\" className=\"logo\" />\n        </Navbar.Brand>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          {navItems.map((navItem: NAVITEM, index: number) => {\n            // render Dropdown items\n            if ('dropdownItems' in navItem && navItem.dropdownItems) {\n              return this.renderDropDown(\n                navItem.id,\n                navItem?.dropdownItems as DropDownItem[]\n              );\n            }\n\n            // Active nav item\n            if (navItem.disabled) {\n              return <span key={index}>{navItem.id}</span>;\n            }\n\n            // nav item\n            return navItem.to.startsWith('http') ? (\n              <a key={index} href={navItem.to}>\n                {navItem.id}\n              </a>\n            ) : (\n              <Link key={index} to={navItem.to}>\n                {' '}\n                {navItem.id}\n              </Link>\n            );\n          })}\n        </Navbar.Collapse>\n\n        <div className=\"dp-conn-container\">\n          <div className=\"dp-chain-container\">\n            <span\n              className={`icon ethereum${isSidechain ? '' : ' selected'}`}\n              onClick={() => StoreClasses.store.switchChain('ethereum')}\n            />\n            <span\n              className={`icon polygon${isSidechain ? ' selected' : ''}`}\n              onClick={() => StoreClasses.store.switchChain('polygon')}\n            />\n          </div>\n          <div>\n            <Form onSubmit={this.handleSubmit}>\n              <input\n                className=\"wolves-btn dp-conn-btn\"\n                type=\"submit\"\n                value={shortAddress}\n              />\n            </Form>\n            {this.state.wowsPrice !== undefined && (\n              <span className=\"dp-conn-price\">\n                1 WOWS &asymp; ${this.state.wowsPrice.toFixed(0)}\n              </span>\n            )}\n            <br />\n            {this.state.wowsAmount !== undefined && (\n              <span className=\"dp-conn-price\">\n                My WOWS: {this.state.wowsAmount.toFixed(2)}\n              </span>\n            )}\n          </div>\n        </div>\n      </Navbar>\n    );\n  }\n\n  scrollSection(section: string): void {\n    section = '';\n  }\n}\n\nexport default withTranslation()(Header);\n","export default __webpack_public_path__ + \"static/media/bois_shadow.b0ae95a7.png\";","export default __webpack_public_path__ + \"static/media/wolves_shadow.717f45ae.png\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page1.css';\n\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport BoisLogo from '../../assets/bois_shadow.png';\nimport WolvesLogo from '../../assets/wolves_shadow.png';\nimport { StoreClasses } from '../../stores/store';\n\ntype PAGE1_PROPS = {\n  t: TFunction;\n};\n\nfunction Page1(props: PAGE1_PROPS) {\n  const { t } = props;\n  return (\n    <div className=\"page1-container\">\n      <div className=\"page1-title-box\">\n        {/* <WowsStatus /> */}\n        <div className=\"page1-title-box-text\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.head1')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">{t('page1.head2')}</h3>\n          {!StoreClasses.store.isSidechain() && (\n            <>\n              <a\n                id=\"wows-link\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href={`https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=${StoreClasses.store._getTokenContractAddress()}&use=v2`}\n              >\n                BUY WOWS ON UNISWAP V.2\n              </a>\n              <br />\n              <a\n                id=\"wows-link-migrate\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                rel=\"noreferrer\"\n                href={'https://appv1.wows.finance'}\n              >\n                <b>VISIT V1 AND MIGRATE MY CFOLIO's</b>\n              </a>\n            </>\n          )}\n        </div>\n      </div>\n      {/************** Left ************/}\n      <div className=\"page1-bg page1-left\">\n        <span className=\"page1-line-v\" />\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.wolves2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <span className=\"page1-line-h\" />\n          <span className=\"page1-dot\" />\n          <Link to=\"/shop?type=wolves\">\n            <img src={WolvesLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n      {/************** Right ************/}\n      <div className=\"page1-bg page1-right\">\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.bois2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <Link to=\"/shop?type=bois\">\n            <img src={BoisLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withTranslation()(Page1);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABjCAYAAACPO76VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyMTA2RUNGM0UxODExRUI4NjM2ODVGMEIwREEwNTI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyMTA2RUQwM0UxODExRUI4NjM2ODVGMEIwREEwNTI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjIxMDZFQ0QzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjIxMDZFQ0UzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6zocrdAAAcrklEQVR42uxd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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './cardbox.css';\n\nimport { TFunction } from 'i18next';\nimport { RefObject, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n  BIGNUMBER_MAX,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\n\ntype CARDBOX_PROPS = {\n  sft?: SFT;\n  cfolio?: SFTCHILD;\n  earned: number;\n  t: TFunction;\n  progressRefs?: RefObject<HTMLSpanElement>[];\n};\n\nexport function CardBox(props: CARDBOX_PROPS): JSX.Element {\n  const { cfolio, earned, progressRefs, sft, t } = props;\n  const assets = StoreClasses.store.getAssets();\n  const progressRef: RefObject<HTMLSpanElement> = useRef(null);\n\n  useEffect(() => {\n    progressRefs?.push(progressRef);\n    return () => {\n      progressRefs?.splice(progressRefs.indexOf(progressRef), 1);\n    };\n  }, [progressRefs]);\n\n  let name,\n    motto,\n    levelId,\n    type,\n    tokenId,\n    cardId,\n    cardType,\n    url,\n    quantity,\n    price,\n    minted,\n    prowess,\n    status,\n    investment;\n  if (sft) {\n    const level = assets.cards.cards[sft.levelId];\n    const card = level.cards[sft.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = level.levelId;\n    tokenId = sft.tokenId !== BIGNUMBER_MAX ? sft.tokenId : undefined;\n    type = tokenId ? 'myPack' : level.type;\n    cardId = card.id;\n    cardType = card.type;\n    url = card.url;\n    quantity = level.quantity;\n    minted = card.minted;\n    price = level.price;\n    prowess = sft.rewardRate;\n    status = sft.status;\n  } else if (cfolio) {\n    const level = assets.cfolioItems[cfolio.levelId];\n    const card = level.cards[cfolio.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = 4;\n    type = 'myPack';\n    tokenId = cfolio.tokenId;\n    cardId = cfolio.cardId;\n    cardType = 'image';\n    url = card.url;\n    quantity = card.maxMintable;\n    minted = card.minted;\n    price = card.price;\n    prowess = 0;\n    status = cfolio.status;\n    investment =\n      cfolio.assets[0].toFixed(6) +\n      ' ' +\n      assets.cfolioItems[cfolio.levelId].token;\n  } else return <></>;\n\n  const renderCFolioItems = () => {\n    if (sft && sft.cfolioItems.length > 0) {\n      const topOffset =\n        sft.cfolioItems.length > 1\n          ? Math.min((314 - 82) / (sft.cfolioItems.length - 1), 86)\n          : 0;\n      return (\n        <>\n          {sft.cfolioItems.map((sftc, index) => {\n            const cfi = assets.cfolioItems[sftc.levelId].cards[sftc.cardId];\n            return (\n              <img\n                key={'cfi' + index}\n                id=\"cfi-image\"\n                style={{ top: 6 + index * topOffset + 'px' }}\n                height=\"80px\"\n                alt={cfi.name}\n                src={cfi.url.replace('{res}', '300')}\n              />\n            );\n          })}\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className=\"card-container\">\n      <span className=\"tk-vincente-lightbold font-32\">{name}</span>\n      <Link\n        className=\"p_relative\"\n        to={\n          '/detail?type=' +\n          type +\n          '&levelId=' +\n          levelId +\n          '&cardId=' +\n          cardId +\n          (tokenId !== undefined ? '&tokenId=' + tokenId.toHexString() : '')\n        }\n      >\n        {cardType === 'movie' ? (\n          <video\n            disableRemotePlayback={true}\n            className=\"card-visual\"\n            autoPlay={true}\n            loop={true}\n            src={url?.replace('{res}', '300')}\n            poster={url?.replace('{res}', '300') + '.jpg'}\n            playsInline\n          />\n        ) : (\n          <img\n            className=\"card-visual\"\n            src={url?.replace('{res}', '300')}\n            alt={name}\n          />\n        )}\n        {status > 0 && (\n          <div className={status > SFTS.LOCKED ? 'bridged' : 'locked'} />\n        )}\n        {renderCFolioItems()}\n      </Link>\n      <div className=\"wrapper\">\n        <span id=\"triangle-up\" />\n        {tokenId !== undefined && (\n          <span className=\"tk-vincente-lightbold font-28\">\n            {`TOKEN ID: 0x${tokenId\n              .mask(128)\n              .toHexString()\n              .substr(2)\n              .padStart(8, '0')}`}\n          </span>\n        )}\n        <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n          {t('page.motto')}: {motto}\n        </span>\n        <span className=\"bg-orange my-2\">\n          <span\n            className=\"progress\"\n            ref={sft && sft.cfolioItems.length > 0 ? progressRef : undefined}\n          ></span>\n        </span>\n        {tokenId === undefined ? (\n          StoreClasses.store.isSidechain() ? (\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.availableOnETH')}\n            </span>\n          ) : (\n            <>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.available')}: {quantity - minted}/{quantity}\n              </span>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis line-h\">\n                {t('page.price')}: {price} WOWS{' '}\n              </span>\n            </>\n          )\n        ) : sft && StoreClasses.store.isSidechain() ? (\n          <>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.prowess')}: {prowess / 10000}%\n            </span>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.earned')}: {earned.toFixed(6)} WOWS\n            </span>\n          </>\n        ) : (\n          StoreClasses.store.isSidechain() && (\n            <>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.investment')}: {investment}\n              </span>\n            </>\n          )\n        )}\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page3.css';\n\nimport React, { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_REWARD,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport { CARDS } from '../types/cards';\nimport { CardBox } from './cardbox';\n\ntype PAGE3_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n  display: 'shop' | 'auction' | 'my';\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE3_STATE = {\n  contentLoaded: boolean;\n  contentChanged: boolean;\n  type: QueryType;\n  levelId: number;\n  isWalletConnected: boolean;\n};\n\nconst INITIAL_PAGE3_STATE: PAGE3_STATE = {\n  contentLoaded: false,\n  contentChanged: false,\n  type: 'wolves',\n  levelId: -1,\n  isWalletConnected: false,\n};\n\nclass Page3 extends Component<PAGE3_PROPS, PAGE3_STATE> {\n  content: CARDS = {\n    levelNames: [],\n    cards: [],\n  };\n  levelDescription = '';\n  tokenIds: SFT[] = [];\n  walletTokenIds: SFTCHILD[] = [];\n  levelFilter = 0;\n  nextLevel = -1;\n  prevLevel = -1;\n  scrollOnUpdate = true;\n  mainRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  progessStart: Date = new Date();\n  progressRefs: React.RefObject<HTMLSpanElement>[] = [];\n  progressInterval?: number;\n\n  constructor(props: PAGE3_PROPS) {\n    super(props);\n    this.state = INITIAL_PAGE3_STATE;\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._checkContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateRewards();\n  }\n\n  componentDidUpdate(): void {\n    this._checkContent();\n    if (this.scrollOnUpdate) {\n      this.mainRef.current?.scrollIntoView();\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    window.clearInterval(this.progressInterval);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (!['error', 'cfolio_amount'].includes(status.status)) {\n      this.setState({ contentChanged: true });\n      if (status.status === 'tokens') {\n        this.setState({ levelId: -1 });\n        this._updateRewards();\n      }\n    }\n  }\n\n  _checkContent(): void {\n    const { display, history, location } = this.props;\n    const { type } = this.state;\n    let { contentLoaded } = this.state;\n    let { levelId } = this.state;\n\n    const query = new URLSearchParams(location.search);\n    const newType = query.get('type') as QueryType;\n\n    if (newType !== type) {\n      this.setState({ type: newType });\n      levelId = -1;\n      contentLoaded = false;\n    }\n    if (!contentLoaded) {\n      this.content = StoreClasses.store.getAssets().cards;\n    }\n    if (this.state.contentChanged) this.setState({ contentChanged: false });\n\n    if (this.content.levelNames.length > 0) {\n      if (!contentLoaded) {\n        this.setState({ contentLoaded: true, levelId: -1 });\n        return;\n      }\n      const newLevelId = parseInt(query.get('levelId') || '0') | 0;\n      if (levelId !== newLevelId) {\n        window.clearInterval(this.progressInterval);\n        this.progressInterval = undefined;\n        // retrieve level description\n        // reset level filter\n        this.levelFilter = 0;\n        if (display !== 'my') {\n          this.content.cards.forEach((level) => {\n            if (level.type === newType && level.cards.length > 0)\n              this.levelFilter |= 1 << level.levelId;\n          });\n          const idx = this.content.cards.findIndex(\n            (level) => level.levelId === newLevelId && level.type === newType\n          );\n          if (idx >= 0) {\n            this.levelDescription = this.content.cards[idx].header.replace(\n              '{Q}',\n              this.content.cards[idx].quantity.toString()\n            );\n            this.tokenIds = this.content.cards[idx].cards.map(\n              (card, cardId) => {\n                return {\n                  tokenId: BIGNUMBER_MAX,\n                  levelId: idx,\n                  cardId,\n                  isBaseCard: true,\n                  isStockCard: true,\n                  isWallet: false,\n                  status: SFTS.UNLOCKED,\n                  rewardRate: 0,\n                  rewardShare: 0,\n                  rewardEarned: 0,\n                  mintTimestamp: 0,\n                  cfolioItems: [],\n                  boosterRewards: {\n                    total: 0,\n                    pending: 0,\n                    apr: 0,\n                  },\n                };\n              }\n            );\n          }\n          this.walletTokenIds = [];\n        } else {\n          // get our base tokenIds\n          this.tokenIds = StoreClasses.store\n            .getAssets()\n            .userSFT.filter((n) => n.isStockCard);\n          // get cfolioItems from wallet\n          this.walletTokenIds =\n            StoreClasses.store.getAssets().userSFT.find((n) => n.isWallet)\n              ?.cfolioItems ?? [];\n          // collect tokenId bitmask\n          let hasCFolioItems = false;\n          this.tokenIds.forEach((n) => {\n            this.levelFilter |= 1 << this.content.cards[n.levelId].levelId;\n            if (\n              this.content.cards[n.levelId].levelId === newLevelId &&\n              n.cfolioItems.length > 0\n            )\n              hasCFolioItems = true;\n          });\n          this.levelDescription =\n            (this.levelFilter & (1 << newLevelId)) === 0\n              ? ''\n              : (this.levelDescription = this.content.cards[\n                  newLevelId\n                ].header.replace(\n                  '{Q}',\n                  this.content.cards[newLevelId].quantity.toString()\n                ));\n          if (this.walletTokenIds.length > 0) {\n            this.levelFilter |= 1 << 4;\n          }\n          if (hasCFolioItems && StoreClasses.store.isSidechain()) {\n            this.progessStart = new Date();\n            this.progressInterval = window.setInterval(\n              this._ticker.bind(this),\n              1000\n            );\n          }\n        }\n\n        if (this.levelFilter && (this.levelFilter & (1 << newLevelId)) === 0) {\n          let defaultLevelId = 4;\n          if (this.levelFilter & 1) defaultLevelId = 0;\n          else if (this.levelFilter & 2) defaultLevelId = 1;\n          else if (this.levelFilter & 4) defaultLevelId = 2;\n          query.set('levelId', defaultLevelId.toString());\n          history.replace(location.pathname + '?' + query.toString());\n        }\n        this.prevLevel = -1;\n        this.nextLevel = -1;\n        // check for next level\n        const levelLength = this.content.levelNames.length;\n        for (\n          let i = newLevelId + 1;\n          this.nextLevel < 0 && i < levelLength;\n          ++i\n        ) {\n          if (this.levelFilter & (1 << i)) this.nextLevel = i;\n        }\n\n        // check for next level\n        for (let i = newLevelId - 1; this.prevLevel < 0 && i >= 0; --i) {\n          if (this.levelFilter & (1 << i)) this.prevLevel = i;\n        }\n        this.setState({ levelId: newLevelId });\n      }\n    }\n    if (query.get('scroll') === 'false') this.scrollOnUpdate = false;\n  }\n\n  _ticker() {\n    let perc = 100 - (new Date().getTime() - this.progessStart.getTime()) / 300;\n    if (perc < 0) {\n      this._updateRewards();\n      this.progessStart = new Date();\n      perc = 100;\n    }\n    this.progressRefs.forEach((ref) => {\n      if (ref.current) ref.current.style.width = perc.toString() + '%';\n    });\n  }\n\n  _updateRewards = async () => {\n    if (StoreClasses.store.isSidechain()) {\n      StoreClasses.dispatcher.dispatch({\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    }\n  };\n\n  render(): JSX.Element {\n    const { display, t } = this.props;\n    const { contentLoaded, isWalletConnected, levelId, type } = this.state;\n    const levelPosition = levelId;\n    const hasMoreLevels = this.nextLevel >= 0;\n\n    const startPosition = 0;\n\n    return (\n      <>\n        <div\n          ref={this.mainRef}\n          className={'wolves-container wolves-header bg-' + type}\n        >\n          {!isWalletConnected && display === 'my' ? (\n            <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n              Wallet is not connected.\n              <br /> Please connect your wallet.\n            </span>\n          ) : (\n            <>\n              <img\n                src={Logo}\n                alt=\"WOWS\"\n                width=\"50px\"\n                height=\"50px\"\n                className={`${type === 'bois' ? 'rotate' : ''}`}\n              />\n              <h2 className=\"tk-vincente-lightbold no-margin\">\n                {t('page3.welcome-' + type)}\n              </h2>\n              <h4 className=\"tk-grotesk-lightbold\">\n                {t('page3.newCrypto-' + type).replace(\n                  '{Q}',\n                  (levelId + 1).toString()\n                )}\n              </h4>\n              <span className=\"line-container\">\n                <span id=\"left\" className=\"dot\" />\n                <span className=\"line\" />\n                <span id=\"right\" className=\"dot\" />\n              </span>\n              <div id=\"page3-section-header\">\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange fixed-pos\">\n                  &lt;\n                  {this.prevLevel < 0 || levelPosition <= startPosition ? (\n                    <Link className=\"noselect\" to=\"/\">\n                      {t('page.home')}\n                    </Link>\n                  ) : (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.prevLevel}\n                    >\n                      {t('page.previous')}\n                    </Link>\n                  )}\n                </span>\n                <span className=\"page3-section-container tk-vincente-lightbold\">\n                  {contentLoaded &&\n                    this.content.levelNames.map(\n                      (name: string, index: number) => {\n                        if ((1 << index) & this.levelFilter) {\n                          return levelId === index ? (\n                            <span\n                              key={`sec_` + index}\n                              className=\"page3-section page3-section-selected\"\n                            >\n                              {name}\n                              <div id=\"triangle-down\" />\n                            </span>\n                          ) : (\n                            <Link\n                              key={'sec_' + index}\n                              className=\"page3-section\"\n                              to={'?type=' + type + '&levelId=' + index}\n                            >\n                              {name}\n                            </Link>\n                          );\n                        } else return null;\n                      }\n                    )}\n                </span>\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange\">\n                  {hasMoreLevels ? (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.nextLevel}\n                    >\n                      {t('page.nextLevel')}\n                    </Link>\n                  ) : (\n                    t('page.nextLevel')\n                  )}\n                  &gt;\n                </span>\n              </div>\n              {contentLoaded && (\n                <h4 className=\"tk-grotesk-lightbold\">\n                  {this.levelDescription}\n                </h4>\n              )}\n              {contentLoaded && (\n                <div id=\"page3-content-container\">\n                  {levelId !== 4 &&\n                    this.tokenIds.map((id, index) => {\n                      const level = this.content.cards[id.levelId];\n                      return (\n                        level.levelId === levelId &&\n                        (display === 'my' || type === level.type) && (\n                          <CardBox\n                            sft={id}\n                            earned={id.rewardEarned + id.boosterRewards.pending}\n                            key={'card_' + index}\n                            t={t}\n                            progressRefs={this.progressRefs}\n                          />\n                        )\n                      );\n                    })}\n                  {levelId === 4 &&\n                    this.walletTokenIds.map((sftc, index) => (\n                      <CardBox\n                        cfolio={sftc}\n                        earned={0}\n                        key={'cfolio_' + index}\n                        t={t}\n                      />\n                    ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\nexport default withTranslation()(Page3);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nexport function remainingFromSecs(secondsLeft: number): string {\n  if (secondsLeft < 0) return '0d:0h:0m:0s';\n\n  const secInMinute = 60;\n  const secInHour = secInMinute * 60;\n  const secInDay = secInHour * 24;\n\n  const days = Math.floor(secondsLeft / secInDay)\n    .toString()\n    .padStart(2, '0');\n  const hours = Math.floor((secondsLeft % secInDay) / secInHour)\n    .toString()\n    .padStart(2, '0');\n  const minutes = Math.floor((secondsLeft % secInHour) / secInMinute)\n    .toString()\n    .padStart(2, '0');\n  const seconds = Math.floor(secondsLeft % secInMinute)\n    .toString()\n    .padStart(2, '0');\n\n  return (\n    days +\n    'd:' +\n    hours +\n    'h:' +\n    minutes +\n    'm' +\n    (days === '00' ? ':' + seconds + 's' : '')\n  );\n}\n","/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Transfer.css';\n\nimport { ethers } from 'ethers';\nimport { useEffect, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { SFT_TRANSFER } from '../../../stores/constants';\nimport { StatusResult, StoreClasses } from '../../../stores/store';\n\ntype PROPS = {\n  t: TFunction;\n  tokenId: ethers.BigNumber;\n  name: string;\n  show: boolean;\n  hideCB: () => void;\n};\n\nfunction Transfer({ hideCB, name, show, tokenId, t }: PROPS): JSX.Element {\n  const [txRunning, setTXRunning] = useState(false);\n  const [tOption, setTOption] = useState(0);\n  const [bridgeTarget, setBridgeTarget] = useState({\n    name: '...',\n    address: '',\n  });\n  const [customAddress, setCustomAddress] = useState('');\n\n  const addressvalid = (): string => {\n    try {\n      return ethers.utils.getAddress(customAddress);\n    } catch {\n      return '';\n    }\n  };\n\n  const handleTransfer = () => {\n    const payload = {\n      type: SFT_TRANSFER,\n      content: {\n        id: tokenId,\n        address: tOption === 0 ? bridgeTarget.address : customAddress,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) {\n        setTXRunning(false);\n        if (result.status === 'success') hideCB();\n      }\n    };\n\n    StoreClasses.emitter.on(SFT_TRANSFER, resetTx);\n    setBridgeTarget(StoreClasses.store.getBridgeTarget());\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(SFT_TRANSFER, resetTx);\n    };\n  }, [hideCB]);\n\n  const transferState = (n: number): string => {\n    return tOption === n ? 'active' : 'select';\n  };\n\n  const transferFunc = (n: number) => {\n    return tOption === n ? undefined : () => setTOption(n);\n  };\n\n  let address = '';\n  const buttonText =\n    bridgeTarget.name === 'ETHEREUM'\n      ? { l: 'COMING SOON', d: true }\n      : txRunning\n      ? { l: t('page4.txPending'), d: true }\n      : tOption === 0\n      ? { l: t('page4.transferTo', { name: bridgeTarget.name }), d: false }\n      : (address = addressvalid()) !== ''\n      ? {\n          l: t('page4.transferTo', { name: address }),\n          d: false,\n        }\n      : { l: t('page.invalidAddress'), d: true };\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} backdrop={true}>\n      <Modal.Header closeButton>\n        <Modal.Title>Transfer {name}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"lock-container\">\n          <div className={transferState(0)} onClick={transferFunc(0)}>\n            {bridgeTarget.name}\n          </div>\n          <div className={transferState(1)} onClick={transferFunc(1)}>\n            ADDRESS\n          </div>\n        </div>\n        {tOption === 0 && bridgeTarget.address !== '' && (\n          <span className=\"tk-aktiv-grotesk mt-2 d-inline-block\">\n            {bridgeTarget.name === 'POLYGON' ? (\n              <>\n                Bridging to the Polygon network takes about 3-5 minutes.\n                <br />\n                Your CFOLIO will automatically appear after this time if you are\n                connected to the Polygon network.\n              </>\n            ) : (\n              <>\n                Bridging to Ethereum network is a 2 step process and can take up\n                to 2 hours. Your CFOLIO appears immediately in the Ethereum\n                network and displays the transfer state:\n                <br />\n                <ol style={{ marginTop: '0.5em', paddingLeft: '1.5em' }}>\n                  <li>CFOLIO is waiting for the bridge process to finish.</li>\n                  <li>\n                    You have to release the CFOLIO from the bridge with an\n                    ethereum transaction.\n                  </li>\n                </ol>\n              </>\n            )}\n          </span>\n        )}\n        {tOption === 1 && (\n          <input\n            className=\"wolves-input mt-2\"\n            type=\"edit\"\n            onChange={(elem) => setCustomAddress(elem.target.value)}\n          />\n        )}\n        <button\n          className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n          onClick={() => handleTransfer()}\n          disabled={buttonText?.d}\n        >\n          {buttonText?.l}\n        </button>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Transfer);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page4.css';\n\nimport { BigNumber, ethers } from 'ethers';\nimport React, { Component } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport { remainingFromSecs } from '../../utils/utils';\nimport {\n  CARD,\n  CARD_LEVEL,\n  CARDS,\n  CFOLIO_ITEM,\n  CFOLIO_ITEMS,\n} from '../types/cards';\nimport Transfer from './Transfer/Transfer';\n\ntype PAGE4_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE4_STATE = {\n  type: QueryType;\n  cards?: CARDS;\n  cfolios?: CFOLIO_ITEMS[];\n  renderList: RenderListItem[];\n  tokenIds?: SFT[];\n  isWalletConnected: boolean;\n  txPending: boolean;\n  currentIndex: number;\n  selectedCFolio: number;\n  modalOpen: boolean;\n  transferOpen: boolean;\n  boosterExistingValue: number;\n  boosterNewValue: number;\n  boosterRelock: number;\n};\n\ntype RenderListItem = {\n  sft?: SFT;\n  cfi?: SFTCHILD;\n  tokenId?: ethers.BigNumber;\n  level: number;\n  index: number;\n};\n\nconst INITIAL_PAGE4_STATE: PAGE4_STATE = {\n  type: 'wolves',\n  renderList: [],\n  isWalletConnected: false,\n  txPending: false,\n  currentIndex: -1,\n  selectedCFolio: -1,\n  modalOpen: false,\n  transferOpen: false,\n  boosterExistingValue: 1,\n  boosterNewValue: 15552000,\n  boosterRelock: 1,\n};\n\nclass Page4 extends Component<PAGE4_PROPS, PAGE4_STATE> {\n  scrollOnUpdate = true;\n  needUpdate = true;\n  imageContainerRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  constructor(props: PAGE4_PROPS) {\n    super(props);\n    this.state = {\n      ...INITIAL_PAGE4_STATE,\n      cards: StoreClasses.store.getAssets().cards,\n      cfolios: StoreClasses.store.getAssets().cfolioItems,\n      tokenIds: StoreClasses.store.getAssets().userSFT,\n    };\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onSFTTransaction = this.onSFTTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._updateContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onSFTTransaction);\n  }\n\n  componentDidUpdate(): void {\n    this._updateContent();\n    if (this.scrollOnUpdate) {\n      window.scrollTo(0, 0);\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n      this.hideCB();\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'loaded' || status.status === 'cards') {\n      this.needUpdate = true;\n      this.setState({\n        cards: StoreClasses.store.getAssets().cards,\n        cfolios: StoreClasses.store.getAssets().cfolioItems,\n      });\n    } else if (status.status === 'tokens') {\n      this.needUpdate = true;\n      this.setState({\n        tokenIds: StoreClasses.store.getAssets().userSFT,\n        selectedCFolio: -1,\n      });\n    } else if (status.status === 'rewards') {\n      this.setState({ tokenIds: StoreClasses.store.getAssets().userSFT });\n    }\n  }\n\n  onSFTTransaction(status: StatusResult): void {\n    if (status.status === 'success' || status.status === 'error')\n      this.setState({ txPending: false });\n  }\n\n  _updateContent() {\n    const { cards, tokenIds, type } = this.state;\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    let newType: QueryType = 'wolves';\n    switch (query.get('type')) {\n      case 'bois':\n        newType = 'bois';\n        break;\n      case 'myPack':\n        newType = 'myPack';\n        break;\n    }\n\n    if (newType !== type) {\n      this.needUpdate = true;\n      this.setState({ type: newType });\n      query.delete('type');\n      query.append('type', newType);\n      history.replace('?' + query.toString());\n      return;\n    }\n\n    if (!cards) return;\n\n    if (!this.needUpdate) {\n      return this._getCurrentIndex();\n    }\n\n    let currentIndex = -1;\n    let fixIndex = 0;\n    const newRenderList: RenderListItem[] = [];\n\n    this.needUpdate = false;\n\n    if (type === 'myPack' && tokenIds) {\n      const curTokenId = query.get('tokenId')\n        ? ethers.BigNumber.from(query.get('tokenId'))\n        : undefined;\n      // Display Wallet's CFolioItems if tokenId is CFI\n      if (\n        curTokenId &&\n        tokenIds.length &&\n        tokenIds[0].cfolioItems.find((cfi) =>\n          cfi.tokenId.mask(128).eq(curTokenId.mask(128))\n        )\n      ) {\n        // loop through cfolio items and create renderlist\n        tokenIds[0].cfolioItems.forEach((cfi) => {\n          if (curTokenId && cfi.tokenId.mask(128).eq(curTokenId.mask(128)))\n            currentIndex = newRenderList.length;\n          newRenderList.push({\n            cfi,\n            tokenId: cfi.tokenId,\n            level: cfi.levelId,\n            index: cfi.cardId,\n          });\n        });\n      } else {\n        // loop through tokenIds and create renderlist\n        tokenIds.forEach((sft) => {\n          if (sft.isStockCard) {\n            if (curTokenId) {\n              if (sft.tokenId.eq(curTokenId)) {\n                currentIndex = newRenderList.length;\n              } else if (sft.tokenId.mask(128).eq(curTokenId.mask(128))) {\n                fixIndex = newRenderList.length;\n              }\n            }\n            newRenderList.push({\n              sft,\n              tokenId: sft.tokenId,\n              level: sft.levelId,\n              index: sft.cardId,\n            });\n          }\n        });\n      }\n    } else if (type !== 'myPack') {\n      const curCardId = query.get('cardId') || '';\n      cards.cards.forEach((level, index1) => {\n        if (level.type === type) {\n          level.cards.forEach((card, index2) => {\n            if (card.id === curCardId) currentIndex = newRenderList.length;\n            newRenderList.push({ level: index1, index: index2 });\n          });\n        }\n      });\n    }\n    this.setState({ renderList: newRenderList });\n    if (currentIndex < 0 && newRenderList.length > 0) {\n      this._fixUrl(fixIndex);\n      return;\n    }\n    if (this.state.currentIndex !== currentIndex) {\n      this.setState({ currentIndex, selectedCFolio: -1 });\n    }\n    if (\n      currentIndex >= 0 &&\n      (newRenderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n    )\n      this.onProgressIteration();\n  }\n\n  _getCurrentIndex() {\n    const { cards, renderList, type } = this.state;\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n    let fixIndex = 0;\n\n    if (cards && renderList.length > 0) {\n      let currentIndex = -1;\n      if (type === 'myPack' && query.get('tokenId')) {\n        const curTokenId = ethers.BigNumber.from(query.get('tokenId'));\n        currentIndex = renderList.findIndex((elem) =>\n          elem.tokenId?.mask(128).eq(curTokenId.mask(128))\n        );\n        if (\n          currentIndex >= 0 &&\n          renderList[currentIndex]?.tokenId &&\n          !renderList[currentIndex]?.tokenId?.eq(curTokenId)\n        ) {\n          fixIndex = currentIndex;\n          currentIndex = -1;\n        }\n      } else if (type !== 'myPack' && query.get('cardId')) {\n        const curCardId = query.get('cardId');\n        currentIndex = renderList.findIndex(\n          (elem) => cards.cards[elem.level].cards[elem.index].id === curCardId\n        );\n      }\n      if (currentIndex < 0 && renderList.length > 0) {\n        this._fixUrl(fixIndex);\n        return;\n      }\n      if (this.state.currentIndex !== currentIndex) {\n        this.setState({ currentIndex, selectedCFolio: -1 });\n        if (\n          currentIndex >= 0 &&\n          (renderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n        )\n          this.onProgressIteration();\n      }\n    }\n  }\n\n  _fixUrl(index: number) {\n    const { history, location } = this.props;\n    const { renderList } = this.state;\n    const query = new URLSearchParams(location.search);\n    if (index < renderList.length) {\n      if (this.state.type === 'myPack') {\n        query.delete('tokenId');\n        const tokenId = renderList[index].tokenId;\n        if (tokenId) {\n          query.append('tokenId', tokenId.toHexString());\n        }\n        history.replace('?' + query.toString());\n        if (index === this.state.currentIndex) this.onProgressIteration();\n      }\n    }\n  }\n\n  _onBuy(): void {\n    const { cards, currentIndex, renderList } = this.state;\n    if (currentIndex >= 0 && cards) {\n      const current = renderList[this.state.currentIndex];\n      const status = current.sft\n        ? current.sft.status\n        : current.cfi\n        ? current.cfi.status\n        : 0;\n      const payload = {\n        type:\n          current.tokenId === undefined\n            ? SFT_BUY\n            : status > SFTS.LOCKED\n            ? SFT_PROOF\n            : status > 0\n            ? SFT_UNLOCK\n            : SFT_LOCK,\n        content: {},\n      };\n      const cardLevel = cards.cards[current.level];\n      payload.content = {\n        amount: cardLevel.price,\n        id: BigNumber.from(\n          current.tokenId === undefined\n            ? (cardLevel.chainRef << 8) |\n                cardLevel.cards[current.index].chainRef\n            : current.tokenId\n        ),\n      };\n      this.setState({ txPending: true });\n      StoreClasses.dispatcher.dispatch(payload);\n    }\n  }\n\n  _onClaim(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_CLAIM,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: renderList[currentIndex].sft?.boosterRewards.secsLeft\n          ? this.state.boosterExistingValue\n          : this.state.boosterNewValue,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onClaimBooster(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_CLAIM_BOOSTER,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: this.state.boosterRelock,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onUpgrade(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_UPGRADE,\n      content: {\n        id: renderList[currentIndex].tokenId,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  onProgressIteration() {\n    StoreClasses.dispatcher.dispatch({\n      type: SFT_REWARD,\n      content: {},\n    } as Payload);\n  }\n\n  toggleImage(event: React.MouseEvent<HTMLImageElement>) {\n    this.setState({\n      selectedCFolio:\n        this.state.selectedCFolio < 0\n          ? parseInt(event.currentTarget.getAttribute('data-id') || '-1')\n          : -1,\n    });\n  }\n\n  hideCB = () => {\n    this.setState({ modalOpen: false, transferOpen: false });\n  };\n\n  render(): JSX.Element {\n    const { history, t } = this.props;\n    const {\n      cards,\n      cfolios,\n      currentIndex,\n      selectedCFolio,\n      isWalletConnected,\n      renderList,\n      txPending,\n      type,\n      modalOpen,\n      transferOpen,\n      boosterExistingValue,\n      boosterNewValue,\n      boosterRelock,\n    } = this.state;\n\n    const currentRender =\n      currentIndex >= 0 ? renderList[currentIndex] : undefined;\n\n    const currentLevel =\n      cards && cfolios && currentRender\n        ? currentRender.cfi\n          ? cfolios[currentRender.level]\n          : cards.cards[currentRender.level]\n        : undefined;\n\n    const currentCard =\n      currentLevel && currentRender\n        ? currentLevel.cards[currentRender.index]\n        : undefined;\n\n    const noQuantity =\n      !currentCard ||\n      !currentRender ||\n      !currentLevel ||\n      (type !== 'myPack' &&\n        (currentCard as CARD).minted >= (currentLevel as CARD_LEVEL).quantity);\n\n    const levelId = currentRender?.cfi\n      ? 4\n      : (currentLevel as CARD_LEVEL)?.levelId ?? 0;\n\n    const sftStatus = currentRender?.sft\n      ? currentRender.sft.status\n      : currentRender?.cfi\n      ? currentRender.cfi.status\n      : 0;\n\n    const buttonText = !isWalletConnected\n      ? { l: t('header.connectWallet').toString(), d: true }\n      : noQuantity\n      ? StoreClasses.store.isSidechain()\n        ? { l: t('page.availableOnETH'), d: true }\n        : { l: t('page4.noQuantity').toString(), d: true }\n      : txPending\n      ? { l: t('page4.txPending'), d: true }\n      : currentRender?.tokenId === undefined\n      ? { l: t('page4.buy', { name: currentCard?.name }).toString(), d: false }\n      : sftStatus === SFTS.BRIDGE_PENDING\n      ? {\n          l: t('page4.waitProof', { name: currentCard?.name }).toString(),\n          d: true,\n        }\n      : sftStatus === SFTS.BRIDGE_READY\n      ? {\n          l: t('page4.proof', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : sftStatus > 0\n      ? {\n          l: t('page4.unlock', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : {\n          l: t('page4.lock', { name: currentCard?.name }).toString(),\n          d: false,\n        };\n\n    // Create Navigation Links\n    let prevUrl: string | undefined, nextUrl: string | undefined;\n    if (renderList && renderList.length > 1) {\n      const prevIndex =\n        currentIndex > 0 ? currentIndex - 1 : renderList.length - 1;\n      const nextIndex =\n        currentIndex < renderList.length - 1 ? currentIndex + 1 : 0;\n      if (type === 'myPack') {\n        prevUrl = `?type=myPack&tokenId=${renderList[\n          prevIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n        nextUrl = `?type=myPack&tokenId=${renderList[\n          nextIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n      } else {\n        prevUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[prevIndex].level].cards[\n            renderList[prevIndex].index\n          ].id\n        }&scroll=false`;\n        nextUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[nextIndex].level].cards[\n            renderList[nextIndex].index\n          ].id\n        }&scroll=false`;\n      }\n    }\n\n    const backUrl =\n      type === 'myPack'\n        ? `my?type=myPack&levelId=${levelId}`\n        : `/shop?type=${type}&levelId=${levelId}`;\n\n    const assetIndex =\n      currentLevel?.type === 'bois' || currentLevel?.type === 'stableInvestment'\n        ? StoreClasses.store.getStableCurrencies().length - 1\n        : 0;\n\n    let price,\n      quantity,\n      autoUpgrade,\n      profitReward,\n      autoUpgradeText,\n      apr,\n      apy,\n      investment,\n      share;\n    if (currentRender?.cfi && currentCard) {\n      quantity = (currentCard as CFOLIO_ITEM).maxMintable;\n      investment =\n        currentRender?.cfi.assets[assetIndex].toFixed(6) +\n        ' ' +\n        (currentLevel as CFOLIO_ITEMS).token;\n    } else if (currentRender && currentLevel) {\n      quantity = (currentLevel as CARD_LEVEL).quantity;\n      autoUpgrade = (currentLevel as CARD_LEVEL).autoUpgrade;\n      if (autoUpgrade === '') autoUpgrade = undefined;\n      profitReward = currentRender?.sft\n        ? currentRender.sft.rewardRate / 10000\n        : (currentLevel as CARD_LEVEL).profitReward;\n      if (!currentRender?.sft) price = (currentLevel as CARD_LEVEL).price;\n      if (autoUpgrade && currentRender.sft) {\n        if (\n          sftStatus === 0 &&\n          profitReward === (currentLevel as CARD_LEVEL).profitReward\n        ) {\n          autoUpgrade =\n            60 * 86400 + currentRender.sft?.mintTimestamp - Date.now() / 1000;\n          const upgradeReward = (currentLevel as CARD_LEVEL).upgradeReward;\n          autoUpgradeText = txPending\n            ? t('page4.txPending')\n            : autoUpgrade <= 0\n            ? `UPGRADE TO ${upgradeReward} PROWESS NOW`\n            : `UPGRADE TO ${upgradeReward} PROWESS IN ` +\n              remainingFromSecs(autoUpgrade);\n        } else {\n          autoUpgrade = undefined;\n        }\n      }\n\n      if (profitReward && currentLevel) {\n        const rewardIndex = currentLevel.type === 'wolves' ? 0 : 1;\n        const rewardInfo =\n          StoreClasses.store.getAssets().rewardInfo[rewardIndex];\n        if (rewardInfo.apr) {\n          apr = (rewardInfo.apr * profitReward) / 100;\n          apy = StoreClasses.store.aprToApy(apr);\n          share = currentRender.sft?.rewardShare.toFixed(2);\n        }\n      }\n    }\n\n    const claimableAmount = currentRender?.sft\n      ? currentRender?.sft.rewardEarned +\n        currentRender?.sft.boosterRewards.pending\n      : 0;\n    const claimText =\n      currentRender?.sft &&\n      (currentRender.sft.cfolioItems.length > 0 || claimableAmount > 0)\n        ? !isWalletConnected\n          ? { l: t('header.connectWallet').toString(), d: true }\n          : txPending && !modalOpen && !transferOpen\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t('page4.claim', {\n                amount: claimableAmount.toFixed(6),\n              }).toString(),\n              d: sftStatus > 0 || claimableAmount === 0,\n            }\n        : undefined;\n\n    const renderCFolioItems = () => {\n      if (\n        currentRender?.sft &&\n        currentRender.sft.cfolioItems.length > 0 &&\n        this.imageContainerRef.current &&\n        cfolios\n      ) {\n        const topOffset =\n          currentRender.sft.cfolioItems.length > 1\n            ? Math.min(\n                (this.imageContainerRef.current.clientHeight - 82) /\n                  (currentRender.sft.cfolioItems.length - 1),\n                86\n              )\n            : 0;\n        const sftChild =\n          selectedCFolio >= 0 &&\n          selectedCFolio < currentRender.sft.cfolioItems.length &&\n          currentRender.sft.cfolioItems[selectedCFolio];\n        return (\n          <>\n            {currentRender.sft.cfolioItems.map((sftc, index) => {\n              const cfi = cfolios[sftc.levelId].cards[sftc.cardId];\n              return (\n                <img\n                  key={'cfi' + index}\n                  id=\"cfi-image\"\n                  data-id={index}\n                  onClick={this.toggleImage.bind(this)}\n                  className=\"selectable\"\n                  style={\n                    selectedCFolio !== index\n                      ? { right: '6px', top: 6 + index * topOffset + 'px' }\n                      : {\n                          right: '15%',\n                          zIndex: 20,\n                          top: '12px',\n                          transition: 'all 0.5s',\n                        }\n                  }\n                  height={selectedCFolio !== index ? '80px' : '70%'}\n                  alt={cfi.name}\n                  src={cfi.url.replace('{res}', '500')}\n                />\n              );\n            })}\n            <span\n              id=\"page4-content-image-inner-info\"\n              className=\"tk-vincente-lightbold\"\n              style={{ visibility: selectedCFolio < 0 ? 'hidden' : 'visible' }}\n            >\n              {sftChild && (\n                <>\n                  <h3>\n                    {cfolios[sftChild.levelId].cards[sftChild.cardId].name}\n                  </h3>\n                  <h3>\n                    {t('page.tokenId')}:{' '}\n                    {sftChild.tokenId.mask(128).toHexString()}\n                  </h3>\n                  <h3>\n                    {t('page.investment')}:{' '}\n                    {sftChild.assets[assetIndex].toFixed(6)}{' '}\n                    {cfolios[sftChild.levelId].token}\n                  </h3>\n                </>\n              )}\n            </span>\n          </>\n        );\n      }\n    };\n\n    const imgClass =\n      selectedCFolio < 0 ? 'card-visual' : 'card-visual monochrome';\n\n    const boosterState = (value: number, n: number): string => {\n      return value === n ? 'active' : 'select';\n    };\n\n    const boosterFuncN = (n: number) => {\n      return boosterNewValue === n\n        ? undefined\n        : () => this.setState({ boosterNewValue: n });\n    };\n\n    const boosterFuncR = (n: number) => {\n      return boosterRelock === n\n        ? undefined\n        : () => this.setState({ boosterRelock: n });\n    };\n\n    const boosterFuncE = (n: number) => {\n      return boosterExistingValue === n\n        ? undefined\n        : () => this.setState({ boosterExistingValue: n });\n    };\n\n    let boosterFarmButtonText, boosterButtonText, boosterPeriod;\n\n    const boosterTotal = currentRender?.sft?.boosterRewards.total.toFixed(2);\n    if (currentRender?.sft?.boosterRewards.secsLeft) {\n      switch (currentRender.sft.boosterRewards.apr) {\n        case 1.75:\n        case 1.875:\n          boosterPeriod = '6 months';\n          break;\n        case 1.3:\n          boosterPeriod = '3 months';\n          break;\n        case 1.0:\n          boosterPeriod = '1 month';\n          break;\n        default:\n          boosterPeriod = 'Unknown';\n      }\n    } else {\n      boosterPeriod = modalOpen && 'No period started';\n    }\n\n    if (modalOpen && currentRender?.sft) {\n      if (currentRender.sft.rewardEarned) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterExistingValue > 0;\n        } else {\n          lockRewards = boosterNewValue > 0;\n        }\n        boosterFarmButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.lockWows' : 'page4.claim', {\n                amount: currentRender.sft.rewardEarned.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n\n      if (currentRender.sft.boosterRewards.pending) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterRelock;\n        } else {\n          lockRewards = false;\n        }\n        boosterButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.relockWows' : 'page4.claim', {\n                amount: currentRender.sft.boosterRewards.pending.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n    }\n\n    const transferButtonText =\n      txPending && !transferOpen && !modalOpen\n        ? { l: t('page4.txPending'), d: true }\n        : { l: t('page4.transfer', { name: currentCard?.name }), d: false };\n\n    return (\n      <div\n        id=\"top\"\n        className={\n          'wolves-container wolves-header tk-grotesk-lightbold bg-' +\n          (currentLevel ? currentLevel.type : 'wolves')\n        }\n      >\n        <img src={Logo} alt=\"WOWS\" width=\"50px\" height=\"50px\" />\n        <h2 className=\"tk-vincente-lightbold no-margin\">\n          {t('page4.welcome-' + type)}\n        </h2>\n        <h4\n          className=\"tk-grotesk-lightbold\"\n          dangerouslySetInnerHTML={{ __html: t('page4.header-' + type) }}\n        />\n        {currentIndex >= 0 && (\n          <div className=\"back-level-container\">\n            <span\n              className=\"tk-vincente-lightbold font-24 content-margin c-pointer\"\n              onClick={() => history.push(backUrl)}\n            >\n              &lt;{t('page.back')}\n            </span>\n            <span className=\"tk-vincente-lightbold font-24 content-margin\">\n              {currentLevel ? cards?.levelNames[levelId] : ''}\n            </span>\n          </div>\n        )}\n        <span className=\"line-container\">\n          <span id=\"left\" className=\"dot\" />\n          <span className=\"line\" />\n          <span id=\"right\" className=\"dot\" />\n        </span>\n        <div\n          id=\"page4-section-header\"\n          className=\"tk-vincente-lightbold font-20 single-line\"\n        >\n          <span>\n            <span\n              className={`tk-vincente-lightbold font-24 single-line noselect ${\n                prevUrl ? 'c-pointer' : 'disabled-link'\n              }`}\n              onClick={() => (prevUrl ? history.push(prevUrl) : undefined)}\n            >\n              &lt;{t('page.previousCard')}\n            </span>\n          </span>\n          <span\n            className={`tk-vincente-lightbold font-24 single-line noselect ${\n              nextUrl ? 'c-pointer' : 'disabled-link'\n            } `}\n            onClick={() => (nextUrl ? history.replace(nextUrl) : undefined)}\n          >\n            {t('page.nextCard')}&gt;\n          </span>\n        </div>\n        {!isWalletConnected && type === 'myPack' ? (\n          <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n            Wallet is not connected.\n            <br /> Please connect your wallet.\n          </span>\n        ) : (\n          <div id=\"page4-content-container\">\n            <div id=\"page4-content-image\">\n              <div id=\"page4-content-image-inner\" ref={this.imageContainerRef}>\n                {currentCard &&\n                  (currentCard.type === 'movie' ? (\n                    <video\n                      disableRemotePlayback={true}\n                      className={imgClass}\n                      autoPlay={true}\n                      loop={true}\n                      src={currentCard.url.replace('{res}', '500')}\n                      poster={currentCard.url.replace('{res}', '300') + '.jpg'}\n                      playsInline\n                    />\n                  ) : (\n                    <img\n                      className={imgClass}\n                      src={currentCard.url.replace('{res}', '500')}\n                      alt={currentCard.name}\n                    />\n                  ))}\n                {sftStatus > 0 && (\n                  <div\n                    className={sftStatus > SFTS.LOCKED ? 'bridged' : 'locked'}\n                  />\n                )}\n                {renderCFolioItems()}\n              </div>\n            </div>\n            <div id=\"page4-content-text\" className=\"gro\">\n              {currentCard && (\n                <>\n                  <div>\n                    <h1\n                      className={\n                        'tk-vincente-lightbold h-1 single-line' +\n                        (currentRender?.tokenId !== undefined\n                          ? ' wolves-text-shaddow'\n                          : '')\n                      }\n                    >\n                      {currentCard.name}\n                    </h1>\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}:{currentCard.motto}\n                      </span>\n                    </h3>\n                    {currentRender?.tokenId !== undefined && (\n                      <h3 className=\"tk-vincente-lightbold\">\n                        <span>\n                          {` ${t('page.tokenId')}: 0x${currentRender?.tokenId\n                            .mask(128)\n                            .toHexString()\n                            .replace('0x', '')\n                            .toUpperCase()\n                            .padStart(8, '0')}`}\n                        </span>\n                      </h3>\n                    )}\n                    <p className=\"font-16\">{currentCard.description}</p>\n                    {currentRender?.sft && sftStatus < SFTS.BRIDGE_PENDING && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedSft'\n                            : 'page4.unlockedSft'\n                        )}\n                      </p>\n                    )}\n                    {currentRender?.cfi && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedCfi'\n                            : 'page4.unlockedCfi'\n                        )}\n                      </p>\n                    )}\n                    <ul className=\"tk-vincente-lightbold font-24 rarity-box\">\n                      <li>\n                        <h3 className=\"no-margin\">RARITY: 1/{quantity}</h3>\n                      </li>\n                      {profitReward && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.prowess')}: {profitReward}%{' '}\n                          </h3>\n                        </li>\n                      )}\n                      {boosterPeriod && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            <span\n                              className=\"ulink c-pointer\"\n                              onClick={() => this.setState({ modalOpen: true })}\n                            >\n                              {t('page4.booster', {\n                                period: boosterPeriod,\n                                amount: boosterTotal,\n                              })}\n                            </span>\n                          </h3>\n                        </li>\n                      )}\n                      {apr && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.aprapy', { apr, apy })}\n                          </h3>\n                        </li>\n                      )}\n                      {share && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.share', { share })}\n                          </h3>\n                        </li>\n                      )}\n                      {autoUpgrade && (\n                        <li>\n                          {typeof autoUpgrade !== 'number' ? (\n                            <h3 className=\"no-margin\">\n                              {t('page.autoUpgrade')}: {autoUpgrade}\n                            </h3>\n                          ) : (\n                            <input\n                              className=\"wolves-btn tk-grotesk-lightbold font-16 mt-1\"\n                              type=\"button\"\n                              value={autoUpgradeText}\n                              disabled={autoUpgrade > 0 || txPending}\n                              onClick={() => this._onUpgrade()}\n                            />\n                          )}\n                        </li>\n                      )}\n                      {price && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.price')}: {price} WOWS\n                          </h3>\n                        </li>\n                      )}\n                      {investment && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.investment')}: {investment}\n                          </h3>\n                        </li>\n                      )}\n                    </ul>\n                  </div>\n                  <div>\n                    {claimText && (\n                      <span className=\"p_relative\" style={{ display: 'block' }}>\n                        <input\n                          className=\"wolves-btn mt-1\"\n                          type=\"button\"\n                          value={claimText.l}\n                          disabled={claimText.d}\n                          onClick={() => this.setState({ modalOpen: true })}\n                        />\n                        {!txPending &&\n                          isWalletConnected &&\n                          currentRender?.sft &&\n                          currentRender.sft.cfolioItems.length > 0 && (\n                            <span\n                              onAnimationIteration={this.onProgressIteration}\n                              className=\"info-progress absolute\"\n                              style={{ marginLeft: '2px', marginRight: '2px' }}\n                            />\n                          )}\n                      </span>\n                    )}\n                    {currentRender?.sft && !currentRender?.sft?.status && (\n                      <input\n                        className=\"wolves-btn mt-1\"\n                        type=\"button\"\n                        value={transferButtonText.l}\n                        disabled={transferButtonText.d}\n                        onClick={() => this.setState({ transferOpen: true })}\n                      />\n                    )}\n                    <input\n                      className=\"wolves-btn mt-1\"\n                      type=\"button\"\n                      value={buttonText.l}\n                      disabled={buttonText.d}\n                      onClick={() => this._onBuy()}\n                    />\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        )}\n        {modalOpen && (\n          <Modal\n            show={true}\n            backdrop=\"static\"\n            onHide={this.hideCB}\n            animation={false}\n          >\n            <Modal.Header closeButton>\n              <span className=\"tk-vincente-bold font-28 lh-1 mb-0\">\n                BOOST MY REWARDS\n              </span>\n            </Modal.Header>\n            <Modal.Body>\n              <span className=\"tk-grotesk-lightbold\">\n                <p>\n                  Your can boost your rewards by locking them into the Booster.\n                  While the rewards are locked, you can claim 10% per month\n                  either directly into your wallet, or reinvest into the Booster\n                  to earn more.\n                </p>\n                <p>\n                  Once you have created a lock period, you cannot change it's\n                  expire time. But you can always add rewards into it.\n                </p>\n                <hr />\n                <span className=\"d-block w-100 text-center\">\n                  <b>Booster lock:</b> {boosterPeriod}\n                  {currentRender?.sft?.boosterRewards.secsLeft && (\n                    <>\n                      <br />\n                      <b>Terminate:</b>{' '}\n                      {remainingFromSecs(\n                        currentRender.sft.boosterRewards.secsLeft\n                      )}\n                      <br />\n                      <b>Locked Amount:</b> {boosterTotal} WOWS\n                      <br />\n                      <b>APR:</b> {currentRender.sft.boosterRewards.apr * 100} %\n                    </>\n                  )}\n                </span>\n                {currentRender?.sft && currentRender.sft.rewardEarned > 0 && (\n                  <>\n                    <hr />\n                    <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                      FARM REWARDS\n                    </span>\n                    {currentRender.sft.boosterRewards.secsLeft ? (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterExistingValue, 1)}\n                          onClick={boosterFuncE(1)}\n                        >\n                          Lock into Booster\n                        </div>\n                        <div\n                          className={boosterState(boosterExistingValue, 0)}\n                          onClick={boosterFuncE(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterNewValue, 2592000)}\n                          onClick={boosterFuncN(2592000)}\n                        >\n                          1 month (100% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 7776000)}\n                          onClick={boosterFuncN(7776000)}\n                        >\n                          3 months (130% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 15552000)}\n                          onClick={boosterFuncN(15552000)}\n                        >\n                          6 months (175% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 0)}\n                          onClick={boosterFuncN(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    )}\n                    <button\n                      className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                      onClick={() => this._onClaim()}\n                      disabled={boosterFarmButtonText?.d}\n                    >\n                      {boosterFarmButtonText?.l}\n                    </button>\n                  </>\n                )}\n                {currentRender?.sft &&\n                  currentRender.sft.boosterRewards.pending > 0 && (\n                    <>\n                      <hr />\n                      <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                        BOOSTER REWARDS\n                      </span>\n                      {currentRender.sft.boosterRewards.secsLeft && (\n                        <div className=\"lock-container\">\n                          <div\n                            className={boosterState(boosterRelock, 1)}\n                            onClick={boosterFuncR(1)}\n                          >\n                            Relock into Booster\n                          </div>\n                          <div\n                            className={boosterState(boosterRelock, 0)}\n                            onClick={boosterFuncR(0)}\n                          >\n                            Claim into wallet\n                          </div>\n                        </div>\n                      )}\n                      <button\n                        className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                        onClick={() => this._onClaimBooster()}\n                        disabled={boosterButtonText?.d}\n                      >\n                        {boosterButtonText?.l}\n                      </button>\n                    </>\n                  )}\n              </span>\n            </Modal.Body>\n          </Modal>\n        )}\n        {transferOpen &&\n          !currentRender?.sft?.status &&\n          currentRender?.tokenId && (\n            <Transfer\n              tokenId={currentRender.tokenId}\n              name={currentCard?.name ?? 'UNKNOWN'}\n              show={true}\n              hideCB={this.hideCB}\n            />\n          )}\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Page4);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './pageStatus.css';\n\nimport { getInjectedProvider } from 'web3modal';\n\nfunction isMobile(): boolean {\n  let mobile = false;\n\n  function hasTouchEvent(): boolean {\n    try {\n      document.createEvent('TouchEvent');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function hasMobileUserAgent(): boolean {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n        navigator.userAgent\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n        navigator.userAgent.substr(0, 4)\n      )\n    ) {\n      return true;\n    } else if (hasTouchEvent()) {\n      return true;\n    }\n    return false;\n  }\n\n  mobile = hasMobileUserAgent();\n\n  return mobile;\n}\n\nfunction replaceLogo(key: string, value: string): string {\n  return key === 'logo' && value !== '' ? '[ImageData]' : value;\n}\n\nexport function PageStatus(props: unknown): JSX.Element {\n  return (\n    <div id=\"page-status\" className=\"wolves-container\">\n      <h2>InjectedProvider</h2>\n      <pre>{JSON.stringify(getInjectedProvider(), replaceLogo, 2)}</pre>\n      <h2>window.ethereum</h2>\n      <pre>{JSON.stringify(window.ethereum, null, 2)}</pre>\n      <h2>IsMobile</h2>\n      <pre>{isMobile() ? 'true' : 'false'}</pre>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport 'react-toastify/dist/ReactToastify.css';\nimport './wolftoast.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport {\n  toast,\n  ToastContainer,\n  ToastOptions,\n  UpdateOptions,\n} from 'react-toastify';\n\nimport logo from '../../assets/wolves-token_99.png';\nimport {\n  ADDRESS_COPIED,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport { ConnectResult, StatusResult, StoreClasses } from '../../stores/store';\n\nexport type ToastMessage = {\n  type: ['info' | 'success' | 'failure'];\n  message: string;\n  autoClose: number | false;\n};\n\ntype TOASTSTATE = {\n  show: boolean;\n};\n\ntype TOASTPROPS = {\n  t: TFunction;\n};\n\nclass WolfToast extends Component<TOASTPROPS, TOASTSTATE> {\n  t: TFunction;\n  txId: React.ReactText | undefined;\n  connectId: React.ReactText | undefined;\n\n  constructor(props: TOASTPROPS) {\n    super(props);\n    this.t = this.props.t;\n\n    this.onAddressCopied = this.onAddressCopied.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onTransaction = this.onTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(ADDRESS_COPIED, this.onAddressCopied);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.on(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, this.onTransaction);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(REVOKE_APPROVAL, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ADDRESS_COPIED, this.onAddressCopied);\n  }\n\n  onAddressCopied(): void {\n    toast(this._formatToast(undefined, this.t('toast.addressCopied')), {\n      autoClose: 2000,\n    });\n  }\n\n  onConnectionChanged(result: ConnectResult): void {\n    if (result.type !== 'event') {\n      const msg = this.t(\n        result.address === ''\n          ? 'toast.walletDisconnected'\n          : 'toast.walletConnected'\n      );\n      this.connectId = this._updateToast(this.connectId, {\n        render: this._formatToast(undefined, msg),\n        autoClose: 2000,\n      });\n    }\n  }\n\n  onTransaction(result: StatusResult) {\n    if (result.status === 'approve')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          undefined,\n          this.t('toast.transactionApproving')\n        ),\n        autoClose: false,\n      });\n    else if (result.status === 'tx')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(undefined, this.t('toast.transactionMined')),\n        autoClose: false,\n      });\n    else if (result.status === 'success')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'success',\n          this.t('toast.transactionFinished')\n        ),\n        autoClose: 3000,\n      });\n    else\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'failure',\n          result.errorMessage || this.t('toast.undefinedError')\n        ),\n        autoClose: 5000,\n      });\n  }\n\n  _updateToast(\n    key: React.ReactText | undefined,\n    options: UpdateOptions\n  ): React.ReactText | undefined {\n    if (key && toast.isActive(key)) {\n      toast.update(key, options);\n    } else {\n      key = toast(options.render, options as ToastOptions);\n    }\n    return key;\n  }\n\n  _formatToast(type: string | undefined, message: string): ReactNode {\n    const className = type ? 'wolflogo wolflogo--' + type : 'wolflogo';\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <img\n          alt=\"logo\"\n          src={logo}\n          className={className}\n          width=\"24px\"\n          height=\"24px\"\n        />\n        <span style={{ display: 'block', flexGrow: 1 }}>{message}</span>\n      </div>\n    );\n  }\n\n  render(): ReactNode {\n    return <ToastContainer position=\"bottom-left\" pauseOnFocusLoss={false} />;\n  }\n}\n\nexport default withTranslation()(WolfToast);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './App.css';\nimport './wolves_scheme.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './components/theme/button/wolve_button.css';\nimport './components/theme/form/input/wolve_input.css';\n\nimport React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport CFolioInvest from './components/CFolioInvest';\nimport CFolioItemSfts from './components/CFolioItemSfts';\nimport CFolioManager from './components/CFolioManager/CFolioManager';\nimport Footer from './components/footer';\nimport Header from './components/header';\nimport Page1 from './components/page1';\nimport Page3 from './components/page3';\nimport Page4 from './components/page4';\nimport { PageStatus } from './components/pageStatus';\nimport WolfToast from './components/toast/wolftoast';\nimport { CONNECTION_CHANGED } from './stores/constants';\nimport { ConnectResult, StoreClasses, StoreContainer } from './stores/store';\n\ntype APP_STATE = {\n  isSideChain: boolean;\n};\n\nclass App extends React.Component<unknown, APP_STATE> {\n  constructor(props: unknown) {\n    super(props);\n    this.state = { isSideChain: false };\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  setNetwork = (result: ConnectResult): void => {\n    if (result.type === 'prod' && result.address !== '') {\n      this.setState({ isSideChain: StoreClasses.store.isSidechain() });\n    }\n  };\n\n  render(): JSX.Element {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <StoreContainer>\n            <WolfToast />\n            <Route component={Header} />\n            <Switch>\n              <Route\n                path=\"/shop\"\n                render={(props) => <Page3 {...props} display={'shop'} />}\n              />\n              <Route\n                path=\"/my\"\n                render={(props) => <Page3 {...props} display={'my'} />}\n              />\n              <Route path=\"/detail\" component={Page4} />\n              <Route path=\"/status\" component={PageStatus} />\n              <Route path=\"/cfolio-sfts\" component={CFolioItemSfts} />\n              {this.state.isSideChain && (\n                <Route path=\"/cfolio-invest\" component={CFolioInvest} />\n              )}\n              {this.state.isSideChain && (\n                <Route path=\"/c_folio_manager\" component={CFolioManager} />\n              )}\n              <Route component={Page1} />\n            </Switch>\n            <Footer />\n          </StoreContainer>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport { ReportHandler } from 'web-vitals/src/types';\n\nconst reportWebVitals: (onPerfEntry: ReportHandler) => void = (\n  onPerfEntry: ReportHandler\n) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './i18n';\nimport './index.css';\nimport 'assets/fonts/wp_fonts.css';\nimport 'assets/fonts/font_variants.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}