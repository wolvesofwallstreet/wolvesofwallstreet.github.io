{"version":3,"sources":["stores/polygon/MessageProof.tsx","i18n.ts","stores/store.tsx","assets/openwallet_low.png","stores/constants.tsx","assets/coinbase-wallet.svg","components/controls/image_slider.tsx","components/Approval/Approval.tsx","components/controls/asset_input.tsx","components/CFolioInvest/Stable/Stable.tsx","components/CFolioInvest/StakeLP/StakeLP.tsx","components/CFolioInvest/CFolioInvest.tsx","components/types/cards.ts","components/CFolioItemSfts/CFolioItemSfts.tsx","components/CFolioManager/CFolioManager.tsx","assets/icons_discord.svg","assets/icons_etherscan.svg","assets/icons_github.svg","assets/icons_TG.svg","assets/icons_Twitter.svg","components/social/social.tsx","components/footer/footer.tsx","assets/wolves_sft_logo.svg","components/header/header.tsx","assets/bois_shadow.png","assets/wolves_shadow.png","components/page1/page1.tsx","assets/wolves-token_99.png","components/page3/cardbox.tsx","components/page3/page3.tsx","assets/goto.svg","utils/utils.tsx","components/page4/Transfer/Transfer.tsx","components/page4/page4.tsx","components/pageStatus/pageStatus.tsx","components/toast/wolftoast.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CPM_ABI","anonymous","inputs","indexed","internalType","name","type","constant","outputs","payable","stateMutability","GRAPH_BASE","GRAPH_ACCOUNT","MerkleTree","leaves","layers","length","Error","depth","Math","ceil","log","this","concat","Array","from","pow","zeros","createHashes","nodes","treeLevel","i","left","right","data","Buffer","push","keccak","MessageProof","ethereumProvider","chainId","checkPointManagerAddress","account","rootTunnel","childTunnel","cb","provider","checkPointManager","localStorageKey","localStorageItems","newBlockFilter","rootGraph","childGraph","changed","launchBlock","changeHandler","_onNewHeaderBlock","result","_findHeaderBlockNumber","_setup","a","_scanPendingTokenIds","pendingItems","getLastChildBlock","lastChildBlock","toNumber","scanHeaderTo","pI","headerBlockId","txBlockNumber","scanHeaderFrom","rootBlock","ethLastHeaderScanned","off","on","getBlockNumber","ethBlockNumber","query","fetch","method","headers","body","json","results","syncedBlockNumber","indexingStatusForCurrentVersion","chains","latestBlock","number","polygonLastScanned","getBlock","mumbaiTime","timestamp","bridgeItems","Map","sftTransferEntities","ent","tokenIds","join","item","get","count","hash","polygonBlockNumber","pending","txHash","parseInt","block","logTimestamp","blockTimestamp","trunc","set","forEach","ethLastScanned","keys","key","value","split","sort","b","window","localStorage","setItem","JSON","stringify","setTimeout","console","ethers","providers","JsonRpcProvider","LSKMUMBAI","LSKMATIC","Contract","items","getItem","indexOf","parse","filters","NewHeaderBlock","hasItems","tokenId","tokenIdHex","toHexString","filter","elem","includes","map","tid","BigNumber","available","flat","find","buildPayloadForExit","getTransactionReceipt","receipt","send","utils","hexValue","blockNumber","lt","headerBlocks","headerBlock","_buildBlockProof","start","end","blockProof","_getReceiptProof","receiptProof","logIndex","logs","findIndex","topics","toLowerCase","_encodePayload","transactionsRoot","slice","receiptsRoot","_getReceiptBytes","parentNodes","path","headerNumber","buildBlockProof","receiptParentNodes","bufferToHex","rlp","encode","scanStart","scanEnd","eventLogs","piIndex","fromBlock","toBlock","getLogs","parsed","interface","parseLog","args","_getFastMerkleProof","proof","p","toBuffer","merkleTreeDepth","log2","reversedProof","targetIndex","offset","leftBound","rightBound","newLeftBound","newRightBound","expectedHeight","subTreeHeight","heightDifference","remainingNodesHash","nLeaves","pivotLeaf","min","_queryRootHash","leafRoots_1","_recursiveZeroHash","subTreeMerkleRoot","getRoot","reverse","n","subHash","keccak256","defaultAbiCoder","stateSyncTxHash","_getStateSyncTxHash","receiptsTrie","BaseTrie","receiptPromises","transactions","tx","Promise","all","receipts","siblingReceipt","transactionIndex","rawReceipt","put","findPath","node","remaining","blockHash","stack","s","raw","root","_getRawHeader","receiptTrie","decode","encodedData","undefined","status","cumulativeGasUsed","logsBloom","l","address","toString","fromUtf8","setLengthLeft","blockHeaderFromRpc","resources","en","translation","zh","i18n","use","detector","initReactI18next","init","detection","order","supportedLngs","fallbackLng","interpolation","escapeValue","SFTS","CHAINSTATE","ASSETS_STATE","REVOKE_APPROVAL","ADDRESS_COPIED","CONNECTION_CHANGED","SFT_BUY","SFT_CLAIM","SFT_CLAIM_BOOSTER","SFT_LOCK","SFT_PROOF","SFT_REWARD","SFT_TRANSFER","SFT_UNLOCK","SFT_UPGRADE","CFOLIO_ITEM_BUY","CFOLIO_ITEM_DEPOSIT","CFOLIO_ITEM_WITHDRAW","CFOLIO_ITEM_UNLOCK_TRANSFER","emitter","Emitter","EventEmitter","dispatcher","Dispatcher","BIGNUMBER_MAX","STAKE_CURRENCIES","STABLE_CURRENCIES","INITIAL_REWARD_SLOT","total","rewardPerDuration","priceToken","apr","INITIAL_REWARD","rewardDuration","priceWOWS","slotInfo","readUint256","substr","AsyncLock","disable","promise","alert","resolve","Store","web3Modal","ethersProvider","eventProvider","ethersSigner","isWSEventProvider","tokenContract","cfihLpContract","cfihScContract","sftEvaluatorContract","boosterContract","sftHolderContractRO","sftMintContractRO","tradeFloorContractRO","uniDaiWethPairContractRO","cfolioFarmLpAddress","cfolioFarmScAddress","bridgeTargetAddress","curveDepositAddress","networkName","accountId","tokenContractAddress","nullAddress","lastAprTime","eventsSuspended","lock","web3Provider","dispatchQueue","polygonBridge","assets","balances","WOWS","decimals","dust","DUST_18","allowance","USDC","DUST_6","USDT","DAI","TUSD","yCrv","am3Crv","userSFT","cards","levelNames","myPackLevelDescriptions","cfolioItems","rewardInfo","getAssets","handleBridgeChange","dispatch","content","connect","disconnect","endpoint","getEndpoint","subscribeProvider","Web3Provider","getChainState","INVALID_CHAIN","close","_emitNetworkChange","listAccounts","accounts","getAddress","getNetwork","network","_launchEventProvider","_setupContracts","getSigner","chainAddresses","_getChainAddresses","p_checkpointManager","polygonRootTunnelProxy","p_childTunnel","autoconnect","URLSearchParams","location","search","defaultChain","defaultAccountId","cachedProvider","clearCache","fireEvent","removeItem","removeAllListeners","clearCachedProvider","e","wsEventProvider","_websocket","onclose","onerror","destroy","isConnected","isEventConnected","_addDQ","payload","_resolveDQ","enable","startsWith","WebSocketProvider","InfuraProvider","getWebSocketProvider","process","_setupEventContracts","emit","_setupEvents","switchChain","chain","ethereum","newChain","request","params","code","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","symbol","_getSftState","payloadContent","levels","cardIds","level","card","chainRef","MAIN_CHAIN","getBaseSpec","sftResult","index","price","fromWei","prices","quantity","maxMintable","minted","numMinted","cfolioTypes","getCFolioSpec","cfolioResult","message","_getUserSft","getTokenIds","bridgeToken","mergeList","t","newUserSFT","mask","lte","BASE_CARD_MAX","bn","cr","cardIndex","levelIndex","c","bridgeItem","eq","levelId","cardId","isBaseCard","isStockCard","STOCK_CARD_MAX","isWallet","BRIDGE_READY","BRIDGE_PENDING","LOCKED","UNLOCKED","rewardRate","rewardShare","rewardEarned","mintTimestamp","boosterRewards","gt","unshift","getTokenInformation","result2","readIndex","destinationId","sft","numCFolios","childId","child","numAssets","bidx","getStakeCurrencies","getStableCurrencies","_getSftRewards","plc","contracts","sfts","getRewardInfo","cfiResult","ri","numSlots","slotId","ris","boosterLocked","boosterPending","boosterApr","secsLeft","boosterSecsLeft","_updatePoolAPR","_getAssetsBalances","input","Object","entries","getErc20Balances","_getAssetsAllowances","spender","handlerAddress","getErc20Allowances","mul","_doSftBuy","amount","id","sftAmount","toWei","balanceOf","walletAmount","cardData","sftMintContract","approve","_checkUnlimited","wait","mintWowsSFT","errorMessage","error","_doSftLock","sftHolderContract","safeTransferFrom","_doSftTransfer","contract","signedContract","_doSftMessageProof","processPending","RootTunnelAbi","receiveMessage","resetPending","_doSftUnlock","tradeFloorContract","burn","_doCFolioItemBuy","wowsAmount","investAmount","sftTokenId","cfolioType","weiAmount","investWeiAmounts","_investmentApproval","additionalGas","options","estimateGas","mintCFolioItemSFT","gasEstimation","gasLimit","_doCFolioItemDeposit","cfolioTokenId","cfihContract","deposit","_setCFolioAmount","msgType","cfiType","requireOneSet","cfiLevel","cf","cfc","approvalContracts","oneSet","oneStableSet","balance","approvalContract","ERC20Abi","investWeiAmount","sub","_doCFolioItemWithdraw","tokenIdToAddress","cfa","getAmounts","cfolioAmounts","withdrawWeiAmounts","withdrawWeiAmount","withdraw","transactionHash","_doCFolioItemUnlockAndTransfer","src","dst","lockedCFIs","transferCFIs","dstAddress","burnBatch","fill","srcAddress","safeBatchTransferFrom","_doSftClaim","mintContract","claimSFTRewards","time","_doSftClaimBooster","claimRewards","_doSftUpgrade","setRewardRate","_setRewardRate","_doRevokeApproval","currency","providerOptions","walletconnect","package","WalletConnectProvider","infuraId","rpc","display","logo","WalletLinkLogo","description","appName","networkUrl","WalletLink","connector","_","walletLink","makeWeb3Provider","providerInfo","getInjectedProvider","injected","getProviderDescription","Web3Modal","cacheProvider","register","_payload","then","default","wss","wssEndpoint","rpcEndpoint","SIDE_CHAIN","UNKNOWN","handleTransfer","operator","to","accountChanged","addresses","token","sftHolderProxy","SFTHolderAbi","sftMinterProxy","SFTMinterAbi","tradeFloorProxy","TradeFloorAbi","cfolioFarmLP","cfolioFarmSC","uniDaiWeth","UniV2PairAbi","uniV2Pair","uniV2PairNative","usdcToken","usdtToken","daiToken","tusdToken","curveYToken","curveAToken","cfolioItemHandlerLPProxy","handlerSlotId","cfolioItemHandlerSCProxy","curveYDeposit","curveADeposit","signer","TokenAbi","CFolioItemHandlerAbi","sftEvaluatorProxy","SftEvaluatorAbi","boosterProxy","BoosterAbi","bridgeTarget","cfolio","iface","Interface","CFolioFarmAbi","stableCurrencies","isft","amounts","nativeWowsPrice","stakePrice","e18","reserve0","pair","reserveUSD","totalSupply","div","lpContract","getReserves","daiWethReserves","wethPrice","reserve1","wowsWethReserves","curveContract","CurveDepositAbi","calc_withdraw_one_coin","emmission","apy","toFixed","parseFloat","formatUnits","parseUnits","defaultReturn","StoreClasses","store","StoreContainer","addEventListener","mount","unmount","props","children","React","Component","ImageSlider","sliderId","initCallback","onSlideChanged","slideWidth","slides","startSlideId","checkbox","toolTippLink","containerRef","useRef","useState","currentIndex","setCurrentIndex","checked","setChecked","displayIndex","setDisplayIndex","setLeft","width","setWidth","useTransition","enableTransition","go","prev","next","useEffect","current","clientWidth","resizeListener","removeEventListener","className","ref","style","onClick","newChecked","select","cfi","disabled","locked","height","url","alt","withTranslation","hideCB","show","redraw","setRedraw","useReducer","state","action","approving","setApproving","checkMask","assetState","handleRevoke","fromEntries","Modal","onHide","animation","size","Header","closeButton","Title","Body","k","v","onChange","setCheck","target","defaultChecked","revoke","Footer","AssetInput","defaultValue","maxAmount","minAmount","hasFocus","setHasFocus","amountChanged","setAmountChanged","inputRef","verifyAndCb","useCallback","num","NaN","maxVisible","autoComplete","onFocus","onBlur","event","replace","hidden","cfolioItem","investCurrency","nftPrice","nftType","beforeBuy","tabOption","setTabOption","currencyIndex","setCurrencyIndex","checkedIndex","setCheckedIndex","inputVals","setInputVals","txRunning","setTXRunning","modal","showModal","currencies","curMaxAmount","resetTx","newValues","isNaN","vc","buttonText","renderSpan","caption","spanText","setCurrentValue","flexBasis","handleBuy","setInvestAmount","hasSft","setHasSft","inputVal","setInputVal","onAssetsState","rel","href","_getTokenContractAddress","CFolioInvest","receiverImages","sliderInterface","slideIndex","displayType","tokenPrice","continueBuy","beforeBuyCallback","cfiRender","currentImage","modalOpen","setState","_onAssetsState","bind","sliderCB","val","history","baseTokenId","delete","_updateCFolioItems","newDisplayType","_updateImages","_updateRewards","newBaseTokenId","newTokenId","rewards","rewardMain","newImages","allowedLevel","tokenIdIdx","_cfolioItemsForSlider","WalletLogo","setCurrentSlide","handleImageChange","change","setCurrentImage","renderItem","renderCFolioItem","cfolioItemCard","scroll","controlAttr","investment","investmentUSD","shortDescription","sliderInit","motto","backdrop","INITIAL_CFOLIO_ITEMS","title","INITIAL_STATE","currentType","CFolioItemSfts","_updateContent","storeItems","cardRender","CFolioManager","cfolioItemCards","sliderInterfaces","sliderIndex","sliderImagesMiddleAll","txPending","sliderImagesTop","sliderImagesMiddle","sliderImagesBottom","checkedMiddle","onTransfer","setSliderIndex","_getSftImages","_createSliderImages","pred","pred2","topImages","bottomImages","constraints","cfiCard","cat","category","_filterSliderImagesMiddle","onlyIfChanged","pos","lockedCount","majority","buttonState","Social","twitter","etherscan","github","discord","telegram","privacyFile","privacyTerms","policyChanged","text","policy","loadTerms","dangerouslySetInnerHTML","__html","chainState","handleSubmit","onConnectionChanged","renderDropDown","wowsPrice","preventDefault","substring","dropdownItems","isActiveNav","random","currentPath","pathname","shortAddress","_shortAddress","navItems","_getNavItems","Navbar","bg","variant","expand","Toggle","Brand","as","Link","Image","Collapse","navItem","Form","onSubmit","section","WolvesLogo","BoisLogo","CardBox","cardType","prowess","earned","progressRefs","progressRef","splice","isSidechain","isMainchain","disableRemotePlayback","autoPlay","loop","poster","playsInline","topOffset","sftc","top","renderCFolioItems","padStart","INITIAL_PAGE3_STATE","contentLoaded","contentChanged","isWalletConnected","Page3","levelDescription","walletTokenIds","levelFilter","nextLevel","prevLevel","scrollOnUpdate","mainRef","createRef","progessStart","Date","progressInterval","_checkContent","scrollIntoView","clearInterval","newType","newLevelId","idx","header","hasCFolioItems","setInterval","_ticker","defaultLevelId","levelLength","perc","getTime","levelPosition","hasMoreLevels","Logo","reduce","cur","remainingFromSecs","secondsLeft","secInHour","secInMinute","days","floor","hours","minutes","seconds","canBridge","tOption","setTOption","setBridgeTarget","customAddress","setCustomAddress","getBridgeTarget","transferState","transferFunc","d","addressvalid","marginTop","paddingLeft","INITIAL_PAGE4_STATE","renderList","selectedCFolio","transferOpen","boosterExistingValue","boosterNewValue","boosterRelock","Page4","needUpdate","imageContainerRef","cfolios","onSFTTransaction","scrollTo","append","_getCurrentIndex","fixIndex","newRenderList","curTokenId","curCardId","index1","index2","_fixUrl","onProgressIteration","cardLevel","canRelock","currentTarget","getAttribute","prevUrl","nextUrl","currentRender","currentLevel","currentCard","noQuantity","sftStatus","prevIndex","nextIndex","autoUpgrade","profitReward","autoUpgradeText","share","backUrl","assetIndex","now","upgradeReward","rewardIndex","aprNum","aprToApy","boosterFarmButtonText","boosterButtonText","boosterPeriod","claimableAmount","claimText","imgClass","boosterState","boosterFuncN","boosterFuncR","boosterFuncE","boosterTotal","lockRewards","transferButtonText","clientHeight","sftChild","toggleImage","zIndex","transition","visibility","marginBottom","GoTo","toUpperCase","_onUpgrade","period","onAnimationIteration","marginLeft","marginRight","_onBuy","_onClaim","_onClaimBooster","isMobile","test","navigator","userAgent","document","createEvent","hasTouchEvent","replaceLogo","PageStatus","WolfToast","txId","connectId","onAddressCopied","onTransaction","toast","_formatToast","autoClose","msg","_updateToast","render","isActive","update","alignItems","flexGrow","position","pauseOnFocusLoss","App","setNetwork","component","Page1","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.461367e7.chunk.js","sourcesContent":["/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n//import { Buffer } from 'safe-buffer';\nimport { BlockHeader } from '@ethereumjs/block/dist/header';\nimport blockHeaderFromRpc from '@ethereumjs/block/dist/header-from-rpc';\nimport {\n  bufferToHex,\n  fromUtf8,\n  keccak,\n  keccak256,\n  rlp,\n  setLengthLeft,\n  toBuffer,\n  zeros,\n} from 'ethereumjs-util';\nimport { ethers } from 'ethers';\nimport { BaseTrie } from 'merkle-patricia-tree';\n\nconst CPM_ABI = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'proposer',\n        type: 'address',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'headerBlockId',\n        type: 'uint256',\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'reward',\n        type: 'uint256',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'start',\n        type: 'uint256',\n      },\n      { indexed: false, internalType: 'uint256', name: 'end', type: 'uint256' },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'root',\n        type: 'bytes32',\n      },\n    ],\n    name: 'NewHeaderBlock',\n    type: 'event',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'currentHeaderBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'getLastChildBlock',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    name: 'headerBlocks',\n    outputs: [\n      { internalType: 'bytes32', name: 'root', type: 'bytes32' },\n      { internalType: 'uint256', name: 'start', type: 'uint256' },\n      { internalType: 'uint256', name: 'end', type: 'uint256' },\n      { internalType: 'uint256', name: 'createdAt', type: 'uint256' },\n      { internalType: 'address', name: 'proposer', type: 'address' },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n];\n\nconst SEND_MESSAGE_SIG =\n  '0x8c5261668696ce22758910d05bab8f186d6eb247ceac2af2e82c7dc17669b036';\n\nconst GRAPH_BASE = 'https://api.thegraph.com/subgraphs/name/';\nconst GRAPH_INDEX = 'https://api.thegraph.com/index-node/graphql';\nconst GRAPH_ACCOUNT = 'wolvesofwallstreet/';\n\ntype HeaderBlock = {\n  root: string;\n  start: ethers.BigNumber;\n  end: ethers.BigNumber;\n  createdAt: ethers.BigNumber;\n  proposer: string;\n};\n\ntype RawBlock = {\n  hash: string;\n  number: string;\n  timestamp: string;\n  transactionsRoot: string;\n  receiptsRoot: string;\n  transactions: [{ hash: string }];\n};\n\ntype PendingItem = {\n  rootBlock: number; // The blocknumber on the root chain at create tie\n  headerBlockId: number; // The header blockId (checkpointed)\n  tokenIds: string[];\n  txHash: string; // Child chain TX hash\n  txBlockNumber: number; // Child chain block number\n  pending: boolean;\n};\n\ntype Storage = {\n  ethLastHeaderScanned: number;\n  ethLastScanned: number;\n  polygonLastScanned: number;\n  pendingItems: PendingItem[];\n};\n\ntype CB_FUNC = () => void;\n\nclass MerkleTree {\n  leaves: Buffer[];\n  layers: Buffer[][];\n\n  constructor(leaves: Buffer[]) {\n    if (leaves === void 0) {\n      leaves = [];\n    }\n    if (leaves.length < 1) {\n      throw new Error('Atleast 1 leaf needed');\n    }\n    const depth = Math.ceil(Math.log(leaves.length) / Math.log(2));\n    if (depth > 20) {\n      throw new Error('Depth must be 20 or less');\n    }\n    this.leaves = leaves.concat(\n      Array.from(Array(Math.pow(2, depth) - leaves.length), function () {\n        return zeros(32);\n      })\n    );\n    this.layers = [this.leaves];\n    this.createHashes(this.leaves);\n  }\n\n  createHashes(nodes: Buffer[]) {\n    if (nodes.length === 1) {\n      return false;\n    }\n    const treeLevel = [];\n    for (let i = 0; i < nodes.length; i += 2) {\n      const left = nodes[i];\n      const right = nodes[i + 1];\n      const data = Buffer.concat([left, right]);\n      treeLevel.push(keccak(data));\n    }\n    // is odd number of nodes\n    if (nodes.length % 2 === 1) {\n      treeLevel.push(nodes[nodes.length - 1]);\n    }\n    this.layers.push(treeLevel);\n    this.createHashes(treeLevel);\n  }\n\n  getRoot(): Buffer {\n    return this.layers[this.layers.length - 1][0];\n  }\n}\n\n//////////////////////////////////////////////////////////////////////////////\n// MainClass\n//////////////////////////////////////////////////////////////////////////////\n\nexport class MessageProof {\n  provider: ethers.providers.JsonRpcProvider;\n  checkPointManager: ethers.Contract;\n  localStorageKey: string;\n  localStorageItems: Storage;\n  newBlockFilter: ethers.EventFilter;\n  account: string;\n  rootTunnel: string;\n  childTunnel: string;\n  rootGraph: string;\n  childGraph: string;\n  changed = false;\n  launchBlock = 0;\n  changeHandler: CB_FUNC;\n\n  static LSKMUMBAI = 'mumbai_goerli_bridge';\n  static LSKMATIC = 'matic_mainnet_bridge';\n\n  constructor(\n    ethereumProvider: ethers.providers.Provider,\n    chainId: number,\n    checkPointManagerAddress: string,\n    account: string,\n    rootTunnel: string,\n    childTunnel: string,\n    cb: CB_FUNC\n  ) {\n    if (chainId === 5) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://rpc-mumbai.maticvigil.com/'\n      );\n      this.rootGraph = 'wows-goerli-v2';\n      this.childGraph = 'wows-maticmum-v2';\n      this.localStorageKey = MessageProof.LSKMUMBAI + '#' + account;\n    } else if (chainId === 1) {\n      this.provider = new ethers.providers.JsonRpcProvider(\n        'https://polygon-rpc.com/'\n      );\n      this.rootGraph = 'wows-mainnet-v2';\n      this.childGraph = 'wows-matic-v2';\n      this.localStorageKey = MessageProof.LSKMATIC + '#' + account;\n    } else {\n      this.localStorageKey = '';\n      throw new Error('Unsupported chainId');\n    }\n\n    this.checkPointManager = new ethers.Contract(\n      checkPointManagerAddress,\n      CPM_ABI,\n      ethereumProvider\n    );\n\n    const items = window.localStorage.getItem(this.localStorageKey);\n    // Migrate from old format\n    if (items && items.indexOf('ethLastHeaderScanned') > 0) {\n      this.localStorageItems = JSON.parse(items);\n    } else {\n      this.localStorageItems = {\n        ethLastHeaderScanned: 1,\n        ethLastScanned: 1,\n        polygonLastScanned: 1,\n        pendingItems: [],\n      };\n    }\n\n    this.newBlockFilter = this.checkPointManager.filters.NewHeaderBlock();\n    this.account = account;\n    this.rootTunnel = rootTunnel;\n    this.childTunnel = childTunnel;\n    this.changeHandler = cb;\n\n    this._setup();\n  }\n\n  accountChanged(account: string): void {\n    if (account !== this.account) {\n      const hasItems = this.localStorageItems.pendingItems.length > 0;\n      this.account = account;\n      this.localStorageKey = this.localStorageKey.split('#')[0] + '#' + account;\n      const items = window.localStorage.getItem(this.localStorageKey);\n      if (items) {\n        this.localStorageItems = JSON.parse(items);\n        if (hasItems || this.localStorageItems.pendingItems.length > 0)\n          this.changed = true;\n        this._setup();\n      } else {\n        this.localStorageItems = {\n          ethLastHeaderScanned: 1,\n          ethLastScanned: 1,\n          polygonLastScanned: 1,\n          pendingItems: [],\n        };\n        if (hasItems) {\n          this.changed = false;\n          this.changeHandler();\n        }\n      }\n    }\n  }\n\n  removeItem(tokenId: ethers.BigNumber): void {\n    if (this.localStorageKey) {\n      const tokenIdHex = tokenId.toHexString();\n      this.localStorageItems.pendingItems =\n        this.localStorageItems.pendingItems.filter((elem) =>\n          elem.tokenIds.includes(tokenIdHex)\n        );\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.localStorageItems)\n      );\n    }\n  }\n\n  getTokenIds(\n    account: string\n  ): { tokenId: ethers.BigNumber; available: boolean }[] {\n    return this.localStorageItems.pendingItems\n      .filter((item) => !item.pending)\n      .map((item) =>\n        item.tokenIds.map((tid) => {\n          return {\n            tokenId: ethers.BigNumber.from(tid),\n            available: item.headerBlockId > 0,\n          };\n        })\n      )\n      .flat();\n  }\n\n  processPending(tokenId: ethers.BigNumber): Promise<string> {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.localStorageItems.pendingItems.find((item) =>\n      item.tokenIds.includes(tokenIdHex)\n    );\n    if (!item || !item.headerBlockId) throw new Error('TokenId invalid');\n    item.pending = true;\n\n    return this.buildPayloadForExit(item.headerBlockId, item.txHash);\n  }\n\n  resetPending(tokenId: ethers.BigNumber): void {\n    const tokenIdHex = tokenId.toHexString();\n    const item = this.localStorageItems.pendingItems.find((item) =>\n      item.tokenIds.includes(tokenIdHex)\n    );\n    if (item) item.pending = false;\n  }\n\n  async buildPayloadForExit(\n    headerBlockId: number,\n    txHash: string\n  ): Promise<string> {\n    if (!this.checkPointManager || !this.provider) return '';\n\n    // Get the last ChildBlock in checkPointManager\n    const lastChildBlock: ethers.BigNumber =\n      await this.checkPointManager.getLastChildBlock();\n\n    const receipt = await this.provider.getTransactionReceipt(txHash);\n    const block = (await this.provider.send('eth_getBlockByNumber', [\n      ethers.utils.hexValue(receipt.blockNumber),\n      true,\n    ])) as RawBlock;\n\n    if (lastChildBlock.lt(receipt.blockNumber))\n      throw new Error('Not yet checkpointed');\n\n    const headerBlock: HeaderBlock = await this.checkPointManager.headerBlocks(\n      headerBlockId\n    );\n\n    const blockProof = await this._buildBlockProof(\n      headerBlock.start.toNumber(),\n      headerBlock.end.toNumber(),\n      receipt.blockNumber\n    );\n\n    const receiptProof = await this._getReceiptProof(receipt, block);\n\n    const logIndex = receipt.logs.findIndex(function (log) {\n      return log.topics[0].toLowerCase() === SEND_MESSAGE_SIG;\n    });\n\n    return this._encodePayload(\n      headerBlockId,\n      blockProof,\n      receipt.blockNumber,\n      parseInt(block.timestamp),\n      Buffer.from(block.transactionsRoot.slice(2), 'hex'),\n      Buffer.from(block.receiptsRoot.slice(2), 'hex'),\n      this._getReceiptBytes(receipt),\n      receiptProof.parentNodes as Buffer[][],\n      receiptProof.path as Buffer,\n      logIndex\n    );\n  }\n\n  _onNewHeaderBlock = (result: ethers.providers.Log): void => {\n    this._findHeaderBlockNumber(0, 0, [result]);\n  };\n\n  _setup = async (): Promise<void> => {\n    await this._scanPendingTokenIds();\n    if (this.localStorageItems.pendingItems.length > 0) {\n      // Get the last ChildBlock in checkPointManager\n      const lastChildBlock = (\n        (await this.checkPointManager.getLastChildBlock()) as ethers.BigNumber\n      ).toNumber();\n\n      // Run throu pendingItems and look which are ready\n      let scanHeaderFrom,\n        scanHeaderTo = 0;\n      for (const pI of this.localStorageItems.pendingItems) {\n        if (!pI.headerBlockId) {\n          if (pI.txBlockNumber <= lastChildBlock) {\n            if (!scanHeaderFrom) scanHeaderFrom = pI.rootBlock;\n            scanHeaderTo = pI.rootBlock;\n          }\n        }\n      }\n      if (scanHeaderFrom) {\n        if (scanHeaderFrom < this.localStorageItems.ethLastHeaderScanned)\n          scanHeaderFrom = this.localStorageItems.ethLastHeaderScanned;\n        if (scanHeaderTo < scanHeaderFrom) scanHeaderTo = scanHeaderFrom;\n        await this._findHeaderBlockNumber(scanHeaderFrom, scanHeaderTo);\n      }\n      if (\n        this.localStorageItems.pendingItems[\n          this.localStorageItems.pendingItems.length - 1\n        ].txBlockNumber > lastChildBlock\n      ) {\n        this.checkPointManager.provider.off(\n          this.newBlockFilter,\n          this._onNewHeaderBlock\n        );\n        this.checkPointManager.provider.on(\n          this.newBlockFilter,\n          this._onNewHeaderBlock\n        );\n      }\n    }\n  };\n\n  _scanPendingTokenIds = async (): Promise<void> => {\n    //Step 1: fetch all sft token transfers to childTunnel\n    try {\n      const ethBlockNumber =\n        await this.checkPointManager.provider.getBlockNumber();\n      // Poll until we reached startup block\n      let query = `{ \"query\": \"{indexingStatusForCurrentVersion(subgraphName: \\\\\"${GRAPH_ACCOUNT}${this.childGraph}\\\\\") { chains { latestBlock { number }}}}\"}`;\n      let results = await (\n        await fetch(GRAPH_INDEX, {\n          method: 'POST', // or 'PUT'\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: query,\n        })\n      ).json();\n      const syncedBlockNumber =\n        results.data.indexingStatusForCurrentVersion.chains[0].latestBlock\n          .number;\n\n      query = `{\"query\":\"{ sftTransferEntities(where: {to: \\\\\"${this.childTunnel}\\\\\", from: \\\\\"${this.account}\\\\\", block_gt: ${this.localStorageItems.polygonLastScanned}}, orderBy: block) { txHash block blockTimestamp tokenIds }}\",\"variables\":null}`;\n      this.localStorageItems.polygonLastScanned =\n        await this.provider.getBlockNumber();\n      const mumbaiTime = (\n        await this.provider.getBlock(this.localStorageItems.polygonLastScanned)\n      ).timestamp;\n      if (!this.launchBlock)\n        this.launchBlock = this.localStorageItems.polygonLastScanned;\n\n      results = await (\n        await fetch(GRAPH_BASE + GRAPH_ACCOUNT + this.childGraph, {\n          method: 'POST', // or 'PUT'\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: query,\n        })\n      ).json();\n\n      // Step 2: Create a Set with tokenIds as key\n      const bridgeItems = new Map<\n        string,\n        {\n          count: number;\n          hash: string;\n          polygonBlockNumber: number;\n          ethBlockNumber: number;\n          headerBlockId: number;\n          pending: boolean;\n        }\n      >();\n      for (const ent of results.data.sftTransferEntities) {\n        const tokenIds = ent.tokenIds.join('_');\n\n        const item = bridgeItems.get(tokenIds) ?? {\n          count: 0,\n          hash: '',\n          polygonBlockNumber: 0,\n          ethBlockNumber: 0,\n          headerBlockId: 0,\n          pending: false,\n        };\n        ++item.count;\n        item.hash = ent.txHash;\n        item.polygonBlockNumber = parseInt(ent.block);\n        const logTimestamp = parseInt(ent.blockTimestamp);\n        item.ethBlockNumber = Math.trunc(\n          ethBlockNumber - (mumbaiTime - logTimestamp) / 10\n        );\n        bridgeItems.set(tokenIds, item);\n      }\n\n      // Insert existing pending items\n      this.localStorageItems.pendingItems.forEach((item) => {\n        const tokenIds = item.tokenIds.join('_');\n        if (bridgeItems.get(tokenIds)) throw new Error('Sync Mismatch');\n        bridgeItems.set(tokenIds, {\n          count: 1,\n          hash: item.txHash,\n          polygonBlockNumber: item.txBlockNumber,\n          ethBlockNumber: item.rootBlock,\n          headerBlockId: item.headerBlockId,\n          pending: item.pending,\n        });\n      });\n\n      query = `{\"query\":\"{ sftTransferEntities(where: {to: \\\\\"${this.account}\\\\\", from: \\\\\"${this.rootTunnel}\\\\\", txMethodID: \\\\\"0xf953cec7\\\\\", block_gt: ${this.localStorageItems.ethLastScanned}}, orderBy: block) { txHash block blockTimestamp tokenIds }}\",\"variables\":null}`;\n      this.localStorageItems.ethLastScanned = ethBlockNumber;\n\n      results = await (\n        await fetch(GRAPH_BASE + GRAPH_ACCOUNT + this.rootGraph, {\n          method: 'POST', // or 'PUT'\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: query,\n        })\n      ).json();\n\n      // Step 4: Create a Set with tokenIds as key\n      for (const ent of results.data.sftTransferEntities) {\n        const tokenIds = ent.tokenIds.join('_');\n        const item = bridgeItems.get(tokenIds);\n        if (!item || item.count <= 0) throw new Error('Sync mismatch');\n        --item.count;\n      }\n\n      // Collect the results\n      this.localStorageItems.pendingItems = [];\n      for (const key of bridgeItems.keys()) {\n        const value = bridgeItems.get(key);\n        if (value && value.count > 0) {\n          this.localStorageItems.pendingItems.push({\n            rootBlock: value.ethBlockNumber,\n            headerBlockId: value.headerBlockId,\n            tokenIds: key.split('_'),\n            txHash: value.hash,\n            txBlockNumber: value.polygonBlockNumber,\n            pending: value.pending,\n          });\n          this.changed = true;\n        }\n      }\n\n      this.localStorageItems.pendingItems.sort(\n        (a, b) => a.txBlockNumber - b.txBlockNumber\n      );\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.localStorageItems)\n      );\n\n      if (this.launchBlock > syncedBlockNumber)\n        window.setTimeout(this._setup, 10000);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  _encodePayload(\n    headerNumber: number,\n    buildBlockProof: string,\n    blockNumber: number,\n    timestamp: number,\n    transactionsRoot: Buffer,\n    receiptsRoot: Buffer,\n    receipt: Buffer,\n    receiptParentNodes: Array<Buffer[]>,\n    path: Buffer,\n    logIndex: number\n  ): string {\n    return bufferToHex(\n      rlp.encode([\n        headerNumber,\n        buildBlockProof,\n        blockNumber,\n        timestamp,\n        bufferToHex(transactionsRoot),\n        bufferToHex(receiptsRoot),\n        bufferToHex(receipt),\n        bufferToHex(rlp.encode(receiptParentNodes)),\n        bufferToHex(Buffer.concat([Buffer.from('00', 'hex'), path])),\n        logIndex,\n      ])\n    );\n  }\n\n  async _findHeaderBlockNumber(\n    scanStart: number,\n    scanEnd: number,\n    eventLogs?: ethers.providers.Log[]\n  ): Promise<void> {\n    let piIndex = 0;\n    let logs = eventLogs;\n    if (!logs) {\n      if (!scanStart) {\n        // TODO: Find start eth block by timestamp\n        throw new Error('Historical scan not yet mplemented');\n      }\n      const filter = {\n        ...this.checkPointManager.filters.NewHeaderBlock(),\n        fromBlock: scanStart,\n        toBlock: scanEnd + 999,\n      };\n      logs = await this.checkPointManager.provider.getLogs(filter);\n    }\n\n    const pendingItems = this.localStorageItems.pendingItems;\n\n    for (const log of logs) {\n      const parsed = this.checkPointManager.interface.parseLog(log);\n      while (\n        piIndex < pendingItems.length &&\n        pendingItems[piIndex].txBlockNumber <= parsed.args.end\n      ) {\n        if (\n          !pendingItems[piIndex].headerBlockId &&\n          pendingItems[piIndex].txBlockNumber >= parsed.args.start\n        ) {\n          pendingItems[piIndex].headerBlockId =\n            parsed.args.headerBlockId.toNumber();\n          this.changed = true;\n        }\n        ++piIndex;\n      }\n      if (piIndex >= pendingItems.length) break;\n    }\n    if (piIndex >= pendingItems.length) {\n      this.checkPointManager.provider.off(\n        this.newBlockFilter,\n        this._onNewHeaderBlock\n      );\n    }\n\n    if (this.changed) {\n      this.localStorageItems.ethLastHeaderScanned =\n        logs.length > 0 ? logs[logs.length - 1].blockNumber : scanEnd + 1000;\n\n      window.localStorage.setItem(\n        this.localStorageKey,\n        JSON.stringify(this.localStorageItems)\n      );\n      this.changeHandler();\n      this.changed = false;\n    }\n  }\n\n  async _buildBlockProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<string> {\n    const proof = await this._getFastMerkleProof(start, end, blockNumber);\n\n    return bufferToHex(\n      Buffer.concat(\n        proof.map(function (p) {\n          return toBuffer(p);\n        })\n      )\n    );\n  }\n\n  async _getFastMerkleProof(\n    start: number,\n    end: number,\n    blockNumber: number\n  ): Promise<(string | Buffer)[]> {\n    const merkleTreeDepth = Math.ceil(Math.log2(end - start + 1));\n    const reversedProof = [];\n    const offset = start;\n    const targetIndex = blockNumber - offset;\n    let leftBound = 0;\n    let rightBound = end - offset;\n    let depth = 0;\n\n    while (depth < merkleTreeDepth) {\n      let newLeftBound: number,\n        newRightBound: number,\n        expectedHeight: number,\n        subTreeHeight: number,\n        heightDifference: number,\n        remainingNodesHash: Buffer;\n\n      const nLeaves = Math.pow(2, merkleTreeDepth - depth);\n      const pivotLeaf = leftBound + nLeaves / 2 - 1;\n      if (!(targetIndex > pivotLeaf)) {\n        newRightBound = Math.min(rightBound, pivotLeaf);\n        expectedHeight = merkleTreeDepth - (depth + 1);\n        if (!(rightBound <= pivotLeaf)) {\n          subTreeHeight = Math.ceil(Math.log2(rightBound - pivotLeaf));\n          heightDifference = expectedHeight - subTreeHeight;\n          remainingNodesHash = await this._queryRootHash(\n            offset + pivotLeaf + 1,\n            offset + rightBound\n          );\n          // The remaining leaves will hold the merkle root of a zero-filled tree of height subTreeHeight\n          const leafRoots_1 = this._recursiveZeroHash(subTreeHeight);\n          const leaves = Array.from(\n            { length: Math.pow(2, heightDifference) },\n            function () {\n              return toBuffer(leafRoots_1);\n            }\n          );\n          leaves[0] = remainingNodesHash;\n          const subTreeMerkleRoot = new MerkleTree(leaves).getRoot();\n          reversedProof.push(subTreeMerkleRoot);\n        } else {\n          const subTreeMerkleRoot = this._recursiveZeroHash(expectedHeight);\n          reversedProof.push(subTreeMerkleRoot);\n        }\n        rightBound = newRightBound;\n      } else {\n        newLeftBound = pivotLeaf + 1;\n        const subTreeMerkleRoot = await this._queryRootHash(\n          offset + leftBound,\n          offset + pivotLeaf\n        );\n        reversedProof.push(subTreeMerkleRoot);\n        leftBound = newLeftBound;\n      }\n      depth += 1;\n    }\n    return reversedProof.reverse();\n  }\n\n  async _queryRootHash(start: number, end: number): Promise<Buffer> {\n    return toBuffer(\n      '0x' + (await this.provider.send('eth_getRootHash', [start, end]))\n    );\n  }\n\n  _recursiveZeroHash(n: number): string | Buffer {\n    if (n === 0)\n      return '0x0000000000000000000000000000000000000000000000000000000000000000';\n    const subHash = this._recursiveZeroHash(n - 1);\n    return keccak256(\n      toBuffer(\n        ethers.utils.defaultAbiCoder.encode(\n          ['bytes32', 'bytes32'],\n          [subHash, subHash]\n        )\n      )\n    );\n  }\n\n  async _getReceiptProof(\n    receipt: ethers.providers.TransactionReceipt,\n    block: RawBlock\n  ): Promise<Record<string, unknown>> {\n    const stateSyncTxHash = bufferToHex(this._getStateSyncTxHash(block));\n    const receiptsTrie = new BaseTrie();\n    const receiptPromises: Promise<ethers.providers.TransactionReceipt>[] = [];\n\n    for (const tx of block.transactions) {\n      if (tx.hash !== stateSyncTxHash) {\n        receiptPromises.push(this.provider.getTransactionReceipt(tx.hash));\n      }\n    }\n    const receipts = await Promise.all(receiptPromises);\n\n    for (const siblingReceipt of receipts) {\n      const path = rlp.encode(siblingReceipt.transactionIndex);\n      const rawReceipt = this._getReceiptBytes(siblingReceipt);\n\n      await receiptsTrie.put(path, rawReceipt);\n    }\n\n    const path = await receiptsTrie.findPath(\n      rlp.encode(receipt.transactionIndex)\n    );\n    if (!path.node || path.remaining.length > 0)\n      throw new Error('findpath failed');\n    return {\n      blockHash: toBuffer(receipt.blockHash),\n      parentNodes: path.stack.map(function (s) {\n        return s.raw();\n      }),\n      root: this._getRawHeader(block).receiptTrie as Buffer,\n      path: rlp.encode(receipt.transactionIndex),\n      value: rlp.decode(path.node.value),\n    };\n  }\n\n  _getReceiptBytes(receipt: ethers.providers.TransactionReceipt): Buffer {\n    let encodedData = rlp.encode([\n      toBuffer(\n        receipt.status !== undefined && receipt.status != null\n          ? receipt.status\n            ? '0x1'\n            : '0x'\n          : receipt.root\n      ),\n      toBuffer(receipt.cumulativeGasUsed.toNumber()),\n      toBuffer(receipt.logsBloom),\n      // encoded log array\n      receipt.logs.map(function (l) {\n        // [address, [topics array], data]\n        return [toBuffer(l.address), l.topics.map(toBuffer), toBuffer(l.data)];\n      }),\n    ]);\n    if (receipt.status !== undefined && receipt.type !== 0) {\n      encodedData = Buffer.concat([\n        toBuffer('0x' + receipt.type.toString(16)),\n        encodedData,\n      ]);\n    }\n    return encodedData;\n  }\n\n  _getStateSyncTxHash(block: RawBlock): Buffer {\n    return keccak256(\n      Buffer.concat([\n        toBuffer(fromUtf8('matic-bor-receipt-')),\n        setLengthLeft(toBuffer(block.number), 8),\n        toBuffer(block.hash),\n      ])\n    );\n  }\n\n  _getRawHeader(block: RawBlock): BlockHeader {\n    return blockHeaderFromRpc(block);\n  }\n}\n","import i18n from 'i18next';\nimport detector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nimport translationEN from './locales/en_US/translation.json';\nimport translationZH from './locales/zh_CN/translation.json';\n\n// the translations\nconst resources = {\n  en: {\n    translation: translationEN,\n  },\n  zh: {\n    translation: translationZH,\n  },\n};\n\nconst options = {\n  order: ['path', 'navigator'],\n};\n\ni18n\n  .use(detector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    detection: options,\n    supportedLngs: ['en', 'zh'],\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // react already safes from xss\n    },\n  });\n\nexport default i18n;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport ERC20Abi from 'abi/contracts/0xerc1155/interfaces/IERC20.sol/IERC20.json';\nimport CurveDepositAbi from 'abi/contracts/interfaces/curve/CurveDepositInterfaceAPoly.sol/ICurveFiDepositAPoly.json';\nimport UniV2PairAbi from 'abi/contracts/interfaces/uniswap/IUniswapV2Pair.sol/IUniswapV2Pair.json';\nimport BoosterAbi from 'abi/contracts/src/booster/Booster.sol/Booster.json';\nimport CFolioItemHandlerAbi from 'abi/contracts/src/cfolio/interfaces/ICFolioItemHandler.sol/ICFolioItemHandler.json';\nimport SftEvaluatorAbi from 'abi/contracts/src/cfolio/SFTEvaluator.sol/SFTEvaluator.json';\nimport SFTMinterAbi from 'abi/contracts/src/crowdsale/WOWSSftMinter.sol/WOWSSftMinter.json';\nimport CFolioFarmAbi from 'abi/contracts/src/investment/CFolioFarm.sol/CFolioFarm.json';\nimport RootTunnelAbi from 'abi/contracts/src/polygon/WOWSERC1155RootTunnel.sol/WOWSERC1155RootTunnel.json';\nimport TradeFloorAbi from 'abi/contracts/src/token/TradeFloor.sol/TradeFloor.json';\nimport TokenAbi from 'abi/contracts/src/token/WOWSErc20.sol/WowsToken.json';\nimport SFTHolderAbi from 'abi/contracts/src/token/WOWSERC1155.sol/WOWSERC1155.json';\nimport { ethers } from 'ethers';\nimport Emitter from 'events';\nimport Dispatcher from 'flux';\nimport React from 'react';\nimport { WalletLink } from 'walletlink';\nimport Web3Modal, {\n  getInjectedProvider,\n  getProviderDescription,\n  IProviderOptions,\n} from 'web3modal';\n\nimport WalletLinkLogo from '../assets/coinbase-wallet.svg';\nimport { CARD_LEVEL, CARDS, CFOLIO_ITEMS } from '../components/types/cards';\nimport { addresses } from '../config/addresses';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from './constants';\nimport { MessageProof } from './polygon';\n\nconst emitter = new Emitter.EventEmitter();\nconst dispatcher = new Dispatcher.Dispatcher();\n\ntype PayloadContent = {\n  amount?: number;\n  investment?: number;\n  time?: number;\n  id?: ethers.BigNumber;\n  status?: 'locked';\n  filter?: Array<string>;\n  address?: string;\n};\n\ntype PayloadContentCFolioItem = {\n  wowsAmount: number;\n  investAmount: number[];\n  sftTokenId: ethers.BigNumber;\n  cfolioTokenId?: ethers.BigNumber;\n  cfolioType: number;\n};\n\nexport type PayloadContentCFolioItemLT = {\n  src: ethers.BigNumber;\n  dst: ethers.BigNumber;\n  lockedCFIs: ethers.BigNumber[];\n  transferCFIs: ethers.BigNumber[];\n};\n\nexport type Payload = {\n  type: string;\n  content: PayloadContent;\n};\n\ninterface ChainAddresses {\n  rpcEndpoint?: string;\n  wssEndpoint?: string;\n  token: string;\n  uniV2Pair: string;\n  uniV2PairNative: string;\n  stakeFarm?: string;\n  sftMinterProxy: string;\n  sftHolderProxy: string;\n  boosterProxy: string;\n  tradeFloorProxy: string;\n  sftEvaluatorProxy: string;\n  cfolioFarmLP?: string;\n  cfolioItemHandlerLPProxy?: string;\n  cfolioFarmSC?: string;\n  cfiBridgeProxy?: string;\n  cfolioItemHandlerSCProxy?: string;\n  bridgeTarget: string;\n  uniDaiWeth: string;\n  daiToken?: string;\n  tusdToken?: string;\n  usdcToken?: string;\n  usdtToken?: string;\n  curveADeposit?: string;\n  curveAToken?: string;\n  curveYDeposit?: string;\n  curveYToken?: string;\n}\n\ninterface PolygonAddresses {\n  p_checkpointManager?: string;\n  p_sftHolderProxy?: string;\n  p_childTunnel?: string;\n  polygonRootTunnelProxy?: string;\n}\n\ninterface IIndexable {\n  [key: number]: ChainAddresses;\n}\n\nexport type AssetStateresult = {\n  status:\n    | 'error'\n    | 'loaded'\n    | 'cards'\n    | 'tokens'\n    | 'cfolio_amount'\n    | 'rewards'\n    | 'balances'\n    | 'allowance';\n};\n\nexport type TokenContractResult = {\n  error: string | undefined;\n  tokenAmount: number | undefined;\n};\n\nexport type ConnectResult = {\n  type: 'event' | 'prod';\n  address: string;\n  networkName: string;\n};\n\nexport type StatusResult = {\n  status: 'error' | 'tx' | 'success' | 'approve';\n  type: string;\n  errorMessage: string | undefined;\n  tx: string | undefined;\n};\n\nexport type StakeResult = {\n  error: string | undefined;\n  state: {\n    poolSupply: number; // amount tokens in pool\n    reserve0: number; // amount pair::token0\n    reserve1: number; // amount pair::token1\n    priceReserve0: number; // price per token0\n    stakeSupply: number; // amount tokens staked\n    stakeSupplyUser: number; // amount tokens staked user\n    rewardsDuration: number; // duration in seconds reward is based on\n    rewardPerDuration: number; // reward per rewardsDuration time\n    earned: number; // amount of reward tokens earned\n  };\n};\n\nexport enum SFTS {\n  UNLOCKED,\n  LOCKED,\n  BRIDGE_PENDING,\n  BRIDGE_READY,\n}\n\nexport enum CHAINSTATE {\n  UNKNOWN,\n  INVALID_CHAIN,\n  MAIN_CHAIN,\n  SIDE_CHAIN,\n}\n\nexport interface SFTCHILD {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  status: SFTS;\n  type: number;\n  assets: number[];\n}\n\nexport interface BoosterRewards {\n  total: number;\n  pending: number;\n  apr: number;\n  secsLeft?: number;\n}\n\nexport interface SFT {\n  tokenId: ethers.BigNumber;\n  levelId: number;\n  cardId: number;\n  isBaseCard: boolean;\n  isStockCard: boolean;\n  isWallet: boolean;\n  status: SFTS;\n  rewardRate: number;\n  rewardShare: number[];\n  rewardEarned: number[];\n  mintTimestamp: number;\n  cfolioItems: SFTCHILD[];\n  boosterRewards: BoosterRewards;\n}\n\nexport const BIGNUMBER_MAX = ethers.BigNumber.from(\n  '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'\n);\n\nexport const STAKE_CURRENCIES = [\n  [[]],\n  [['WETH/WOWS'], ['WMATIC/WOWS']],\n  [['WETH/WOWS'], ['WFTM/WOWS']],\n];\n\nexport const STABLE_CURRENCIES = [\n  [['DAI', 'USDC', 'USDT', 'am3Crv']],\n  [['DAI', 'USDC', 'USDT', 'TUSD', 'yCrv']],\n  [[]],\n];\n\nconst SECONDS_PER_YEAR = 31536000;\n\nexport const REWARD_POOL_LP = 0;\nexport const REWARD_POOL_SC = 1;\n\ninterface REWARD_INFO_SLOT {\n  total: ethers.BigNumber;\n  rewardPerDuration: ethers.BigNumber;\n  priceToken: number;\n  apr: number;\n}\n\nconst INITIAL_REWARD_SLOT: REWARD_INFO_SLOT = {\n  total: ethers.BigNumber.from(0),\n  rewardPerDuration: ethers.BigNumber.from(0),\n  priceToken: 0,\n  apr: 0,\n};\n\ninterface REWARD_INFO {\n  rewardDuration: number;\n  priceWOWS: number;\n  slotInfo: REWARD_INFO_SLOT[];\n}\n\nconst INITIAL_REWARD: REWARD_INFO = {\n  rewardDuration: 0,\n  priceWOWS: 0,\n  slotInfo: [],\n};\n\nexport type ASSET_BALANCE = {\n  [key: string]: {\n    decimals: number;\n    dust: ethers.BigNumber;\n    value: number;\n    address?: string;\n    allowance: number;\n    handlerAddress?: string;\n    handlerSlotId?: number;\n  };\n};\n\ntype ASSETS = {\n  balances: ASSET_BALANCE;\n  userSFT: SFT[];\n  cards: CARDS;\n  cfolioItems: CFOLIO_ITEMS[];\n  rewardInfo: REWARD_INFO[];\n};\n\nconst readUint256 = (s: string, i: number) =>\n  ethers.BigNumber.from('0x' + s.substr(i * 64 + 2, 64));\n\nclass AsyncLock {\n  disable: () => void;\n  promise: Promise<void>;\n  constructor() {\n    this.disable = () => {\n      if (!this) alert('');\n    };\n    this.promise = Promise.resolve();\n  }\n  enable() {\n    this.promise = new Promise((resolve) => (this.disable = resolve));\n  }\n}\n\nclass Store {\n  web3Modal: Web3Modal;\n  /* Provider */\n  ethersProvider?: ethers.providers.JsonRpcProvider;\n  eventProvider?: ethers.providers.BaseProvider;\n  ethersSigner?: ethers.Signer;\n  isWSEventProvider = false;\n\n  /* Contracts */\n  tokenContract?: ethers.Contract;\n  cfihLpContract?: ethers.Contract;\n  cfihScContract?: ethers.Contract;\n  sftEvaluatorContract?: ethers.Contract;\n  boosterContract?: ethers.Contract;\n\n  sftHolderContractRO?: ethers.Contract;\n  sftMintContractRO?: ethers.Contract;\n  tradeFloorContractRO?: ethers.Contract;\n  uniDaiWethPairContractRO?: ethers.Contract;\n\n  cfolioFarmLpAddress = '';\n  cfolioFarmScAddress = '';\n  bridgeTargetAddress = '';\n  curveDepositAddress = '';\n\n  static nullAddress = '0x0000000000000000000000000000000000000000';\n  static BASE_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFFFFFFFFFF');\n  static STOCK_CARD_MAX = ethers.BigNumber.from('0xFFFFFFFF');\n  static DUST_6 = ethers.BigNumber.from(10);\n  static DUST_18 = ethers.BigNumber.from(1000000000000);\n\n  /* Misc */\n  networkName = 'mainnet';\n  accountId = 0;\n  chainId = 0;\n  address = '';\n  tokenContractAddress = Store.nullAddress;\n  lastAprTime = 0;\n  eventsSuspended = false;\n  lock = new AsyncLock();\n  web3Provider?: ethers.providers.Provider;\n\n  dispatchQueue: Payload[] = [];\n\n  polygonBridge?: MessageProof;\n\n  assets = {\n    balances: {\n      WOWS: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      'WETH/WOWS': {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      'WMATIC/WOWS': {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      'WFTM/WOWS': {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      USDC: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      USDT: {\n        decimals: 6,\n        dust: Store.DUST_6,\n        value: 0,\n        allowance: 0,\n      },\n      DAI: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      TUSD: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      yCrv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n      am3Crv: {\n        decimals: 18,\n        dust: Store.DUST_18,\n        value: 0,\n        allowance: 0,\n      },\n    },\n    userSFT: [],\n    cards: { levelNames: [], cards: [], myPackLevelDescriptions: [] },\n    cfolioItems: [],\n    rewardInfo: Array.from({ length: 2 }, () => ({ ...INITIAL_REWARD })),\n  } as ASSETS;\n\n  constructor() {\n    const providerOptions: IProviderOptions = {\n      walletconnect: {\n        package: WalletConnectProvider,\n        options: {\n          infuraId: process.env.REACT_APP_INFURA_ID,\n          rpc: { 137: 'https://polygon-rpc.com/' },\n        },\n      },\n      'custom-walletlink': {\n        display: {\n          logo: WalletLinkLogo,\n          name: 'WalletLink',\n          description: 'Scan with WalletLink to connect',\n        },\n        options: {\n          appName: 'WolvesOfWallStreet', // Your app name\n          networkUrl: `https://mainnet.infura.io/v3/${process.env.REACT_APP_INFURA_ID}`,\n          chainId: this.chainId,\n        },\n        package: WalletLink,\n        connector: async (_, options) => {\n          const { appName, networkUrl, chainId } = options;\n          const walletLink = new WalletLink({\n            appName,\n          });\n          const provider = walletLink.makeWeb3Provider(networkUrl, chainId);\n          await provider.enable();\n          return provider;\n        },\n      },\n    };\n\n    const providerInfo = getInjectedProvider();\n    if (providerInfo) {\n      providerOptions.injected = {\n        display: {\n          logo: providerInfo.logo,\n          name: providerInfo.name,\n          description: getProviderDescription(providerInfo),\n        },\n        package: null,\n      };\n    }\n\n    this.web3Modal = new Web3Modal({\n      network: this.networkName,\n      cacheProvider: true,\n      providerOptions: providerOptions,\n    });\n\n    dispatcher.register((payload) => {\n      const _payload = payload as Payload;\n      switch (_payload.type) {\n        case CFOLIO_ITEM_BUY:\n          this._doCFolioItemBuy(_payload.content as PayloadContentCFolioItem);\n          break;\n        case CFOLIO_ITEM_DEPOSIT:\n          this._doCFolioItemDeposit(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_WITHDRAW:\n          this._doCFolioItemWithdraw(\n            _payload.content as PayloadContentCFolioItem\n          );\n          break;\n        case CFOLIO_ITEM_UNLOCK_TRANSFER:\n          this._doCFolioItemUnlockAndTransfer(\n            _payload.content as PayloadContentCFolioItemLT\n          );\n          break;\n        /** Staking */\n        case REVOKE_APPROVAL:\n          this._doRevokeApproval(_payload.content);\n          break;\n        /** SFT */\n        case SFT_BUY:\n          this._doSftBuy(_payload.content);\n          break;\n        case SFT_CLAIM:\n          this._doSftClaim(_payload.content);\n          break;\n        case SFT_CLAIM_BOOSTER:\n          this._doSftClaimBooster(_payload.content);\n          break;\n        case SFT_LOCK:\n          this._doSftLock(_payload.content);\n          break;\n        case SFT_REWARD:\n          this._getSftRewards(_payload.content);\n          break;\n        case SFT_PROOF:\n          this._doSftMessageProof(_payload.content);\n          break;\n        case SFT_TRANSFER:\n          this._doSftTransfer(_payload.content);\n          break;\n        case ASSETS_STATE:\n          if (_payload.content.filter?.includes('cards'))\n            this._getSftState(_payload.content);\n          if (_payload.content.filter?.includes('tokens'))\n            this._getUserSft(_payload.content).then(() =>\n              this._getSftRewards(_payload.content)\n            );\n          if (_payload.content.filter?.includes('balances'))\n            this._getAssetsBalances(_payload.content);\n          if (_payload.content.filter?.includes('allowance'))\n            this._getAssetsAllowances(_payload.content);\n          break;\n        case SFT_UNLOCK:\n          this._doSftUnlock(_payload.content);\n          break;\n        case SFT_UPGRADE:\n          this._doSftUpgrade(_payload.content);\n          break;\n        default: {\n          return;\n        }\n      }\n    });\n\n    /** Load assets **/\n    import('locales/en_US/cards.json').then((content) => {\n      this.assets.cards.levelNames = content.default.levelNames;\n      this.assets.cards.cards = content.default.levels as CARD_LEVEL[];\n      // Load CFolioItems\n      import('locales/en_US/cFolioItems.json').then((content) => {\n        this.assets.cfolioItems = content.default as CFOLIO_ITEMS[];\n        emitter.emit(ASSETS_STATE, { status: 'loaded' } as AssetStateresult);\n        dispatcher.dispatch({\n          type: ASSETS_STATE,\n          content: { filter: ['cards', 'tokens'] },\n        } as Payload);\n      });\n    });\n  }\n\n  mount() {\n    if (window.ethereum) {\n      this.chainId = parseInt(window.ethereum.chainId);\n      switch (this.chainId) {\n        case 4:\n          this.networkName = 'rinkeby';\n          break;\n        case 5:\n          this.networkName = 'goerli';\n          break;\n        case 137:\n          this.networkName = 'matic';\n          break;\n        case 80001:\n          this.networkName = 'maticmum';\n          break;\n        default: {\n          this.networkName = ' mainnet';\n          this.chainId = 1;\n        }\n      }\n      console.log(\n        'Mount with chainId: ',\n        this.chainId,\n        ' and Network: ',\n        this.networkName\n      );\n    }\n    this.autoconnect();\n  }\n\n  unmount() {\n    this.close();\n  }\n\n  getAssets = () => {\n    return this.assets;\n  };\n\n  handleBridgeChange = () => {\n    console.log('BrigeChange');\n    dispatcher.dispatch({\n      type: ASSETS_STATE,\n      content: { filter: ['tokens'] },\n    } as Payload);\n  };\n\n  /*********************** NETWORK ******************/\n\n  getEndpoint(wss: boolean): string | undefined {\n    const chainAddresses = this._getChainAddresses();\n    return wss ? chainAddresses?.wssEndpoint : chainAddresses?.rpcEndpoint;\n  }\n\n  getChainState(): CHAINSTATE {\n    if (window.ethereum?.chainId) {\n      const chainId = parseInt(window.ethereum?.chainId);\n      switch (chainId) {\n        case 137:\n        case 80001:\n          return CHAINSTATE.SIDE_CHAIN;\n        case 1:\n        case 4:\n        case 5:\n          return CHAINSTATE.MAIN_CHAIN;\n        default:\n          return CHAINSTATE.INVALID_CHAIN;\n      }\n    }\n    return CHAINSTATE.UNKNOWN;\n  }\n\n  getBridgeTarget(): { name: string; address: string } {\n    return this.networkName.startsWith('matic')\n      ? { name: 'ETHEREUM', address: this.bridgeTargetAddress }\n      : { name: 'POLYGON', address: this.bridgeTargetAddress };\n  }\n\n  connect = async () => {\n    try {\n      if (this.ethersProvider) {\n        await this.disconnect(false, false);\n      }\n\n      let ethersProvider: ethers.providers.JsonRpcProvider;\n      const endpoint = this.getEndpoint(false);\n      if (endpoint) {\n        ethersProvider = new ethers.providers.JsonRpcProvider(endpoint);\n      } else {\n        const web3Provider = await this.web3Modal.connect();\n        if (!this.web3Provider) {\n          this.web3Provider = web3Provider;\n          await this.subscribeProvider(web3Provider);\n        }\n        ethersProvider = new ethers.providers.Web3Provider(web3Provider);\n      }\n\n      if (this.getChainState() === CHAINSTATE.INVALID_CHAIN) {\n        this.close();\n        this._emitNetworkChange();\n        throw new Error('Unsupported Network');\n      }\n\n      const accounts = await ethersProvider.listAccounts();\n      this.address = ethers.utils.getAddress(accounts[this.accountId]);\n      const network = await ethersProvider.getNetwork();\n      this.chainId = network.chainId;\n      this.networkName = network.name;\n      await this._launchEventProvider();\n      if (await this._setupContracts(ethersProvider)) this._emitNetworkChange();\n      this.ethersProvider = ethersProvider;\n      this.ethersSigner = ethersProvider.getSigner(this.accountId);\n\n      // Enable MessageProof for bidging back from Polygon\n      if (this.chainId === 1 || this.chainId === 5) {\n        const chainAddresses = (this._getChainAddresses() ??\n          {}) as PolygonAddresses;\n        this.polygonBridge = new MessageProof(\n          this.eventProvider ?? ethersProvider,\n          this.chainId,\n          chainAddresses.p_checkpointManager ?? '',\n          this.address,\n          chainAddresses.polygonRootTunnelProxy ?? '',\n          chainAddresses.p_childTunnel ?? '',\n          this.handleBridgeChange\n        );\n      }\n    } catch (e) {\n      console.log(e);\n      await this.disconnect(true, true);\n    }\n  };\n\n  autoconnect = async () => {\n    const query = new URLSearchParams(window.location.search);\n    const defaultChain = query.get('chainId');\n    const defaultAccountId = query.get('accountId');\n\n    if (defaultChain) this.chainId = parseInt(defaultChain);\n    if (defaultAccountId) this.accountId = parseInt(defaultAccountId);\n\n    if (this.web3Modal.cachedProvider) {\n      await this.connect();\n    } else await this._launchEventProvider();\n  };\n\n  subscribeProvider = async (provider: ethers.providers.Provider) => {\n    if (!provider.on) {\n      return;\n    }\n\n    provider.on('disconnect', () => {\n      this.disconnect(false, true);\n    });\n\n    provider.on('accountsChanged', async (accounts: string[]) => {\n      const account = ethers.utils.getAddress(accounts[0]);\n      if (this.address !== '' && account !== this.address) {\n        this.address = account;\n        this._emitNetworkChange();\n      }\n    });\n\n    provider.on('chainChanged', async (chainId: number) => {\n      if (chainId !== this.chainId) {\n        this.chainId = chainId;\n        await this.connect();\n      }\n    });\n  };\n\n  disconnect = async (clearCache: boolean, fireEvent: boolean) => {\n    if (this.ethersProvider) {\n      localStorage.removeItem('walletconnect');\n      this.ethersProvider.removeAllListeners();\n      this.tokenContract = undefined;\n      this.ethersProvider = undefined;\n      this.cfihLpContract = undefined;\n      this.cfihScContract = undefined;\n      this.sftEvaluatorContract = undefined;\n      this.boosterContract = undefined;\n      this.ethersSigner = undefined;\n      this.polygonBridge = undefined;\n\n      this.address = '';\n      if (clearCache) {\n        this.web3Modal.clearCachedProvider();\n        window.localStorage.removeItem('WALLETCONNECT_DEEPLINK_CHOICE');\n      }\n      if (fireEvent) {\n        this._emitNetworkChange();\n      }\n    }\n  };\n\n  close = async () => {\n    try {\n      this.sftHolderContractRO?.removeAllListeners();\n      this.sftHolderContractRO = undefined;\n      this.sftMintContractRO = undefined;\n      this.tradeFloorContractRO?.removeAllListeners();\n      this.tradeFloorContractRO = undefined;\n      this.uniDaiWethPairContractRO = undefined;\n    } catch (e) {\n      console.log(e);\n    }\n    console.log('Close');\n    await this.disconnect(false, true);\n    if (this.eventProvider) {\n      try {\n        this.eventProvider?.removeAllListeners();\n      } catch (e) {\n        console.log(e);\n      }\n      if (this.isWSEventProvider) {\n        const wsEventProvider = this\n          .eventProvider as ethers.providers.WebSocketProvider;\n        wsEventProvider._websocket.onclose = null;\n        wsEventProvider._websocket.onerror = null;\n        await wsEventProvider.destroy();\n      }\n      this.eventProvider = undefined;\n    }\n  };\n\n  isConnected = () => {\n    return this.ethersProvider !== undefined;\n  };\n\n  isEventConnected = () => {\n    return this.eventProvider !== undefined;\n  };\n\n  _addDQ = async (block: number, payload: Payload) => {\n    if (this.eventsSuspended) {\n      if (\n        !this.dispatchQueue.find(\n          (elem) => JSON.stringify(elem) === JSON.stringify(payload)\n        )\n      )\n        this.dispatchQueue.push(payload);\n    } else {\n      dispatcher.dispatch(payload);\n    }\n  };\n\n  _resolveDQ = () => {\n    if (this.eventsSuspended) {\n      this.dispatchQueue.forEach((payload) => dispatcher.dispatch(payload));\n      this.dispatchQueue = [];\n      /*if (this.lastAprTime + 300000 < Date.now()) {\n        this.lastAprTime = Date.now();\n        this._updatePoolAPR();\n      }*/\n      this.eventsSuspended = false;\n    }\n  };\n\n  _setupEvents(): boolean {\n    this.eventProvider?.removeAllListeners();\n    this.sftHolderContractRO?.removeAllListeners();\n    this.tradeFloorContractRO?.removeAllListeners();\n\n    const handleTransfer = (\n      operator: string,\n      from: string,\n      to: string,\n      cards: boolean\n    ) => {\n      const filter = [];\n      if (cards && from === Store.nullAddress) filter.push('cards');\n      if (\n        ethers.utils.getAddress(operator) === this.address ||\n        ethers.utils.getAddress(from) === this.address ||\n        ethers.utils.getAddress(to) === this.address\n      ) {\n        filter.push('tokens');\n      }\n      if (filter.length > 0) {\n        console.log('TransferEvent: ', filter);\n        this._addDQ(0, { type: ASSETS_STATE, content: { filter } } as Payload);\n      }\n    };\n\n    this.sftHolderContractRO?.on('SftTokenTransfer', (operator, from, to) =>\n      handleTransfer(operator, from, to, true)\n    );\n    this.tradeFloorContractRO?.on('TransferSingle', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    this.tradeFloorContractRO?.on('TransferBatch', (operator, from, to) =>\n      handleTransfer(operator, from, to, false)\n    );\n    return true;\n  }\n\n  _emitNetworkChange() {\n    // Request new SFT List\n    if (this.address) {\n      if (this.polygonBridge) this.polygonBridge.accountChanged(this.address);\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['tokens', 'balances', 'rewards'] },\n      } as Payload);\n    } else {\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.value = 0;\n      }\n      this.assets.userSFT = [];\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    }\n    emitter.emit(CONNECTION_CHANGED, {\n      type: 'prod',\n      address: this.address,\n      networkName: this.networkName,\n    } as ConnectResult);\n  }\n\n  _launchEventProvider = async () => {\n    await this.lock.promise;\n    this.lock.enable();\n    try {\n      if (\n        !this.eventProvider ||\n        (await this.eventProvider?.getNetwork()).chainId !== this.chainId\n      ) {\n        let eventProvider:\n          | ethers.providers.WebSocketProvider\n          | ethers.providers.JsonRpcProvider;\n        this.isWSEventProvider = true;\n        const endpoint = this.getEndpoint(true);\n        if (endpoint) {\n          if (endpoint.startsWith('http')) {\n            this.isWSEventProvider = false;\n            eventProvider = new ethers.providers.JsonRpcProvider(endpoint);\n          } else {\n            eventProvider = new ethers.providers.WebSocketProvider(endpoint);\n          }\n        } else {\n          eventProvider = ethers.providers.InfuraProvider.getWebSocketProvider(\n            this.networkName,\n            process.env.REACT_APP_INFURA_ID\n          );\n        }\n        if (!this.chainId)\n          this.chainId = (await eventProvider.getNetwork()).chainId;\n\n        await this._setupEventContracts(eventProvider);\n        if (this.isWSEventProvider) {\n          const wsEventProvider =\n            eventProvider as ethers.providers.WebSocketProvider;\n          wsEventProvider._websocket.onclose = () => {\n            this.close();\n          };\n          wsEventProvider._websocket.onerror = () => {\n            this.close();\n          };\n        }\n\n        this.eventProvider?.removeAllListeners();\n        this.eventProvider = eventProvider;\n\n        console.log('EventProvider launched on network: ', this.networkName);\n        emitter.emit(CONNECTION_CHANGED, {\n          type: 'event',\n          address: '',\n          networkName: this.networkName,\n        } as ConnectResult);\n        if (this.assets.cfolioItems.length > 0) {\n          dispatcher.dispatch({\n            type: ASSETS_STATE,\n            content: { filter: ['cards'] },\n          } as Payload);\n        }\n        this._setupEvents();\n      }\n    } catch (e) {\n      console.log(e);\n      if (this.eventProvider) {\n        this.eventProvider = undefined;\n      }\n    }\n    this.lock.disable();\n  };\n\n  switchChain = async (chain: string) => {\n    if (window.ethereum) {\n      let newChain = 0;\n      if (chain === 'polygon') {\n        newChain = this.chainId === 5 ? 80001 : 137;\n      } else {\n        newChain = this.chainId === 80001 ? 5 : 1;\n      }\n      if (newChain) {\n        try {\n          await window.ethereum.request({\n            method: 'wallet_switchEthereumChain',\n            params: [{ chainId: '0x' + newChain.toString(16) }],\n          });\n        } catch (e) {\n          if ((e.code === 4902 || e.code === -32603) && newChain === 137) {\n            try {\n              await window.ethereum.request({\n                method: 'wallet_addEthereumChain',\n                params: [\n                  {\n                    chainId: '0x89',\n                    chainName: 'Matic(Polygon) Mainnet',\n                    rpcUrls: ['https://polygon-rpc.com/'],\n                    blockExplorerUrls: ['https://polygonscan.com'],\n                    nativeCurrency: {\n                      name: 'MATIC',\n                      symbol: 'MATIC',\n                      decimals: 18,\n                    },\n                  },\n                ],\n              });\n            } catch (e) {\n              console.log(e);\n            }\n          }\n          console.log(e);\n        }\n      }\n    }\n  };\n\n  getStakeCurrencies() {\n    switch (this.chainId) {\n      case 137:\n      case 80001:\n        return STAKE_CURRENCIES[1];\n      case 250:\n      case 4001:\n        return STAKE_CURRENCIES[2];\n      default:\n        return STAKE_CURRENCIES[0];\n    }\n  }\n\n  getStableCurrencies() {\n    switch (this.chainId) {\n      case 137:\n        return STABLE_CURRENCIES[0];\n      case 80001:\n        return STABLE_CURRENCIES[1];\n      default:\n        return STABLE_CURRENCIES[2];\n    }\n  }\n  /******************** Contracts *********************/\n\n  _getChainAddresses(): ChainAddresses | undefined {\n    return (addresses as IIndexable)[this.chainId];\n  }\n\n  async _setupEventContracts(\n    provider: ethers.providers.BaseProvider\n  ): Promise<void> {\n    const chainAddresses = this._getChainAddresses();\n\n    if (chainAddresses) {\n      this.tokenContractAddress = chainAddresses.token;\n      if (chainAddresses.sftHolderProxy) {\n        this.sftHolderContractRO = new ethers.Contract(\n          chainAddresses.sftHolderProxy,\n          SFTHolderAbi,\n          provider\n        );\n      }\n\n      if (chainAddresses.sftMinterProxy) {\n        this.sftMintContractRO = new ethers.Contract(\n          chainAddresses.sftMinterProxy,\n          SFTMinterAbi,\n          provider\n        );\n      }\n      if (chainAddresses.tradeFloorProxy) {\n        this.tradeFloorContractRO = new ethers.Contract(\n          chainAddresses.tradeFloorProxy,\n          TradeFloorAbi,\n          provider\n        );\n      }\n\n      this.cfolioFarmLpAddress = chainAddresses.cfolioFarmLP || '';\n      this.cfolioFarmScAddress = chainAddresses.cfolioFarmSC || '';\n\n      if (chainAddresses.uniDaiWeth !== '') {\n        this.uniDaiWethPairContractRO = new ethers.Contract(\n          chainAddresses.uniDaiWeth,\n          UniV2PairAbi,\n          provider\n        );\n      } else this.uniDaiWethPairContractRO = undefined;\n\n      // Setup our balances\n      this.assets.balances['WOWS'].address = chainAddresses.token;\n      this.assets.balances['WETH/WOWS'].address = chainAddresses.uniV2Pair;\n      this.assets.balances['WMATIC/WOWS'].address =\n        this.chainId === 137 || this.chainId === 80001\n          ? chainAddresses.uniV2PairNative || undefined\n          : undefined;\n      this.assets.balances['WFTM/WOWS'].address =\n        this.chainId === 250 || this.chainId === 4001\n          ? chainAddresses.uniV2PairNative || undefined\n          : undefined;\n\n      this.assets.balances['USDC'].address = chainAddresses.usdcToken;\n      this.assets.balances['USDT'].address = chainAddresses.usdtToken;\n      this.assets.balances['DAI'].address = chainAddresses.daiToken;\n      this.assets.balances['TUSD'].address = chainAddresses.tusdToken;\n      this.assets.balances['yCrv'].address = chainAddresses.curveYToken;\n      this.assets.balances['am3Crv'].address = chainAddresses.curveAToken;\n\n      this.assets.balances['WOWS'].handlerAddress =\n        chainAddresses.sftMinterProxy;\n      this.assets.balances['WETH/WOWS'].handlerAddress =\n        chainAddresses.cfolioItemHandlerLPProxy;\n      this.assets.balances['WETH/WOWS'].handlerSlotId = 0;\n      this.assets.balances['WMATIC/WOWS'].handlerAddress =\n        chainAddresses.cfolioItemHandlerLPProxy;\n      this.assets.balances['WMATIC/WOWS'].handlerSlotId = 1;\n      this.assets.balances['WFTM/WOWS'].handlerAddress =\n        chainAddresses.cfolioItemHandlerLPProxy;\n      this.assets.balances['WFTM/WOWS'].handlerSlotId = 1;\n      this.assets.balances['USDC'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['USDT'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['DAI'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['TUSD'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n      this.assets.balances['yCrv'].handlerAddress =\n        chainAddresses.cfolioItemHandlerSCProxy;\n\n      this.assets.rewardInfo[0] = { ...INITIAL_REWARD };\n      this.assets.rewardInfo[1] = { ...INITIAL_REWARD };\n\n      if (chainAddresses.curveYDeposit)\n        this.curveDepositAddress = chainAddresses.curveYDeposit;\n      else if (chainAddresses.curveADeposit)\n        this.curveDepositAddress = chainAddresses.curveADeposit;\n      else this.curveDepositAddress = '';\n    } else {\n      this.tokenContractAddress = Store.nullAddress;\n      for (const [, value] of Object.entries(this.assets.balances)) {\n        value.address = undefined;\n        value.value = 0;\n      }\n    }\n  }\n\n  async _setupContracts(\n    provider: ethers.providers.JsonRpcProvider\n  ): Promise<boolean> {\n    const chainAddresses = this._getChainAddresses();\n    if (chainAddresses && chainAddresses.token) {\n      const signer = provider.getSigner(this.accountId);\n      this.tokenContract = new ethers.Contract(\n        chainAddresses.token,\n        TokenAbi,\n        signer\n      );\n      if (chainAddresses.cfolioItemHandlerLPProxy) {\n        this.cfihLpContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerLPProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.cfolioItemHandlerSCProxy) {\n        this.cfihScContract = new ethers.Contract(\n          chainAddresses.cfolioItemHandlerSCProxy,\n          CFolioItemHandlerAbi,\n          signer\n        );\n      }\n      if (chainAddresses.sftEvaluatorProxy) {\n        this.sftEvaluatorContract = new ethers.Contract(\n          chainAddresses.sftEvaluatorProxy,\n          SftEvaluatorAbi,\n          signer\n        );\n      }\n      if (chainAddresses.boosterProxy) {\n        this.boosterContract = new ethers.Contract(\n          chainAddresses.boosterProxy,\n          BoosterAbi,\n          signer\n        );\n      }\n      this.bridgeTargetAddress = chainAddresses.bridgeTarget;\n\n      return true;\n    }\n    return false;\n  }\n\n  _getSftState = async (payloadContent: PayloadContent | undefined) => {\n    if (!this.sftMintContractRO) {\n      return;\n    }\n\n    // Loop through the assets and build up level / cardIds to query\n    const levels: ethers.BigNumber[] = [];\n    const cardIds: ethers.BigNumber[] = [];\n\n    this.assets.cards.cards.forEach((level) =>\n      level.cards.forEach((card) => {\n        levels.push(ethers.BigNumber.from(level.chainRef));\n        cardIds.push(ethers.BigNumber.from(card.chainRef));\n      })\n    );\n\n    try {\n      if (this.getChainState() === CHAINSTATE.MAIN_CHAIN) {\n        const sftResult:\n          | {\n              prices: ethers.BigNumber[];\n              numMinted: number[];\n              maxMintable: number[];\n            }\n          | undefined = await this.sftMintContractRO?.getBaseSpec(\n          levels,\n          cardIds\n        );\n\n        if (sftResult !== undefined) {\n          let index = 0;\n          for (const level of this.assets.cards.cards) {\n            level.price = this.fromWei(sftResult.prices[index]);\n            level.quantity = sftResult.maxMintable[index];\n            for (const card of level.cards) {\n              card.minted = sftResult.numMinted[index];\n              index++;\n            }\n            if (index >= sftResult.prices.length) break;\n          }\n        }\n      } else {\n        for (const level of this.assets.cards.cards) {\n          level.price = 0;\n          level.quantity = 40;\n          for (const card of level.cards) {\n            card.minted = 40;\n          }\n        }\n      }\n\n      const cfolioTypes: number[] = [];\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => cfolioTypes.push(card.chainRef))\n      );\n\n      const cfolioResult: [\n        ethers.BigNumber[],\n        ethers.BigNumber[],\n        ethers.BigNumber[]\n      ] = await this.sftMintContractRO?.getCFolioSpec(cfolioTypes);\n      let index = 0;\n\n      this.assets.cfolioItems.forEach((elem) =>\n        elem.cards.forEach((card) => {\n          card.price = this.fromWei(cfolioResult[0][index]);\n          card.minted = cfolioResult[1][index].toNumber();\n          card.maxMintable = cfolioResult[2][index].toNumber();\n          ++index;\n        })\n      );\n      emitter.emit(ASSETS_STATE, { status: 'cards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getUserSft = async (payloadContent: PayloadContent | undefined) => {\n    if (this.address === '' || !this.sftMintContractRO) return;\n\n    try {\n      const result: [ethers.BigNumber[], ethers.BigNumber[]] =\n        await this.sftMintContractRO.getTokenIds(this.address);\n\n      const bridgeToken = this.polygonBridge\n        ? this.polygonBridge.getTokenIds(this.address)\n        : [];\n\n      const mergeList = result[0].map((t) => t);\n      mergeList.push(...result[1]);\n      mergeList.push(...bridgeToken.map((item) => item.tokenId));\n\n      const newUserSFT: SFT[] = mergeList\n        .filter((n) => n.mask(128).lte(Store.BASE_CARD_MAX))\n        .map((bn, index) => {\n          const cr = bn.mask(32).toNumber() >> 16;\n          let cardIndex = 0;\n          const levelIndex = this.assets.cards.cards.findIndex(\n            (l) =>\n              l.chainRef << 8 === (cr & 0xff00) &&\n              (cardIndex = l.cards.findIndex(\n                (c) => c.chainRef === (cr & 0xff)\n              )) >= 0\n          );\n          const bridgeItem = bridgeToken.find((item) => item.tokenId.eq(bn));\n          return {\n            tokenId: bn,\n            levelId: levelIndex,\n            cardId: cardIndex,\n            isBaseCard: bn.mask(128).lte(Store.BASE_CARD_MAX),\n            isStockCard: bn.mask(128).lte(Store.STOCK_CARD_MAX),\n            isWallet: false,\n            status: bridgeItem\n              ? bridgeItem.available\n                ? SFTS.BRIDGE_READY\n                : SFTS.BRIDGE_PENDING\n              : result[1].find((b) => b.eq(bn)) !== undefined\n              ? SFTS.LOCKED\n              : SFTS.UNLOCKED,\n            rewardRate: 0,\n            rewardShare: [],\n            rewardEarned: [],\n            mintTimestamp: 0,\n            cfolioItems: [],\n            boosterRewards: {\n              total: 0,\n              pending: 0,\n              apr: 0,\n            },\n          };\n        })\n        .sort((a, b) =>\n          a.tokenId.mask(128).gt(b.tokenId.mask(128))\n            ? 1\n            : a.tokenId.mask(128).lt(b.tokenId.mask(128))\n            ? -1\n            : 0\n        );\n      // Create a dummy UserTokenId UINT256Max for the users wallet\n      newUserSFT.unshift({\n        tokenId: BIGNUMBER_MAX,\n        levelId: -1,\n        cardId: -1,\n        isBaseCard: false,\n        isStockCard: false,\n        isWallet: true,\n        status: SFTS.UNLOCKED,\n        rewardRate: 0,\n        rewardShare: [],\n        rewardEarned: [],\n        mintTimestamp: 0,\n        cfolioItems: [],\n        boosterRewards: {\n          total: 0,\n          pending: 0,\n          apr: 0,\n        },\n      });\n\n      // Get all CFolio Items and tokenId information, root cFolioItems go into wallet (-1)\n      // We expect uint256: [%,MintTime,NumItems,[tokenId,type,numAssetValues,[assetValue]]]...\n      const result2: string = await this.sftMintContractRO.getTokenInformation(\n        mergeList\n      );\n      let readIndex = 0;\n      // We have now a string of uint256Hex values\n      mergeList.forEach((tokenId) => {\n        //get destination tokenId\n        let destinationId: number;\n        if (tokenId.mask(128).gt(Store.BASE_CARD_MAX)) destinationId = 0;\n        else\n          destinationId = newUserSFT.findIndex((sft) =>\n            sft.tokenId.eq(tokenId)\n          );\n        if (destinationId >= 0) {\n          newUserSFT[destinationId].rewardRate = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n          newUserSFT[destinationId].mintTimestamp = readUint256(\n            result2,\n            readIndex++\n          ).toNumber();\n\n          let numCFolios = readUint256(result2, readIndex++).toNumber();\n          while (numCFolios > 0) {\n            const childId = readUint256(result2, readIndex++);\n            const child: SFTCHILD = {\n              tokenId: childId,\n              levelId: -1,\n              cardId: -1,\n              status:\n                destinationId === 0 &&\n                result[1].find((b) => b.eq(childId)) !== undefined\n                  ? SFTS.LOCKED\n                  : SFTS.UNLOCKED,\n              type: readUint256(result2, readIndex++).toNumber(),\n              assets: [],\n            };\n            child.levelId = this.assets.cfolioItems.findIndex(\n              (l) =>\n                (child.cardId = l.cards.findIndex(\n                  (c) => c.chainRef === child.type\n                )) >= 0\n            );\n            const numAssets = readUint256(result2, readIndex++).toNumber();\n            const bidx =\n              this.assets.cfolioItems[child.levelId].type === 'lpInvestment'\n                ? this.getStakeCurrencies()[0]\n                : this.getStableCurrencies()[0];\n            for (let index = 0; index < numAssets; ++index) {\n              child.assets.push(\n                this.fromWei(\n                  readUint256(result2, readIndex++),\n                  this.assets.balances[bidx[index]].decimals\n                )\n              );\n            }\n            newUserSFT[destinationId].cfolioItems.push(child);\n            --numCFolios;\n          }\n        } else throw new Error('Mismatch in tokenId array');\n      });\n\n      this.assets.userSFT = newUserSFT;\n      emitter.emit(ASSETS_STATE, { status: 'tokens' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _getSftRewards = async (plc: PayloadContent) => {\n    try {\n      if (!this.sftMintContractRO) return;\n      const filter = ['wolves', 'bois'];\n      const contracts = [this.cfihLpContract, this.cfihScContract];\n\n      for (let i = 0; i < 2; ++i) {\n        if (!contracts[i]) {\n          continue;\n        }\n\n        const sfts = this.assets.userSFT.filter(\n          (sft) =>\n            sft.isBaseCard &&\n            this.assets.cards.cards[sft.levelId].type === filter[i]\n        );\n\n        if (sfts.length === 0) continue;\n\n        // Returns:\n        //  result: rewardDur, slotCount, [totalSupply, rewardPerDuration, [share, earned]\n        //  boosterLocked\n        //  boosterPending\n        //  boosterApr\n        //  boosterSecsLeft\n        const result = await this.sftMintContractRO.getRewardInfo(\n          contracts[i]?.address,\n          sfts.map((sft) => sft.tokenId)\n        );\n        let readIndex = 0;\n        const cfiResult = result.result;\n        const ri = this.assets.rewardInfo[i];\n        ri.rewardDuration = readUint256(cfiResult, readIndex++).toNumber();\n        const numSlots = readUint256(cfiResult, readIndex++).toNumber();\n        ri.slotInfo = Array.from({ length: numSlots }, () => ({\n          ...INITIAL_REWARD_SLOT,\n        }));\n        for (let slotId = 0; slotId < numSlots; ++slotId) {\n          const ris = ri.slotInfo[slotId];\n          ris.total = readUint256(cfiResult, readIndex++);\n          const total = this.fromWei(ris.total);\n          ris.rewardPerDuration = readUint256(cfiResult, readIndex++);\n          for (let index = 0; index < sfts.length; ++index) {\n            const sft = sfts[index];\n            if (slotId === 0) {\n              sft.rewardShare = [];\n              sft.rewardEarned = [];\n            }\n            sft.rewardShare.push(\n              (this.fromWei(readUint256(cfiResult, readIndex++)) * 100) / total\n            );\n            sft.rewardEarned.push(\n              this.fromWei(readUint256(cfiResult, readIndex++))\n            );\n            sft.boosterRewards.total = this.fromWei(\n              result.boosterLocked[index]\n            );\n            sft.boosterRewards.pending = this.fromWei(\n              result.boosterPending[index]\n            );\n            sft.boosterRewards.apr = this.fromWei(result.boosterApr[index]);\n            sft.boosterRewards.secsLeft = result.boosterSecsLeft[index].eq(\n              BIGNUMBER_MAX\n            )\n              ? undefined\n              : result.boosterSecsLeft[index].toNumber();\n          }\n        }\n      }\n      await this._updatePoolAPR();\n      emitter.emit(ASSETS_STATE, { status: 'rewards' } as AssetStateresult);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  _setCFolioAmount(\n    receipt: ethers.providers.TransactionReceipt,\n    sft: ethers.BigNumber,\n    cfolio: ethers.BigNumber\n  ) {\n    const iface = new ethers.utils.Interface(CFolioFarmAbi);\n    const stableCurrencies = this.getStableCurrencies();\n    receipt.logs.find((log) => {\n      if (\n        log.address === this.cfolioFarmLpAddress ||\n        log.address === this.cfolioFarmScAddress\n      ) {\n        const parsed = iface.parseLog(log);\n        if (['AssetAdded', 'AssetRemoved'].includes(parsed.name)) {\n          this.assets.userSFT.find(\n            (isft) =>\n              isft.tokenId === sft &&\n              isft.cfolioItems.find((item) => {\n                if (item.tokenId === cfolio) {\n                  if (log.address === this.cfolioFarmLpAddress) {\n                    item.assets[0] = this.fromWei(parsed.args[2]);\n                    emitter.emit(ASSETS_STATE, {\n                      status: 'cfolio_amount',\n                    } as AssetStateresult);\n                  } else if (this.cfihScContract) {\n                    this.cfihScContract\n                      .getAmounts(parsed.args[0])\n                      .then((amounts: ethers.BigNumber[]) => {\n                        amounts.forEach(\n                          (amount, index) =>\n                            (item.assets[index] = this.fromWei(\n                              amount,\n                              this.assets.balances[stableCurrencies[0][index]]\n                                .decimals\n                            ))\n                        );\n                        emitter.emit(ASSETS_STATE, {\n                          status: 'cfolio_amount',\n                        } as AssetStateresult);\n                      });\n                  }\n                  dispatcher.dispatch({\n                    type: ASSETS_STATE,\n                    content: { filter: ['tokens', 'balances'] },\n                  } as Payload);\n                  return true;\n                }\n                return false;\n              })\n          );\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _setRewardRate(receipt: ethers.providers.TransactionReceipt): void {\n    const iface = new ethers.utils.Interface(SftEvaluatorAbi);\n    receipt.logs.find((log) => {\n      if (log.address === this.sftEvaluatorContract?.address) {\n        const parsed = iface.parseLog(log);\n        if (parsed.name === 'RewardRate') {\n          const sft = this.assets.userSFT.find((sft) =>\n            sft.tokenId.eq(parsed.args[0])\n          );\n          if (sft) {\n            sft.rewardRate = parsed.args[1];\n          }\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n\n  _getTokenContractAddress() {\n    return this.tokenContractAddress;\n  }\n\n  _getAssetsBalances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Balances(\n        this.address,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.value = this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'balances' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  _getAssetsAllowances = async (payloadContent: PayloadContent) => {\n    if (!this.sftMintContractRO || this.address === '') return;\n    try {\n      const input = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.address ?? Store.nullAddress\n      );\n      const spender = Object.entries(this.assets.balances).map(\n        ([_, value]) => value.handlerAddress ?? Store.nullAddress\n      );\n      const balances = await this.sftMintContractRO.getErc20Allowances(\n        this.address,\n        spender,\n        input\n      );\n      Object.entries(this.assets.balances).forEach(\n        ([_, value], index) =>\n          (value.allowance = balances[index].gt(\n            ethers.BigNumber.from(0xffffffff).mul(\n              ethers.BigNumber.from(10).pow(value.decimals)\n            )\n          )\n            ? -1\n            : this.fromWei(balances[index], value.decimals))\n      );\n      emitter.emit(ASSETS_STATE, { status: 'allowance' } as AssetStateresult);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  async _updatePoolAPR() {\n    let nativeWowsPrice = ethers.BigNumber.from(0);\n    let stakePrice = ethers.BigNumber.from(0);\n    const e18 = ethers.BigNumber.from('10').pow(18);\n\n    // Step 1 get WOWS/WETH ETH\n    if (this.getChainState() !== CHAINSTATE.MAIN_CHAIN) {\n      const results = await (\n        await fetch(\n          'https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2',\n          {\n            method: 'POST', // or 'PUT'\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: `{\"query\":\"{pair(id:\\\\\"0xdf21bb85a5bfb606bfca4562aa8cea2017622415\\\\\") { reserve0 reserveUSD totalSupply}}\",\"variables\":null}`,\n          }\n        )\n      ).json();\n      const reserve0 = this.toWei(results.data.pair.reserve0.slice(0, 19));\n      const reserveUSD = this.toWei(results.data.pair.reserveUSD.slice(0, 19));\n      const totalSupply = this.toWei(\n        results.data.pair.totalSupply.slice(0, 19)\n      );\n      nativeWowsPrice = reserveUSD.mul(e18).div(reserve0.mul(2));\n      stakePrice = reserveUSD.mul(e18).div(totalSupply);\n    } else if (\n      this.assets.balances['WETH/WOWS'].address &&\n      this.uniDaiWethPairContractRO\n    ) {\n      const lpContract = new ethers.Contract(\n        this.assets.balances['WETH/WOWS'].address,\n        UniV2PairAbi,\n        this.eventProvider\n      );\n      const daiWethReserves = await this.uniDaiWethPairContractRO.getReserves();\n      // Price of 1 WETH in DAI\n      const wethPrice = daiWethReserves.reserve0.gt(daiWethReserves.reserve1)\n        ? daiWethReserves.reserve0.mul(e18).div(daiWethReserves.reserve1)\n        : daiWethReserves.reserve1.mul(e18).div(daiWethReserves.reserve0);\n\n      const wowsWethReserves = await lpContract.getReserves();\n      // Price of 1 WOWS\n      nativeWowsPrice = wowsWethReserves.reserve1\n        .mul(wethPrice)\n        .div(wowsWethReserves.reserve0);\n      stakePrice = nativeWowsPrice\n        .mul(2)\n        .mul(wowsWethReserves.reserve0)\n        .div(await lpContract.totalSupply());\n    }\n    for (let i = 0; i < 2; ++i) {\n      const ri = this.assets.rewardInfo[i];\n      ri.priceWOWS = this.fromWei(nativeWowsPrice);\n      for (let slotId = 0; slotId < ri.slotInfo.length; ++slotId) {\n        const ris = ri.slotInfo[slotId];\n        if (i === 0 && slotId === 0) {\n          //lead pool\n          ris.priceToken = this.fromWei(stakePrice);\n        } else if (i === 0) {\n          // native pool, todo\n          stakePrice = ethers.BigNumber.from(0);\n        } else if (this.curveDepositAddress) {\n          const curveContract = new ethers.Contract(\n            this.curveDepositAddress,\n            CurveDepositAbi,\n            this.eventProvider\n          );\n          // Get the DAI price of one yCrv token\n          stakePrice = await curveContract.calc_withdraw_one_coin(\n            this.toWei(1),\n            0\n          );\n          ris.priceToken = this.fromWei(stakePrice);\n        } else stakePrice = ethers.BigNumber.from(0);\n\n        if (ri.rewardDuration) {\n          // yearly emission\n          const emmission = nativeWowsPrice.mul(\n            ris.rewardPerDuration\n              .mul(ethers.BigNumber.from(SECONDS_PER_YEAR))\n              .div(ethers.BigNumber.from(ri.rewardDuration))\n          );\n          const apr = stakePrice.gt(0)\n            ? emmission.mul(100).div(stakePrice.mul(ris.total)).toNumber()\n            : 0;\n          ris.apr = apr;\n        }\n      }\n    }\n  }\n\n  aprToApy(apr: number): string {\n    const apy = (Math.pow(1.0 + apr / 100 / 52, 52) - 1.0) * 100;\n    return apy > 1e4 ? 'INF' : apy.toFixed(2);\n  }\n\n  /************** TX ****************/\n\n  _doSftBuy = async (payloadContent: PayloadContent) => {\n    const { amount, id } = payloadContent;\n\n    try {\n      if (!amount || id === undefined) {\n        throw new Error('Invalid input');\n      }\n\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.sftHolderContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Invalid contract');\n      }\n\n      const sftAmount = this.toWei(amount);\n      const walletAmount = await this.tokenContract.balanceOf(this.address);\n\n      if (sftAmount.gt(walletAmount)) {\n        throw new Error('Insufficient balances');\n      }\n\n      const cardData = await this.sftMintContractRO?.getBaseSpec(\n        [id.toNumber() >> 8],\n        [id.toNumber() & 0xff]\n      );\n      if (cardData.maxMintable[0] <= cardData.numMinted[0]) {\n        throw new Error('No cards available');\n      }\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const allowance = await this.tokenContract.allowance(\n        this.address,\n        sftMintContract.address\n      );\n\n      if (allowance.lt(sftAmount)) {\n        const tx = await this.tokenContract.approve(\n          sftMintContract.address,\n          this._checkUnlimited('WOWS', sftAmount)\n        );\n        emitter.emit(SFT_BUY, {\n          status: 'approve',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx.wait();\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction | undefined =\n        await sftMintContract?.mintWowsSFT(\n          this.address,\n          id.toNumber() >> 8,\n          id.toNumber() & 0xff\n        );\n      emitter.emit(SFT_BUY, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx?.wait();\n      emitter.emit(SFT_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftLock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (\n      !this.sftHolderContractRO ||\n      !this.tradeFloorContractRO ||\n      !this.ethersProvider\n    ) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    const sftHolderContract = new ethers.Contract(\n      this.sftHolderContractRO.address,\n      this.sftHolderContractRO.interface,\n      this.ethersProvider.getSigner(this.accountId)\n    );\n\n    try {\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftHolderContract.safeTransferFrom(\n          this.address,\n          this.tradeFloorContractRO.address,\n          id,\n          1,\n          []\n        );\n      emitter.emit(SFT_LOCK, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_LOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_LOCK, {\n        status: 'error',\n        type: SFT_LOCK,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftTransfer = async (payloadContent: PayloadContent) => {\n    const { id, status, address } = payloadContent;\n    if (id === undefined || !address) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    const contract =\n      status === 'locked'\n        ? this.tradeFloorContractRO\n        : this.sftHolderContractRO;\n\n    if (!contract || !this.ethersProvider) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const signedContract = contract.connect(\n        this.ethersProvider.getSigner(this.accountId)\n      );\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await signedContract.safeTransferFrom(this.address, address, id, 1, []);\n      emitter.emit(SFT_TRANSFER, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_TRANSFER, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftMessageProof = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid input',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.ethersSigner || !this.polygonBridge) {\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n    try {\n      const proof = await this.polygonBridge.processPending(id);\n      const contract = new ethers.Contract(\n        this.bridgeTargetAddress,\n        RootTunnelAbi,\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx = await contract.receiveMessage(proof);\n\n      emitter.emit(SFT_PROOF, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_PROOF, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this.polygonBridge?.removeItem(id);\n    } catch (e) {\n      this.polygonBridge?.resetPending(id);\n      emitter.emit(SFT_PROOF, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftUnlock = async (payloadContent: PayloadContent) => {\n    const { id } = payloadContent;\n    if (id === undefined) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid id',\n      } as StatusResult);\n      return;\n    }\n\n    if (!this.tradeFloorContractRO || !this.ethersSigner) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: 'Invalid contract state',\n      } as StatusResult);\n      return;\n    }\n\n    try {\n      const tradeFloorContract = this.tradeFloorContractRO.connect(\n        this.ethersSigner\n      );\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction = await tradeFloorContract.burn(\n        this.address,\n        id,\n        1\n      );\n      emitter.emit(SFT_UNLOCK, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_UNLOCK, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UNLOCK, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemBuy = async (payloadContent: PayloadContentCFolioItem) => {\n    const { wowsAmount, investAmount, sftTokenId, cfolioType } = payloadContent;\n\n    try {\n      if (\n        !this.sftMintContractRO ||\n        !this.tokenContract ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (wowsAmount > 0) {\n        const weiAmount = this.toWei(wowsAmount);\n        const walletAmount = await this.tokenContract.balanceOf(this.address);\n        if (weiAmount.gt(walletAmount)) {\n          throw new Error('Insufficient WOWS balances');\n        }\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas } = await this._investmentApproval(\n        CFOLIO_ITEM_BUY,\n        cfolioType,\n        false,\n        investAmount,\n        investWeiAmounts\n      );\n\n      const sftMintContract = this.sftMintContractRO.connect(this.ethersSigner);\n\n      if (wowsAmount > 0) {\n        const allowance = await this.tokenContract.allowance(\n          this.address,\n          sftMintContract.address\n        );\n        const weiAmount = this.toWei(wowsAmount);\n        if (allowance.lt(weiAmount)) {\n          const tx = await this.tokenContract.approve(\n            sftMintContract.address,\n            this._checkUnlimited('WOWS', weiAmount)\n          );\n          emitter.emit(CFOLIO_ITEM_BUY, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await sftMintContract.estimateGas.mintCFolioItemSFT(\n            this.address,\n            cfolioType,\n            sftTokenId,\n            0,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      this.eventsSuspended = true;\n      const tx: ethers.ContractTransaction =\n        await sftMintContract.mintCFolioItemSFT(\n          this.address,\n          cfolioType,\n          sftTokenId,\n          0,\n          investWeiAmounts,\n          options\n        );\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      // There is no transfer with our address emitted,\n      // in case of valid SFT: Request an tokenId update\n      if (!sftTokenId.eq(BIGNUMBER_MAX)) {\n        this._addDQ(tx?.blockNumber ?? 0, {\n          type: ASSETS_STATE,\n          content: { filter: ['tokens', 'balances'] },\n        } as Payload);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_BUY, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doCFolioItemDeposit = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      const investWeiAmounts: ethers.BigNumber[] = [];\n      const { additionalGas, cfihContract } = await this._investmentApproval(\n        CFOLIO_ITEM_DEPOSIT,\n        cfolioType,\n        true,\n        investAmount,\n        investWeiAmounts\n      );\n\n      let options = {};\n      if (additionalGas) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.deposit(\n            this.address,\n            sftTokenId,\n            cfolioTokenId,\n            0,\n            investWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + additionalGas };\n      }\n\n      const tx = await cfihContract.deposit(\n        this.address,\n        sftTokenId,\n        cfolioTokenId,\n        0,\n        investWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_DEPOSIT, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _investmentApproval = async (\n    msgType: string,\n    cfiType: number,\n    requireOneSet: boolean,\n    investAmount: number[],\n    investWeiAmounts: ethers.BigNumber[]\n  ) => {\n    const cfiLevel = this.assets.cfolioItems.find((cf) =>\n      cf.cards.find((cfc) => cfc.chainRef === cfiType)\n    );\n    if (!cfiLevel) {\n      throw new Error('Unsupported cfolioType');\n    }\n\n    let cfihContract, balances;\n    if (cfiLevel.type === 'lpInvestment') {\n      cfihContract = this.cfihLpContract;\n      balances = this.getStakeCurrencies()[0];\n    } else {\n      cfihContract = this.cfihScContract;\n      balances = this.getStableCurrencies()[0];\n    }\n\n    if (!cfihContract || !this.ethersSigner) {\n      throw new Error('Contract not initialized');\n    }\n\n    const approvalContracts: (ethers.Contract | undefined)[] = [];\n    let oneSet = false;\n    let oneStableSet = false;\n\n    for (const index in investAmount) {\n      if (investAmount[index] > 0) {\n        const balance = this.assets.balances[balances[index]];\n        if (!balance.address) throw new Error('ERC20 address missing');\n        const approvalContract = new ethers.Contract(\n          balance.address,\n          ERC20Abi,\n          this.ethersSigner\n        );\n        let investWeiAmount = this.toWei(investAmount[index], balance.decimals);\n\n        const walletAmount = await approvalContract.balanceOf(this.address);\n        if (investWeiAmount.gt(walletAmount)) {\n          if (investWeiAmount.sub(walletAmount).lt(balance.dust)) {\n            investWeiAmount = walletAmount;\n          } else {\n            throw new Error('Insufficient balances');\n          }\n        } else if (walletAmount.sub(investWeiAmount).lt(balance.dust)) {\n          // Try to invest dust, too\n          investWeiAmount = walletAmount;\n        }\n        investWeiAmounts.push(investWeiAmount);\n        approvalContracts.push(approvalContract);\n\n        if (\n          cfihContract === this.cfihScContract &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n        oneSet = true;\n      } else {\n        investWeiAmounts.push(ethers.BigNumber.from(0));\n        approvalContracts.push(undefined);\n      }\n    }\n\n    if (requireOneSet && !oneSet) throw new Error('ERC20 address missing');\n    if (!oneSet) investWeiAmounts.length = 0;\n\n    for (const index in investWeiAmounts) {\n      if (approvalContracts[index] !== undefined) {\n        const allowance = await approvalContracts[index]?.allowance(\n          this.address,\n          cfihContract?.address\n        );\n        if (allowance.lt(investWeiAmounts[index])) {\n          // USDT doesn't allow increase of existing allowance\n          if (balances[index] === 'USDT' && !allowance.eq(0)) {\n            throw new Error(\n              \"Revoke USDT allowance in 'Manage Approval' required!\"\n            );\n          }\n          const tx = await approvalContracts[index]?.approve(\n            cfihContract?.address,\n            this._checkUnlimited(\n              balances[parseInt(index)],\n              investWeiAmounts[index]\n            )\n          );\n          emitter.emit(msgType, {\n            status: 'approve',\n            tx: tx?.hash,\n          } as StatusResult);\n          await tx.wait();\n        }\n      }\n    }\n    return { additionalGas: oneStableSet ? 400000 : 0, cfihContract };\n  };\n\n  _doCFolioItemWithdraw = async (payloadContent: PayloadContentCFolioItem) => {\n    const { investAmount, sftTokenId, cfolioTokenId, cfolioType } =\n      payloadContent;\n\n    try {\n      if (!cfolioTokenId) {\n        throw new Error('Invalid input');\n      }\n\n      if (!this.sftHolderContractRO) {\n        throw new Error('Contract not initialized');\n      }\n\n      // get cFolioAddress from cFolioTokenId\n      const cfa = await this.sftHolderContractRO.tokenIdToAddress(\n        cfolioTokenId.mask(128)\n      );\n      if (cfa === Store.nullAddress) {\n        throw new Error('Cannot get cfolio address');\n      }\n\n      const cfiLevel = this.assets.cfolioItems.find((cf) =>\n        cf.cards.find((cfc) => cfc.chainRef === cfolioType)\n      );\n      if (!cfiLevel) {\n        throw new Error('Unsupported cfolioType');\n      }\n\n      let cfihContract, balances;\n      if (cfiLevel.type === 'lpInvestment') {\n        cfihContract = this.cfihLpContract;\n        balances = this.getStakeCurrencies()[0];\n      } else {\n        cfihContract = this.cfihScContract;\n        balances = this.getStableCurrencies()[0];\n      }\n\n      if (!cfihContract || !this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (investAmount.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const cfolioAmounts: ethers.BigNumber[] = await cfihContract.getAmounts(\n        cfa\n      );\n\n      if (cfolioAmounts.length !== balances.length) {\n        throw new Error('Amount lengths do not match');\n      }\n\n      const withdrawWeiAmounts: ethers.BigNumber[] = [];\n      let oneStableSet = false;\n      for (const index in investAmount) {\n        const balance = this.assets.balances[balances[index]];\n        let withdrawWeiAmount = this.toWei(\n          investAmount[index],\n          balance.decimals\n        );\n        if (withdrawWeiAmount.gt(cfolioAmounts[index])) {\n          if (withdrawWeiAmount.sub(cfolioAmounts[index]).lt(balance.dust)) {\n            withdrawWeiAmount = cfolioAmounts[index];\n          } else {\n            throw new Error('Insufficient balances');\n          }\n        } else if (\n          cfolioAmounts[index].sub(withdrawWeiAmount).lt(balance.dust)\n        ) {\n          // Try to invest dust, too\n          withdrawWeiAmount = cfolioAmounts[index];\n        }\n        if (\n          cfihContract === this.cfihScContract &&\n          withdrawWeiAmount.gt(0) &&\n          index !== (balances.length - 1).toString()\n        )\n          oneStableSet = true;\n\n        withdrawWeiAmounts.push(withdrawWeiAmount);\n      }\n\n      let options = {};\n      if (oneStableSet) {\n        const gasEstimation: ethers.BigNumber =\n          await cfihContract.estimateGas.withdraw(\n            sftTokenId,\n            cfolioTokenId,\n            0,\n            withdrawWeiAmounts\n          );\n        options = { gasLimit: gasEstimation.toNumber() + 400000 };\n      }\n\n      const tx = await cfihContract.withdraw(\n        sftTokenId,\n        cfolioTokenId,\n        0,\n        withdrawWeiAmounts,\n        options\n      );\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'tx',\n        tx: tx?.hash,\n      } as StatusResult);\n\n      const receipt = await tx?.wait();\n\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'success',\n        tx: receipt.transactionHash,\n      } as StatusResult);\n\n      this._setCFolioAmount(receipt, sftTokenId, cfolioTokenId);\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_WITHDRAW, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doCFolioItemUnlockAndTransfer = async (\n    payloadContent: PayloadContentCFolioItemLT\n  ) => {\n    const { src, dst, lockedCFIs, transferCFIs } = payloadContent;\n\n    try {\n      if (\n        !this.sftHolderContractRO ||\n        !this.tradeFloorContractRO ||\n        !this.ethersSigner\n      ) {\n        throw new Error('Contract not initialized');\n      }\n      if (src === dst) {\n        throw new Error('Ooups! src === dest');\n      }\n\n      // get destination address\n      let dstAddress = this.address;\n      if (dst !== BIGNUMBER_MAX) {\n        dstAddress = this.sftHolderContractRO.tokenIdToAddress(dst);\n        if (dstAddress === Store.nullAddress) {\n          throw new Error('Cannot get cfolio address');\n        }\n      }\n\n      this.eventsSuspended = true;\n\n      if (lockedCFIs.length > 0) {\n        if (src !== BIGNUMBER_MAX) {\n          throw new Error('Unlock only from Wallet');\n        }\n        const tradeFloorContract = this.tradeFloorContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await tradeFloorContract.burnBatch(\n          this.address,\n          lockedCFIs,\n          new Array(lockedCFIs.length).fill(1)\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx?.hash,\n        } as StatusResult);\n\n        await tx?.wait();\n\n        // CFIs are now in users wallet -> push them to cfiBridge\n        transferCFIs.push(...lockedCFIs.map((id) => id.mask(128)));\n      }\n      if (transferCFIs.length > 0) {\n        // CFI's has to be in TF contract!\n        let srcAddress = this.address;\n        if (src !== BIGNUMBER_MAX) {\n          srcAddress = this.sftHolderContractRO.tokenIdToAddress(src);\n          if (srcAddress === Store.nullAddress) {\n            throw new Error('Cannot get cfolio address');\n          }\n        }\n        const sftHolderContract = this.sftHolderContractRO.connect(\n          this.ethersSigner\n        );\n        const tx = await sftHolderContract.safeBatchTransferFrom(\n          srcAddress,\n          dstAddress,\n          transferCFIs,\n          new Array(transferCFIs.length).fill(1),\n          []\n        );\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'tx',\n          tx: tx.hash,\n        } as StatusResult);\n\n        await tx.wait();\n        emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n          status: 'success',\n          tx: tx.hash,\n        } as StatusResult);\n      }\n    } catch (e) {\n      console.log(e);\n      emitter.emit(CFOLIO_ITEM_UNLOCK_TRANSFER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n    this._resolveDQ();\n  };\n\n  _doSftClaim = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftMintContractRO || !this.ethersSigner) {\n        throw new Error('Invalid contract state');\n      }\n\n      const mintContract = this.sftMintContractRO.connect(this.ethersSigner);\n      const tx: ethers.ContractTransaction = await mintContract.claimSFTRewards(\n        payloadContent.id,\n        payloadContent.time ?? 0\n      );\n      emitter.emit(SFT_CLAIM, {\n        status: 'tx',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n      emitter.emit(SFT_CLAIM, {\n        status: 'success',\n        type: SFT_CLAIM,\n        tx: tx.hash,\n      } as StatusResult);\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM, {\n        status: 'error',\n        type: SFT_CLAIM,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftClaimBooster = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.boosterContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.boosterContract.claimRewards(\n          payloadContent.id,\n          payloadContent.time\n        );\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'success',\n        tx: tx.hash,\n      } as StatusResult);\n\n      this._addDQ(tx.blockNumber ?? 0, {\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    } catch (e) {\n      emitter.emit(SFT_CLAIM_BOOSTER, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doSftUpgrade = async (payloadContent: PayloadContent) => {\n    try {\n      if (!payloadContent.id) {\n        throw new Error('Invalid id');\n      }\n      if (!this.sftEvaluatorContract) {\n        throw new Error('Invalid contract state');\n      }\n      const tx: ethers.ContractTransaction =\n        await this.sftEvaluatorContract.setRewardRate(payloadContent.id, true);\n      emitter.emit(SFT_UPGRADE, {\n        status: 'tx',\n        tx: tx.hash,\n      } as StatusResult);\n\n      const receipt = await tx.wait();\n\n      this._setRewardRate(receipt);\n\n      emitter.emit(SFT_UPGRADE, {\n        status: 'success',\n        tx: tx?.hash,\n      } as StatusResult);\n    } catch (e) {\n      emitter.emit(SFT_UPGRADE, {\n        status: 'error',\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  _doRevokeApproval = async (payloadContent: PayloadContent) => {\n    const currency = payloadContent.filter ? payloadContent.filter[0] : '';\n    const balance = this.assets.balances[currency];\n    try {\n      if (!this.ethersSigner) {\n        throw new Error('Contract not initialized');\n      }\n\n      if (!balance) {\n        throw new Error('Invalid input currency');\n      }\n\n      const approvalContract = new ethers.Contract(\n        balance.address ?? '',\n        ERC20Abi,\n        this.ethersSigner\n      );\n\n      const tx = await approvalContract.approve(balance.handlerAddress, 0);\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'tx',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      await tx.wait();\n\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'success',\n        type: currency,\n        tx: tx.hash,\n      } as StatusResult);\n\n      dispatcher.dispatch({\n        type: ASSETS_STATE,\n        content: { filter: ['allowance'] },\n      } as Payload);\n    } catch (e) {\n      emitter.emit(REVOKE_APPROVAL, {\n        status: 'error',\n        type: currency,\n        errorMessage: e.error ? e.error.message : e.message,\n      } as StatusResult);\n    }\n  };\n\n  /******************** Misc *********************/\n\n  fromWei(n: ethers.BigNumber, decimals = 18) {\n    return parseFloat(ethers.utils.formatUnits(n, decimals));\n  }\n\n  toWei(n: number | string, decimals = 18) {\n    const parsed = typeof n === 'number' ? n.toFixed(decimals) : n;\n    return ethers.utils.parseUnits(parsed, decimals);\n  }\n\n  _checkUnlimited(currency: string, defaultReturn: ethers.BigNumber) {\n    const index = Object.keys(this.assets.balances).findIndex(\n      (b) => b === currency\n    );\n    if (index >= 0) {\n      const mask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n      if (mask & (1 << index)) return BIGNUMBER_MAX;\n    }\n    return defaultReturn;\n  }\n}\n\nconst StoreClasses = {\n  store: new Store(),\n  emitter: emitter,\n  dispatcher: dispatcher,\n};\n\nexport class StoreContainer extends React.Component<unknown> {\n  componentDidMount(): void {\n    window.addEventListener('load', async () => {\n      StoreClasses.store.mount();\n    });\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.store.unmount();\n  }\n\n  render(): React.ReactNode {\n    return <>{this.props.children}</>;\n  }\n}\n\nexport { StoreClasses };\n","export default \"data:image/png;base64,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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\n// Events (used in dispatcher and emitter)\nexport const ASSETS_STATE = 'ASSETS_STATE';\nexport const REVOKE_APPROVAL = 'REVOKE_APPROVAL';\n\nexport const ADDRESS_COPIED = 'ADDRESS_COPIED';\nexport const CONNECTION_CHANGED = 'CONNECTION_CHANGED';\nexport const NEW_BLOCK = 'NEW_BLOCK'; // Block ticker\n\nexport const SFT_BUY = 'SFT_BUY'; // Buy (mint) an SFT with given level / class\nexport const SFT_CLAIM = 'SFT_CLAIM'; // Claim all SFT rewards\nexport const SFT_CLAIM_BOOSTER = 'SFT_CLAIM_BOOSTER'; // Claim all SFT rewards from booster\nexport const SFT_LOCK = 'SFT_LOCK'; // Transfer SFT to TradingFloor contract\nexport const SFT_PROOF = 'SFT_PROOF'; // Fire the Polygon Burn Proof\nexport const SFT_REWARD = 'SFT_REWARD'; // REQUEST REWARD INFO\nexport const SFT_TRANSFER = 'SFT_TRANSFER'; // Transfer / bridge\nexport const SFT_UNLOCK = 'SFT_UNLOCK'; // Burn NFT, transfer SFT back\nexport const SFT_UPGRADE = 'SFT_UPGRADE'; // Upgrade Reward Share\n\nexport const CFOLIO_ITEM_BUY = 'CFOLIO_ITEM_BUY'; // Buy (mint) cfolioItem\nexport const CFOLIO_ITEM_DEPOSIT = 'CFOLIO_ITEM_DEPOSIT'; // Add investment into existing CFI\nexport const CFOLIO_ITEM_WITHDRAW = 'CFOLIO_ITEM_WITHDRAW_LP'; // Remove LP token from existing CFI\nexport const CFOLIO_ITEM_UNLOCK_TRANSFER = 'CFOLIO_ITEM_UNLOCK_TRANSFER'; // UnlockBurn / transfer CFIs\n","export default __webpack_public_path__ + \"static/media/coinbase-wallet.9fa41556.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './image_slider.css';\n\nimport { ethers } from 'ethers';\nimport { Fragment, RefObject, useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport interface IMAGE_SLIDER_CFOLIO {\n  name: string;\n  tokenId: ethers.BigNumber;\n  disabled: boolean;\n}\n\nexport interface IMAGE_SLIDER_SLIDE {\n  url: string;\n  cfolioItems: IMAGE_SLIDER_CFOLIO[];\n  tokenId?: ethers.BigNumber;\n  locked?: boolean;\n}\n\nexport type IMAGE_SLIDER_INTERFACE = {\n  prev: () => void;\n  next: () => void;\n  go: (index: number) => void;\n};\n\ntype PROPS = {\n  sliderId?: string;\n  initCallback: (id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) => void;\n  onSlideChanged?: (\n    slideId: string | undefined,\n    index: number,\n    checked: number[]\n  ) => void;\n  slideWidth: number;\n  slides: IMAGE_SLIDER_SLIDE[];\n  startSlideId?: number;\n  checkbox?: boolean;\n  toolTippLink?: string;\n};\n\nconst ImageSlider = ({\n  sliderId,\n  initCallback,\n  onSlideChanged,\n  slideWidth,\n  slides,\n  startSlideId,\n  checkbox,\n  toolTippLink,\n}: PROPS): JSX.Element => {\n  const containerRef: RefObject<HTMLDivElement> = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [checked, setChecked] = useState([] as number[]);\n  const [displayIndex, setDisplayIndex] = useState(-1);\n  const [left, setLeft] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [useTransition, enableTransition] = useState(false);\n\n  const prev = () => {\n    if (currentIndex === 0) {\n      return setCurrentIndex(slides.length - 1);\n    }\n    slides.length > 0 && setCurrentIndex(currentIndex - 1);\n  };\n\n  const next = () => {\n    if (currentIndex + 1 === slides.length) {\n      return setCurrentIndex(0);\n    }\n    slides.length > currentIndex + 1 && setCurrentIndex(currentIndex + 1);\n  };\n\n  const go = (index: number) =>\n    index >= 0 && index < slides.length && setCurrentIndex(index);\n\n  const select = (index: number) => {\n    if (index >= 0 && index < slides.length) {\n      const newChecked = checked.filter((e) => e !== index);\n      if (newChecked.length === checked.length) newChecked.push(index);\n      setChecked(newChecked);\n    }\n  };\n\n  initCallback(sliderId, { prev, next, go });\n\n  useEffect(() => {\n    if (onSlideChanged) {\n      onSlideChanged(sliderId, currentIndex, checked);\n    }\n  }, [currentIndex, onSlideChanged, checked, sliderId]);\n\n  useEffect(() => {\n    setLeft((width - slideWidth) / 2 - currentIndex * slideWidth);\n    if (!checkbox && currentIndex !== displayIndex) {\n      setDisplayIndex(-1);\n      setTimeout(() => setDisplayIndex(currentIndex), 250);\n    }\n  }, [currentIndex, displayIndex, slideWidth, width, checkbox]);\n\n  useEffect(() => {\n    enableTransition(false);\n    setTimeout(() => enableTransition(true), 500);\n  }, [slides]);\n\n  useEffect(() => {\n    if (startSlideId === undefined) {\n      setChecked([]);\n      setDisplayIndex(-1);\n      setCurrentIndex(0);\n    } else setCurrentIndex(startSlideId);\n  }, [slides, startSlideId]);\n\n  useEffect(() => {\n    if (containerRef.current) setWidth(containerRef.current.clientWidth);\n\n    const resizeListener = () => {\n      if (containerRef.current) setWidth(containerRef.current.clientWidth);\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"image_slide_container tk-aktiv-grotesk-condensed\"\n      ref={containerRef}\n    >\n      <div\n        className={`image_slide_track ${useTransition && 'trans'}`}\n        style={{ left: left + 'px' }}\n      >\n        {slides.map((elem, index) => {\n          return (\n            <Fragment key={'si_' + index}>\n              <div className=\"d-flex flex-column justify-content-center text-center p-0 m-0 p_relative\">\n                <div\n                  className={\n                    'image_slide' +\n                    (checked.indexOf(index) >= 0\n                      ? ' active c-pointer'\n                      : index === displayIndex\n                      ? ' active c-default'\n                      : ' c-pointer')\n                  }\n                  style={{\n                    width: slideWidth + 'px',\n                    // ['--url' as string]: `url(${elem.url}`,\n                  }}\n                  onClick={() => (checkbox ? select(index) : go(index))}\n                >\n                  {elem.cfolioItems.length > 0 && (\n                    <>\n                      <div className={'slide_count'}>\n                        {elem.cfolioItems.length}\n                      </div>\n                      <div className=\"slide_tooltip_wrapper\">\n                        <div className=\"slide_tooltip_content\">\n                          {elem.cfolioItems.map((cfi) =>\n                            !toolTippLink ||\n                            index !== displayIndex ||\n                            cfi.disabled ? (\n                              <p\n                                key={cfi.tokenId.toHexString()}\n                                className={cfi.disabled ? 'disabled' : ''}\n                              >\n                                {cfi.name}\n                              </p>\n                            ) : (\n                              <Link\n                                key={cfi.tokenId.toHexString()}\n                                to={\n                                  toolTippLink +\n                                  '&tokenId=' +\n                                  cfi.tokenId.toHexString()\n                                }\n                              >\n                                {cfi.name}\n                              </Link>\n                            )\n                          )}\n                        </div>\n                      </div>\n                    </>\n                  )}\n                  {elem.locked && <div className={'slide_locked'} />}\n\n                  <img width=\"100%\" height=\"100%\" src={elem.url} alt=\"\" />\n                </div>\n\n                <span className=\"p-0 m-0 font-13 image_slider_tid\">\n                  {elem.tokenId && elem.tokenId.mask(128).toHexString()}\n                </span>\n              </div>\n            </Fragment>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport { ImageSlider };\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Approval.css';\n\nimport { useEffect, useReducer, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { ASSETS_STATE, REVOKE_APPROVAL } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  Payload,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\n\ntype PROPS = {\n  hideCB: () => void;\n  show: boolean;\n  t: TFunction;\n};\n\nfunction Approval({ hideCB, show, t }: PROPS): JSX.Element {\n  const [redraw, setRedraw] = useState(false);\n\n  const reducer = (\n    state: string[],\n    action: { action: number; key: string }\n  ) => {\n    switch (action.action) {\n      case 1:\n        return [...state, action.key];\n      case -1:\n        return state.filter((e) => e !== action.key);\n      default:\n        throw new Error();\n    }\n  };\n\n  const [approving, setApproving] = useReducer(reducer, []);\n\n  let checkMask = parseInt(localStorage.getItem('APPROVAL') ?? '0');\n\n  const setCheck = (index: number, checked: boolean) => {\n    checkMask = checked ? checkMask | (1 << index) : checkMask & ~(1 << index);\n    localStorage.setItem('APPROVAL', checkMask.toString());\n  };\n\n  useEffect(() => {\n    const assetState = (result: AssetStateresult) => {\n      if (result.status === 'allowance') setRedraw(true);\n    };\n\n    const handleRevoke = (result: StatusResult) => {\n      if (result.status !== 'tx') {\n        setApproving({ action: -1, key: result.type });\n      }\n    };\n\n    StoreClasses.emitter.on(ASSETS_STATE, assetState);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, handleRevoke);\n    StoreClasses.dispatcher.dispatch({\n      type: ASSETS_STATE,\n      content: { filter: ['allowance'] },\n    } as Payload);\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(REVOKE_APPROVAL, handleRevoke);\n      StoreClasses.emitter.off(ASSETS_STATE, assetState);\n    };\n  }, []);\n\n  const balances = Object.fromEntries(\n    Object.entries(StoreClasses.store.getAssets().balances).filter(\n      ([_, val]) => val.address !== undefined\n    )\n  );\n\n  const revoke = (key: string) => {\n    const payload = {\n      type: REVOKE_APPROVAL,\n      content: {\n        filter: [key],\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setApproving({ action: 1, key: key });\n  };\n\n  if (redraw) setRedraw(false);\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} size=\"lg\">\n      <Modal.Header closeButton>\n        <Modal.Title>Manage Approval</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        In order to allow our smart contracts work with the assets in your\n        wallet, you have to approve it.\n        <br />\n        By default we approve only the exact amount for an asset, which means\n        that you have to pay multiple times in gas if you process multiple\n        operations for the same asset (e.g. investment or NFT purchase)\n        <br />\n        Enabling \"Unlimited\" approval approves our smart contract only once, but\n        it comes with the risk that in case of a software bug or an attack our\n        smart contract is allowed to pull the full available asset amount out of\n        your wallet.\n        <br />\n        Revoke allowances early to make sure that in an extraordinary situation\n        your assets are safe.\n        <span className=\"d-block mt-2\">\n          <b>Hint: </b>MetaMask supports fine control for approval just before\n          you confirm the approve transaction\n        </span>\n        <table className=\"mt-4 w-100 tk-aktiv-grotesk-condensed font-14 text-center\">\n          <thead>\n            <tr>\n              <td>Asset</td>\n              <td>Unlimited</td>\n              <td>Allowance</td>\n              <td>Revoke</td>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.entries(balances).map(([k, v], index) => (\n              <tr key={`AT_${index}`}>\n                <td>{k}</td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    onChange={(e) => setCheck(index, e.target.checked)}\n                    defaultChecked={(checkMask & (1 << index)) !== 0}\n                  />\n                </td>\n                <td>\n                  {v.allowance < 0 ? 'UNLIMITED' : v.allowance.toFixed(2)}\n                </td>\n                <td>\n                  <button\n                    className={'wolves-btn font-16 white-border'}\n                    disabled={approving.includes(k) || v.allowance === 0}\n                    onClick={() => revoke(k)}\n                  >\n                    REVOKE\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Approval);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './asset_input.css';\n\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\ntype PROPS = {\n  currency: string;\n  defaultValue?: string;\n  minAmount: number;\n  maxAmount: number;\n  cb?: (n: number) => void;\n};\n\nfunction AssetInput({\n  cb,\n  currency,\n  defaultValue,\n  maxAmount,\n  minAmount,\n}: PROPS): JSX.Element {\n  const [hasFocus, setHasFocus] = useState(false);\n  const [amountChanged, setAmountChanged] = useState(false);\n  const inputRef: React.RefObject<HTMLInputElement> = useRef(null);\n\n  const handleOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.target.value = event.target.value\n      .replace(/[^0-9,.]/gi, '')\n      .replace(',', '.');\n    verifyAndCb();\n  };\n\n  const setMax = () => {\n    if (inputRef.current) inputRef.current.value = maxAmount.toString();\n    setAmountChanged(true);\n  };\n\n  const verifyAndCb = useCallback(() => {\n    if (cb && inputRef.current) {\n      const num =\n        minAmount === 0 && inputRef.current.value === ''\n          ? 0\n          : parseFloat(inputRef.current.value);\n      cb(num < minAmount || num > maxAmount ? NaN : num);\n    }\n  }, [cb, minAmount, maxAmount]);\n\n  useEffect(() => {\n    if (inputRef.current && !hasFocus) {\n      inputRef.current.value = defaultValue ?? '';\n      setAmountChanged(true);\n    }\n  }, [hasFocus, maxAmount, defaultValue]);\n\n  useEffect(() => {\n    if (defaultValue && inputRef.current) {\n      if (minAmount === 0 && parseFloat(defaultValue) === 0)\n        inputRef.current.value = '';\n      else inputRef.current.value = defaultValue;\n      setAmountChanged(true);\n    }\n  }, [defaultValue, minAmount]);\n\n  useEffect(() => {\n    if (amountChanged) {\n      setAmountChanged(false);\n      verifyAndCb();\n    }\n  }, [amountChanged, verifyAndCb]);\n\n  const maxVisible = inputRef.current\n    ? !hasFocus && inputRef.current.value === ''\n    : true;\n\n  return (\n    <div className=\"asset-input-container opaque\">\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        className=\"asset-input\"\n        onFocus={() => setHasFocus(true)}\n        onBlur={() => setHasFocus(false)}\n        onChange={handleOnChange}\n        ref={inputRef}\n      />\n      <div\n        className=\"asset-input-max\"\n        onClick={() => setMax()}\n        hidden={!maxVisible}\n      >\n        max\n      </div>\n      <div className=\"asset-input-currency\">{currency}</div>\n    </div>\n  );\n}\n\nexport default AssetInput;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Stable.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n} from '../../../stores/constants';\nimport {\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n} from '../../../stores/store';\nimport Approval from '../../Approval/Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction Stable({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [currencyIndex, setCurrencyIndex] = useState(0);\n  const [checkedIndex, setCheckedIndex] = useState(-1);\n  const [inputVals, setInputVals] = useState([0, 0, 0, 0, 0]);\n  const [txRunning, setTXRunning] = useState(false);\n  const [balances] = useState(StoreClasses.store.getAssets().balances);\n  const [modal, showModal] = useState(false);\n\n  const currencies = StoreClasses.store.getStableCurrencies()[0];\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: inputVals.slice(0, currencies.length),\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    currencies.length === 0\n      ? 0\n      : tabOption === 0\n      ? balances[currencies[currencyIndex]].value\n      : (cfolioItem && cfolioItem.assets[currencyIndex]) ?? 0;\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  useEffect(() => {\n    if (tabOption) {\n      setCurrencyIndex(currencies.length - 1);\n      setCheckedIndex(0);\n    } else setCheckedIndex(-1);\n    setInputVals([0, 0, 0, 0, 0]);\n  }, [currencies, tabOption]);\n\n  useEffect(() => {\n    if (tabOption === 1) {\n      const newValues = Array.from({ length: currencies.length }, (v) => 0);\n      newValues[currencies.length - 1] = inputVals[currencies.length - 1];\n      if (checkedIndex >= 0 && curMaxAmount > 0) {\n        newValues[checkedIndex] = isNaN(inputVals[currencies.length - 1])\n          ? NaN\n          : (((cfolioItem && cfolioItem.assets[checkedIndex]) ?? 0) *\n              inputVals[currencies.length - 1]) /\n            curMaxAmount;\n      }\n      if (newValues.find((v, index) => v !== inputVals[index]) !== undefined) {\n        setInputVals(newValues);\n      }\n    }\n  }, [\n    checkedIndex,\n    currencies,\n    tabOption,\n    inputVals,\n    cfolioItem,\n    curMaxAmount,\n  ]);\n\n  const validCurrencies = () => {\n    if (tabOption === 1)\n      return isNaN(inputVals[currencies.length - 1])\n        ? undefined\n        : inputVals[currencies.length - 1] <= 0\n        ? []\n        : [currencies[currencies.length - 1]];\n    else if (inputVals.find((v) => isNaN(v)) !== undefined) return undefined;\n    else return currencies.filter((_, index) => inputVals[index] > 0);\n  };\n\n  const setCurrentValue = (v: number) => {\n    const newValues = inputVals.map((i) => i);\n    newValues[currencyIndex] = v;\n    setInputVals(newValues);\n  };\n\n  let vc: string[] | undefined;\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? (vc = validCurrencies()) === undefined\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : vc.length === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? {\n          l:\n            `WITHDRAW ${investCurrency}` +\n            (checkedIndex >= 0\n              ? ` AND RECEIVE ${currencies[checkedIndex]}`\n              : ''),\n          e: true,\n        }\n      : cfolioItem\n      ? { l: `DEPOSIT ${vc.join(' + ')}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (vc.length > 0 ? ` & DEPOSIT ${vc.join(' + ')}` : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'DEPOSIT MORE'\n    : sft?.isWallet\n    ? 'BUY \"STABLE I-NFT\" INTO MY WALLET'\n    : 'BUY \"STABLE I-NFT\" INTO MY C-FOLIO';\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'WITHDRAW')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {currencies[currencyIndex]}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      {/* Orange Horizontal Bar */}\n      <AssetInput\n        currency={currencies[currencyIndex]}\n        defaultValue={\n          isNaN(inputVals[currencyIndex]) || inputVals[currencyIndex] === 0\n            ? ''\n            : inputVals[currencyIndex].toString()\n        }\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        cb={(n) => setCurrentValue(n)}\n      />\n      <div id=\"currency-container\" className=\"tk-grotesk-lightbold mt-3\">\n        {currencies.map((currency, index) => (\n          <div\n            style={{ flexBasis: 100 / currencies.length - 1 + '%' }}\n            key={'cidx_' + index}\n            className={\n              index === currencyIndex\n                ? 'selected'\n                : index === checkedIndex\n                ? 'checked'\n                : ''\n            }\n            onClick={\n              index === currencyIndex\n                ? undefined\n                : tabOption === 1\n                ? () => setCheckedIndex(index === checkedIndex ? -1 : index)\n                : () => setCurrencyIndex(index)\n            }\n          >\n            {currency}\n            <br />\n            {isNaN(inputVals[index]) ? 'INVALID' : inputVals[index].toFixed(2)}\n          </div>\n        ))}\n      </div>\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(Stable);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './StakeLP.css';\n\nimport { useEffect, useState } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_WITHDRAW,\n} from '../../../stores/constants';\nimport {\n  AssetStateresult,\n  SFT,\n  SFTCHILD,\n  StatusResult,\n  StoreClasses,\n} from '../../../stores/store';\nimport Approval from '../../Approval';\nimport AssetInput from '../../controls/asset_input';\n\ntype PROPS = {\n  t: TFunction;\n  nftPrice: number;\n  nftType: number;\n  investCurrency: string;\n  cfolioItem?: SFTCHILD;\n  sft?: SFT;\n  beforeBuy: (successCb: () => void) => boolean;\n};\n\nfunction StakeLP({\n  cfolioItem,\n  investCurrency,\n  nftPrice,\n  nftType,\n  sft,\n  beforeBuy,\n  t,\n}: PROPS): JSX.Element {\n  const [tabOption, setTabOption] = useState(0);\n  const [investAmount, setInvestAmount] = useState(\n    StoreClasses.store.getAssets().balances['WETH/WOWS'].value\n  );\n  const [hasSft, setHasSft] = useState(false);\n  const [inputVal, setInputVal] = useState(0);\n  const [txRunning, setTXRunning] = useState(false);\n  const [modal, showModal] = useState(false);\n\n  if ((sft === undefined) === hasSft) {\n    if (hasSft) setInvestAmount(0);\n    setHasSft(sft !== undefined);\n  }\n\n  useEffect(() => {\n    const onAssetsState = (params: AssetStateresult) => {\n      if (params.status === 'balances') {\n        setInvestAmount(\n          StoreClasses.store.getAssets().balances['WETH/WOWS'].value\n        );\n      }\n    };\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) setTXRunning(false);\n    };\n\n    StoreClasses.emitter.on(ASSETS_STATE, onAssetsState);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, resetTx);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, resetTx);\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, resetTx);\n      StoreClasses.emitter.off(CFOLIO_ITEM_BUY, resetTx);\n      StoreClasses.emitter.off(ASSETS_STATE, onAssetsState);\n    };\n  }, []);\n\n  useEffect(() => {\n    setTabOption(0);\n  }, [cfolioItem]);\n\n  const renderSpan = (id: number, caption: string) => {\n    return id === tabOption ? (\n      <div>\n        <span className=\"border_thin_b\">{caption}</span>\n      </div>\n    ) : (\n      <div>\n        <span className=\"c-pointer\" onClick={() => setTabOption(id)}>\n          {caption}\n        </span>\n      </div>\n    );\n  };\n\n  const spanText = cfolioItem\n    ? 'STAKE MORE'\n    : sft?.isWallet\n    ? 'BUY \"STAKE I-NFT\" INTO MY WALLET'\n    : 'BUY \"STAKE I-NFT\" INTO MY C-FOLIO';\n\n  const handleBuy = () => {\n    if (!beforeBuy(handleBuy)) return;\n    const payload = {\n      type: cfolioItem\n        ? tabOption === 1\n          ? CFOLIO_ITEM_WITHDRAW\n          : CFOLIO_ITEM_DEPOSIT\n        : CFOLIO_ITEM_BUY,\n      content: {\n        wowsAmount: nftPrice,\n        investAmount: [inputVal],\n        sftTokenId: sft?.tokenId,\n        cfolioTokenId: cfolioItem?.tokenId,\n        cfolioType: nftType,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  const curMaxAmount =\n    tabOption === 0 ? investAmount : (cfolioItem && cfolioItem.assets[0]) ?? 0;\n\n  const buttonText = txRunning\n    ? { l: 'TRANSACTION PENDING ...', e: false }\n    : sft\n    ? isNaN(inputVal)\n      ? { l: 'INPUT AMOUNT IS INVALID', e: false }\n      : inputVal === 0 && cfolioItem\n      ? { l: 'INPUT AMOUNT MISSING', e: false }\n      : tabOption === 1\n      ? { l: `UNSTAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : cfolioItem\n      ? { l: `STAKE ${inputVal.toFixed(2)} ${investCurrency}`, e: true }\n      : {\n          l:\n            `BUY NFT (${nftPrice} WOWS)` +\n            (inputVal > 0\n              ? ` & STAKE ${inputVal.toFixed(2)} ${investCurrency}`\n              : ''),\n          e: true,\n        }\n    : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n  const hideModal = () => showModal(false);\n\n  return (\n    <>\n      <div\n        id=\"cfolioInvest-control-nav\"\n        className=\"tk-vincente-lightbold font-22\"\n      >\n        {renderSpan(0, spanText)}\n        {cfolioItem && renderSpan(1, 'UNSTAKE')}\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <span className=\"d-block my-1 font-14\">\n          {tabOption === 0 ? ' MY WALLET: ' : ' MY NFT: '}\n          {curMaxAmount.toFixed(2)} {investCurrency}\n        </span>\n        <span\n          className=\"d-block my-1 font-14 c-pointer\"\n          onClick={() => showModal(true)}\n        >\n          <u>MANAGE APPROVAL</u>\n        </span>\n      </div>\n      <AssetInput\n        currency={investCurrency}\n        minAmount={0}\n        maxAmount={curMaxAmount}\n        defaultValue={\n          isNaN(inputVal) || inputVal === 0 ? '' : inputVal.toString()\n        }\n        cb={(n) => setInputVal(n)}\n      />\n      <span className=\"d-block left mt-1 font-14\">\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={\n            'https://app.uniswap.org/#/add/v2/ETH/' +\n            StoreClasses.store._getTokenContractAddress()\n          }\n        >\n          <u>GET UNI-V2 WOWS/ETH LP TOKENS HERE</u>\n        </a>\n      </span>\n\n      <button\n        className={'wolves-btn white-border mt-2'}\n        onClick={handleBuy}\n        disabled={!buttonText.e}\n      >\n        {buttonText.l}\n      </button>\n      {modal && <Approval show={true} hideCB={hideModal} />}\n    </>\n  );\n}\n\nexport default withTranslation()(StakeLP);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './CFolioInvest.css';\n\nimport { ethers } from 'ethers';\nimport React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\n//import CoverLogo from '../../assets/COVER_LOGO_SMALL.png';\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport { ASSETS_STATE } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEMS } from '../types/cards';\nimport Stable from './Stable/Stable';\nimport StakeLP from './StakeLP/StakeLP';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype CFI_RENDER = {\n  cfolioItem?: SFTCHILD;\n  index: number;\n};\n\ntype STATE = {\n  cfiRender: CFI_RENDER[];\n  currentImage: number;\n  modalOpen: boolean;\n};\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\n// CFolio Investment\n\nclass CFolioInvest extends React.Component<PROPS, STATE> {\n  receiverImages: IMAGE[] = [];\n  cards?: CARDS;\n  cfolioItems?: CFOLIO_ITEMS;\n  sliderInterface?: IMAGE_SLIDER_INTERFACE;\n  slideIndex = 0;\n  displayType = '';\n  toolTippLink = '';\n  tokenPrice = 0;\n  continueBuy: (() => void) | undefined;\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      cfiRender: [],\n      currentImage: 0,\n      modalOpen: false,\n    };\n    this._onAssetsState = this._onAssetsState.bind(this);\n    this.sliderCB = this.sliderCB.bind(this);\n  }\n\n  setCurrentSlide(val: number) {\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n    const baseTokenId = this.receiverImages[val].tokenId?.toHexString();\n    if (baseTokenId) {\n      query.set('baseTokenId', baseTokenId);\n    } else {\n      this.slideIndex = 0;\n      query.delete('baseTokenId');\n      this._updateCFolioItems();\n    }\n    history.replace('?' + query.toString());\n  }\n\n  setCurrentImage(val: number) {\n    const { cfiRender } = this.state;\n    const { history } = this.props;\n    if (cfiRender[val].cfolioItem) {\n      history.push(\n        `?type=${this.displayType}&tokenId=${cfiRender[\n          val\n        ].cfolioItem?.tokenId.toHexString()}`\n      );\n    } else {\n      history.push(`?type=${this.displayType}&item=${cfiRender[val].index}`);\n    }\n  }\n\n  componentDidUpdate() {\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n    const newDisplayType = query.get('type') || 'lpInvestment';\n\n    if (newDisplayType !== this.displayType) {\n      this.displayType = newDisplayType;\n      this.slideIndex = 0;\n      this.sliderInterface?.go(0);\n      this.toolTippLink = '?type=' + this.displayType;\n      this.setState({ currentImage: 0 });\n      this._updateImages();\n      this._updateRewards();\n    }\n\n    if (query.get('baseTokenId')) {\n      const newBaseTokenId = ethers.BigNumber.from(query.get('baseTokenId'));\n      const index = this.receiverImages.findIndex(\n        (elem) => elem.tokenId && elem.tokenId.eq(newBaseTokenId)\n      );\n      if (index >= 0 && index !== this.slideIndex) {\n        this.slideIndex = index;\n        this.sliderInterface?.go(index);\n        this._updateCFolioItems();\n        return;\n      }\n    }\n\n    let index: number | undefined;\n    if (query.get('tokenId')) {\n      const newTokenId = ethers.BigNumber.from(query.get('tokenId'));\n      index = this.state.cfiRender.findIndex(\n        (elem) => elem.cfolioItem && elem.cfolioItem.tokenId.eq(newTokenId)\n      );\n    } else if (query.get('item')) {\n      const item = parseInt(query.get('item') || '-1');\n      index = this.state.cfiRender.findIndex(\n        (elem) => !elem.cfolioItem && elem.index === item\n      );\n    }\n\n    if (index !== undefined) {\n      if (index >= 0) {\n        if (index !== this.state.currentImage) {\n          this.setState({ currentImage: index });\n        }\n      } else if (this.receiverImages.length > 0) {\n        query.delete('tokenId');\n        query.delete('item');\n        history.replace('?' + query.toString());\n        this.setState({ currentImage: 0 });\n        return;\n      }\n    }\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this._onAssetsState);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this._onAssetsState);\n  }\n\n  _onAssetsState(result: AssetStateresult) {\n    if (['loaded', 'cards', 'tokens'].includes(result.status)) {\n      this._updateImages();\n    } else if (result.status === 'cfolio_amount') {\n      this.setState({ currentImage: this.state.currentImage });\n    } else if (result.status === 'rewards') {\n      this._updateRewards();\n      this.setState({ currentImage: this.state.currentImage });\n    }\n  }\n\n  _updateRewards() {\n    const rewards = StoreClasses.store.getAssets().rewardInfo;\n    const rewardMain = this.displayType === 'lpInvestment' ? 0 : 1;\n\n    this.tokenPrice = rewards[rewardMain].slotInfo[0]\n      ? rewards[rewardMain].slotInfo[0].priceToken\n      : 0;\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    const cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const newImages: IMAGE[] = [];\n    const allowedLevel =\n      this.displayType === 'lpInvestment' ? 0xff000000f0 : 0xff0000000f;\n\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (\n        sft.isStockCard &&\n        sft.status === SFTS.UNLOCKED &&\n        (allowedLevel & (1 << cards.cards[sft.levelId].chainRef)) !== 0\n      ) {\n        const url =\n          cards.cards[sft.levelId].cards[sft.cardId].url\n            .replace('{res}', '300')\n            .replace('.mp4', '.mp4.jpg') || '';\n        newImages.push({\n          url,\n          tokenId: sft.tokenId,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      } else if (sft.isWallet) {\n        newImages.push({\n          url: WalletLogo,\n          cfolioItems: this._cfolioItemsForSlider(sft),\n          sft,\n        });\n      }\n    });\n\n    this.receiverImages = newImages;\n    this.cards = cards;\n    this._updateCFolioItems();\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled:\n          (sft.isWallet && cfi.status > 0) ||\n          cfolioItems[cfi.levelId].type !== this.displayType,\n      });\n    });\n    return result;\n  }\n\n  _updateCFolioItems() {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const cfiRender: CFI_RENDER[] = [];\n\n    if (cfolioItems.length > 0) {\n      this.cfolioItems = cfolioItems.filter(\n        (elem) => elem.type === this.displayType\n      )[0];\n\n      if (this.cfolioItems) {\n        // Get all cFolioItems from selected card.\n        if (\n          this.slideIndex >= 0 &&\n          this.slideIndex < this.receiverImages.length\n        ) {\n          const isWallet = this.receiverImages[this.slideIndex].sft.isWallet;\n          this.receiverImages[this.slideIndex].sft.cfolioItems.forEach(\n            (cfolioItem) => {\n              if (\n                cfolioItems[cfolioItem.levelId].type === this.displayType &&\n                (!isWallet || cfolioItem.status === 0)\n              )\n                cfiRender.push({ cfolioItem, index: cfolioItem.cardId });\n            }\n          );\n        }\n        // Get all New cards\n        cfiRender.push(\n          ...this.cfolioItems.cards.map((_, index) => {\n            return { index };\n          })\n        );\n      }\n    }\n    this.setState({ cfiRender });\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterface = iface;\n  }\n\n  sliderCB(_: string | undefined, index: number) {\n    if (index !== this.slideIndex) {\n      this.setCurrentSlide(index);\n    }\n  }\n\n  beforeBuyCallback = (cb: () => void) => {\n    const { cfiRender, currentImage, modalOpen } = this.state;\n    if (\n      !modalOpen &&\n      cfiRender.length > 1 &&\n      this.slideIndex === 0 &&\n      currentImage < cfiRender.length\n    ) {\n      const currentRender = cfiRender[currentImage];\n      if (!currentRender.cfolioItem) {\n        this.continueBuy = cb;\n        this.setState({ modalOpen: true });\n        return false;\n      } else {\n        return true;\n      }\n    } else return true;\n  };\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const { cfiRender, modalOpen } = this.state;\n\n    const handleImageChange = (change: number) => {\n      if (cfiRender.length > 1) {\n        if (this.state.currentImage + change < 0) {\n          return this.setCurrentImage(cfiRender.length - 1);\n        }\n\n        if (this.state.currentImage + change >= cfiRender.length) {\n          return this.setCurrentImage(0);\n        }\n\n        return this.setCurrentImage(this.state.currentImage + change);\n      }\n    };\n\n    const renderItem =\n      this.state.currentImage < cfiRender.length &&\n      cfiRender[this.state.currentImage];\n    const renderCFolioItem = renderItem && renderItem.cfolioItem;\n    const cfolioItemCard =\n      this.cfolioItems &&\n      renderItem &&\n      this.cfolioItems.cards[renderItem.index];\n    const scroll = cfiRender.length > 1;\n\n    const controlAttr = {\n      nftPrice: cfolioItemCard ? cfolioItemCard.price : 0,\n      nftType: cfolioItemCard ? cfolioItemCard.chainRef : 0,\n      investCurrency: this.cfolioItems?.token ?? '',\n      cfolioItem: renderCFolioItem || undefined,\n      sft:\n        this.slideIndex < this.receiverImages.length\n          ? this.receiverImages[this.slideIndex].sft\n          : undefined,\n      beforeBuy: this.beforeBuyCallback,\n    };\n\n    const hideCB = () => {\n      this.setState({ modalOpen: false });\n    };\n\n    const continueBuy = () => {\n      this.setState({ modalOpen: false });\n      if (this.continueBuy) this.continueBuy();\n    };\n\n    let investment = 0,\n      investmentUSD = 0;\n    if (renderCFolioItem) {\n      investment = renderCFolioItem.assets[renderCFolioItem.assets.length - 1];\n      investmentUSD = investment * this.tokenPrice;\n    }\n\n    return (\n      <>\n        <>\n          <div\n            className={\n              'flex-column justify-content-center bg-flat2 text-white text-center '\n            }\n          >\n            {/* Title & heading */}\n            <div>\n              <h2 className=\"mt-4 tk-vincente-lightbold font-28 single-line\">\n                {this.cfolioItems?.shortDescription}\n              </h2>\n              <h3 className=\"tk-grotesk-lightbold font-14\">\n                PICK YOUR HIGHEST LEVEL C-FOLIO TO INVEST WITH\n              </h3>\n            </div>\n\n            {/* Card slider */}\n            <div\n              className={\n                'd-flex justify-content-center bg-transparent-orange mb-3 '\n              }\n            >\n              <div className=\"vw-90-safe py-3  border_thin_t border_thin_b p_relative center_triangle_up center_triangle_down min-height-190\">\n                <button\n                  onClick={() => this.sliderInterface?.prev()}\n                  className={'slide__arrow slide__arrow--left slide__arrows'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  onSlideChanged={this.sliderCB}\n                  slideWidth={150}\n                  slides={this.receiverImages}\n                  startSlideId={this.slideIndex}\n                  toolTippLink={this.toolTippLink}\n                />\n                <button\n                  onClick={() => this.sliderInterface?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            <div\n              id=\"cfolioInvest-nav\"\n              className=\"tk-vincente-lightbold font-20 single-line\"\n            >\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                }`}\n                onClick={() => handleImageChange(-1)}\n              >\n                &lt;{t('page.previousCard')}\n              </span>\n\n              <Link\n                to={`/cfolio-sfts?type=${this.displayType}`}\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line c-pointer `}\n              >\n                BACK TO I-NFTs\n              </Link>\n\n              <span\n                className={`link _btn _btn_effect tk-vincente-lightbold font-24 single-line ${\n                  scroll ? 'c-pointer' : 'disabled-link'\n                } `}\n                onClick={() => handleImageChange(1)}\n              >\n                {t('page.nextCard')}&gt;\n              </span>\n            </div>\n\n            {/* Content */}\n            <div\n              className={\n                'cfolioInvest-container wolves-header center-container my-3'\n              }\n            >\n              <div className=\"left d-flex flex-column align-items-center justify-content-even\">\n                {cfolioItemCard && (\n                  <img\n                    className=\"card-visual\"\n                    src={cfolioItemCard.url.replace('{res}', '500')}\n                    alt=\"\"\n                    style={{ width: '100%' }}\n                  />\n                )}\n              </div>\n\n              <div className={'right t-left'}>\n                <div>\n                  <h1\n                    className={\n                      'tk-vincente no-margin' +\n                      (renderCFolioItem ? ' wolves-text-shaddow' : '')\n                    }\n                  >\n                    {' '}\n                    {cfolioItemCard ? cfolioItemCard.name : 'NFT'}{' '}\n                    {renderCFolioItem ? ' - MY NFT' : ' - NEW NFT'}\n                  </h1>\n                  {cfolioItemCard && (\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}: {cfolioItemCard.motto}\n                      </span>\n                    </h3>\n                  )}\n                  <div\n                    className={'tk-grotesk-lightbold font-16 line-break-enable'}\n                  >\n                    <h3 className=\"tk-vincente\">\n                      {renderCFolioItem ? (\n                        <>\n                          TOKEN ID:{' '}\n                          {renderCFolioItem.tokenId.mask(128).toHexString()}\n                        </>\n                      ) : (\n                        cfolioItemCard && (\n                          <>\n                            PRICE: {cfolioItemCard.price.toFixed(2)} WOWS\n                            <br />\n                            AVAILABLE:{' '}\n                            {cfolioItemCard.maxMintable - cfolioItemCard.minted}\n                            /{cfolioItemCard.maxMintable}\n                          </>\n                        )\n                      )}\n                    </h3>\n                    <p>{cfolioItemCard && cfolioItemCard.description}</p>\n                    <p>{this.cfolioItems?.description}</p>\n                  </div>\n                </div>\n                <div\n                  id=\"cfolioInvest-control\"\n                  className=\"bg-blue-transparent-light tk-grotesk-lightbold\"\n                >\n                  {renderCFolioItem && (\n                    <h3 className=\"tk-vincente\">\n                      MY INVESTMENT: {investment.toFixed(2)}\n                      {' ' + controlAttr.investCurrency + ' '}(\n                      {investmentUSD.toFixed(2)} USD)\n                    </h3>\n                  )}\n                  {this.displayType === 'lpInvestment' ? (\n                    <StakeLP {...controlAttr} />\n                  ) : (\n                    <Stable {...controlAttr} />\n                  )}\n                </div>\n                {/*<div className=\"d-flex p_relative mt-1\">\n                  <img id=\"cover-image\" src={CoverLogo} alt=\"COVER\" />\n                  <span id=\"cover-inner\">\n                    <a\n                      className=\"tk-grotesk-lightbold\"\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      href=\"https://wolvesofwallstreet.finance\"\n                    >\n                      <u>GET COVER INSURANCE FOR YOUR INVESTMENT</u>\n                    </a>\n                  </span>\n                  </div>*/}\n              </div>\n            </div>\n          </div>\n          {modalOpen && (\n            <Modal\n              show={true}\n              backdrop=\"static\"\n              onHide={hideCB}\n              animation={false}\n            >\n              <Modal.Body>\n                Your current target for the new I-NFT is \"My Wallet\". In order\n                to receive WOWS rewards, the new I-NFT has to be in one of your\n                CFolios.\n                <br />\n                If you want to buy the new I-NFT into one of your CFolios,\n                CANCEL this message and select a CFolio on top of the page.\n              </Modal.Body>\n              <Modal.Footer>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={continueBuy}\n                >\n                  CONTINUE\n                </button>\n                <button\n                  className={\n                    'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n                  }\n                  onClick={hideCB}\n                >\n                  CANCEL\n                </button>\n              </Modal.Footer>\n            </Modal>\n          )}\n        </>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioInvest);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nexport type CARD = {\n  id: string;\n  chainRef: number;\n  minted: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: 'image' | 'movie';\n  url: string;\n};\n\nexport type CARD_LEVEL = {\n  levelId: number;\n  chainRef: number;\n  type: string;\n  quantity: number;\n  price: number;\n  autoUpgrade: string;\n  profitReward: number;\n  upgradeReward: number;\n  header: string;\n  cards: CARD[];\n};\n\nexport type CARDS = {\n  levelNames: string[];\n  cards: CARD_LEVEL[];\n};\n\nexport type CFOLIO_ITEM = {\n  id: string;\n  chainRef: number;\n  price: number;\n  minted: number;\n  maxMintable: number;\n  name: string;\n  motto: string;\n  description: string;\n  type: string;\n  url: string;\n};\n\nexport type CFOLIO_ITEMS = {\n  type: string;\n  token: string;\n  title: string;\n  shortDescription: string;\n  description: string;\n  constraints?: 'wolves' | 'bois';\n  cards: CFOLIO_ITEM[];\n};\n\nexport const INITIAL_CFOLIO_ITEMS: CFOLIO_ITEMS = {\n  type: '',\n  token: '',\n  title: '',\n  shortDescription: '',\n  description: '',\n  cards: [],\n};\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './CFolioItemSfts.css';\n\nimport { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport { ASSETS_STATE } from '../../stores/constants';\nimport { AssetStateresult, StoreClasses } from '../../stores/store';\nimport { INITIAL_CFOLIO_ITEMS } from '../types/cards';\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  currentType: string;\n};\n\nconst INITIAL_STATE: STATE = {\n  currentType: '',\n};\n\nclass CFolioItemSfts extends Component<PROPS, STATE> {\n  target = '';\n  constructor(props: PROPS) {\n    super(props);\n    this.state = INITIAL_STATE;\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateContent();\n  }\n\n  componentDidUpdate() {\n    this._updateContent();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'cards'].includes(status.status))\n      this.setState({ currentType: this.state.currentType });\n  }\n\n  _updateContent() {\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    const filter = query.get('type') || '';\n    if (filter !== this.state.currentType) {\n      this.target = 'cfolio-invest?type=' + filter;\n      this.setState({ currentType: filter });\n    }\n  }\n\n  render(): JSX.Element {\n    const { t } = this.props;\n    const storeItems = StoreClasses.store\n      .getAssets()\n      .cfolioItems.filter((elem) => elem.type === this.state.currentType);\n    const items = storeItems.length > 0 ? storeItems[0] : INITIAL_CFOLIO_ITEMS;\n    const cardRender =\n      items.cards.length &&\n      items.cards.map((card, index) => {\n        return (\n          <div className=\"cfisft-card\" key={this.state.currentType + index}>\n            <Link to={`${this.target}&item=${index}`}>\n              <img\n                className=\"card-media\"\n                src={card.url.replace('{res}', '500')}\n                alt={card.name}\n              />\n            </Link>\n            <div className=\"wrapper\">\n              <span className=\"tk-vincente-lightbold font-32 m-0 mt-2 line-h\">\n                {card.name}\n              </span>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.motto')}: {card.motto}\n              </span>\n              <hr className=\"wolves\" />\n              {\n                <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                  {t('page.available')}: {card.maxMintable - card.minted}/\n                  {card.maxMintable}\n                </span>\n              }\n              <span className=\"tk-grotesk-lightbold font-14 m-0 line-h ellipsis\">\n                {t('page.price')}: {card.price.toFixed(2)} WOWS\n              </span>\n            </div>\n          </div>\n        );\n      });\n\n    return (\n      <>\n        <div id=\"top\" className={'wolves-container wolves-header bg-wolves'}>\n          {/* Hero heading */}\n          <div className=\"mb-3\">\n            <h2 className=\"tk-vincente-lightbold m-0\">{items.title}</h2>\n            <h4 className=\"tk-grotesk-lightbold m-0\">\n              {items.shortDescription}\n            </h4>\n          </div>\n\n          {/* Line */}\n          <span className=\"line-container cfisft-line-w-80\">\n            <span id=\"left\" className=\"dot\" />\n            <span className=\"line\" />\n            <span id=\"right\" className=\"dot\" />\n          </span>\n\n          {/* Section title */}\n          <span className=\"tk-vincente-lightbold\">\n            <span className=\"font-24\">\n              CORE LP NFT\n              <div id=\"triangle-down\" />\n            </span>\n          </span>\n\n          {/* Cards listing */}\n          <div className=\"cfisft-card-container mt-1\">{cardRender}</div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioItemSfts);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\nimport '../theme/checkbox/wolve_checkbox.css';\nimport './CFolioManager.css';\n\nimport React from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport WalletLogo from '../../assets/openwallet_low.png';\nimport {\n  ASSETS_STATE,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  PayloadContentCFolioItemLT,\n  SFT,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport {\n  IMAGE_SLIDER_CFOLIO,\n  IMAGE_SLIDER_INTERFACE,\n  IMAGE_SLIDER_SLIDE,\n  ImageSlider,\n} from '../controls/image_slider';\nimport { CARDS, CFOLIO_ITEM, CFOLIO_ITEMS } from '../types/cards';\n\ninterface IMAGE extends IMAGE_SLIDER_SLIDE {\n  sft: SFT;\n}\n\ninterface SUBIMAGE extends IMAGE_SLIDER_SLIDE {\n  constraints?: 'wolves' | 'bois';\n  cfolioItem: CFOLIO_ITEM;\n}\n\ntype PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype STATE = {\n  txPending: boolean;\n  sliderImagesTop: IMAGE[];\n  sliderImagesMiddle: SUBIMAGE[];\n  sliderImagesBottom: IMAGE[];\n  checkedMiddle: number[];\n};\n\nclass CFolioManager extends React.Component<PROPS, STATE> {\n  cards?: CARDS;\n  cfolioItemCards: CFOLIO_ITEMS[] = [];\n  sliderInterfaces: { [id: string]: IMAGE_SLIDER_INTERFACE } = {};\n  sliderIndex = [0, 0, 0];\n  sliderImagesMiddleAll: SUBIMAGE[] = [];\n\n  constructor(props: PROPS) {\n    super(props);\n    this.state = {\n      txPending: false,\n      sliderImagesTop: [],\n      sliderImagesMiddle: [],\n      sliderImagesBottom: [],\n      checkedMiddle: [],\n    };\n\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onTransfer = this.onTransfer.bind(this);\n    this.setSliderIndex = this.setSliderIndex.bind(this);\n  }\n\n  componentDidMount() {\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    this._updateImages();\n  }\n\n  componentWillUnmount() {\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransfer);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onAssetsState(status: AssetStateresult) {\n    if (['loaded', 'tokens'].includes(status.status)) this._updateImages();\n  }\n\n  onTransfer(status: StatusResult) {\n    if (['error', 'success'].includes(status.status))\n      this.setState({ txPending: false });\n  }\n\n  _updateImages() {\n    const assets = StoreClasses.store.getAssets();\n    this.cards = assets.cards;\n    const tokenIds = assets.userSFT;\n\n    const pred = (sft: SFT) => sft.cfolioItems.length > 0;\n    const newImages = this._getSftImages(tokenIds, pred);\n\n    this.cfolioItemCards = assets.cfolioItems;\n    this.setState({ sliderImagesTop: newImages });\n    this.setState({ checkedMiddle: [] });\n\n    this._createSliderImages(newImages);\n  }\n\n  _getSftImages(\n    tokenIds: SFT[],\n    pred: (s: SFT) => boolean,\n    pred2?: (l: number, i: number) => boolean\n  ): IMAGE[] {\n    const result: IMAGE[] = [];\n    tokenIds.forEach((sft, tokenIdIdx) => {\n      if (pred(sft)) {\n        if (sft.isStockCard && !sft.status) {\n          if (!pred2 || pred2(sft.levelId, sft.cardId)) {\n            const url =\n              this.cards?.cards[sft.levelId].cards[sft.cardId].url\n                .replace('{res}', '300')\n                .replace('.mp4', '.mp4.jpg') || '';\n            result.push({\n              url,\n              cfolioItems: this._cfolioItemsForSlider(sft),\n              tokenId: sft.tokenId,\n              sft,\n            });\n          }\n        } else if (sft.isWallet) {\n          result.push({\n            url: WalletLogo,\n            cfolioItems: this._cfolioItemsForSlider(sft),\n            sft,\n          });\n        }\n      }\n    });\n    return result;\n  }\n\n  _cfolioItemsForSlider(sft: SFT): IMAGE_SLIDER_CFOLIO[] {\n    const cfolioItems = StoreClasses.store.getAssets().cfolioItems;\n    const result: IMAGE_SLIDER_CFOLIO[] = [];\n    sft.cfolioItems.forEach((cfi) => {\n      result.push({\n        name: cfolioItems[cfi.levelId].cards[cfi.cardId].name,\n        tokenId: cfi.tokenId,\n        disabled: false,\n      });\n    });\n    return result;\n  }\n\n  _createSliderImages(topImages: IMAGE[]) {\n    this.sliderImagesMiddleAll = [];\n    const bottomImages: IMAGE[] = [];\n    const constraints: { [x: string]: boolean } = {};\n\n    if (this.sliderIndex[0] < topImages.length) {\n      const cfolioItems = topImages[this.sliderIndex[0]].sft.cfolioItems;\n      cfolioItems.forEach((cfi) => {\n        let cfiCard: CFOLIO_ITEM | undefined;\n        const cat = this.cfolioItemCards.find(\n          (category) =>\n            (cfiCard = category.cards.find(\n              (card) => card.chainRef === cfi.type\n            ))\n        );\n        if (cfiCard) {\n          this.sliderImagesMiddleAll.push({\n            url: cfiCard?.url.replace('{res}', '300'),\n            locked: cfi.status > 0,\n            constraints: cat?.constraints,\n            cfolioItem: cfiCard,\n            tokenId: cfi.tokenId,\n            cfolioItems: [],\n          });\n          if (cat?.constraints) {\n            constraints[cat.constraints] = true;\n          } else {\n            constraints['wolves'] = true;\n            constraints['bois'] = true;\n          }\n        }\n      });\n\n      // Create bottom images, only contraint matching\n      // and never insert current selected top element\n      const pred = (sft: SFT) =>\n        sft.tokenId !== topImages[this.sliderIndex[0]].sft.tokenId;\n      const pred2 = (l: number, i: number) =>\n        constraints[this.cards?.cards[l].type || ''];\n      bottomImages.push(\n        ...this._getSftImages(\n          StoreClasses.store.getAssets().userSFT,\n          pred,\n          pred2\n        )\n      );\n    } else if (topImages.length > 0) {\n      return;\n    }\n    this.setState({ sliderImagesBottom: bottomImages });\n    this._filterSliderImagesMiddle(topImages, bottomImages, false);\n  }\n\n  _filterSliderImagesMiddle(\n    topImages: IMAGE[],\n    bottomImages: IMAGE[],\n    onlyIfChanged: boolean\n  ) {\n    let sliderImagesMiddle: SUBIMAGE[] = [];\n    if (\n      this.cards &&\n      this.sliderIndex[2] < bottomImages.length &&\n      this.sliderIndex[0] < topImages.length\n    ) {\n      if (\n        bottomImages[this.sliderIndex[2]].sft.isWallet ||\n        !topImages[this.sliderIndex[0]].sft.isWallet\n      ) {\n        sliderImagesMiddle = this.sliderImagesMiddleAll;\n      } else {\n        const filter =\n          this.cards.cards[bottomImages[this.sliderIndex[2]].sft.levelId].type;\n        sliderImagesMiddle = this.sliderImagesMiddleAll.filter(\n          (elem) => !elem.constraints || elem.constraints === filter\n        );\n      }\n    }\n    if (\n      !onlyIfChanged ||\n      JSON.stringify(sliderImagesMiddle) !==\n        JSON.stringify(this.state.sliderImagesMiddle)\n    ) {\n      this.setState({ checkedMiddle: [] });\n      this.setState({ sliderImagesMiddle });\n    }\n  }\n\n  setSliderIndex(id: string | undefined, index: number, checked?: number[]) {\n    const pos = parseInt(id ?? '0');\n    this.sliderIndex[pos] = index;\n    if (pos === 0) this._createSliderImages(this.state.sliderImagesTop);\n    else if (pos === 1 && checked && checked !== this.state.checkedMiddle)\n      this.setState({ checkedMiddle: checked });\n    else if (pos === 2) {\n      this._filterSliderImagesMiddle(\n        this.state.sliderImagesTop,\n        this.state.sliderImagesBottom,\n        true\n      );\n    }\n  }\n\n  sliderInit(id: string | undefined, iface: IMAGE_SLIDER_INTERFACE) {\n    this.sliderInterfaces[id || 'default'] = iface;\n  }\n\n  handleBuy() {\n    const request: PayloadContentCFolioItemLT = {\n      src: this.state.sliderImagesTop[this.sliderIndex[0]].sft.tokenId,\n      dst: this.state.sliderImagesBottom[this.sliderIndex[2]].sft.tokenId,\n      lockedCFIs: [],\n      transferCFIs: [],\n    };\n    this.state.checkedMiddle.forEach((n) => {\n      if (this.state.sliderImagesMiddle[n].locked)\n        request.lockedCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n      else\n        request.transferCFIs.push(\n          this.state.sliderImagesMiddle[n].tokenId ?? BIGNUMBER_MAX\n        );\n    });\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch({\n      type: CFOLIO_ITEM_UNLOCK_TRANSFER,\n      content: request,\n    });\n  }\n\n  render() {\n    let lockedCount = 0;\n    this.state.checkedMiddle.forEach(\n      (n) => (lockedCount += this.state.sliderImagesMiddle[n].locked ? 1 : 0)\n    );\n    const majority = this.state.checkedMiddle.length > 1 ? 's' : '';\n    const buttonState = this.state.txPending\n      ? { l: 'TRANSACTION PENDING', e: false }\n      : this.state.sliderImagesTop.length > 0\n      ? this.state.checkedMiddle.length > 0\n        ? lockedCount > 0\n          ? {\n              l: `UNLOCK (${lockedCount}) AND TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n          : {\n              l: `TRANSFER (${this.state.checkedMiddle.length}) I-NFT${majority}`,\n              e: true,\n            }\n        : { l: 'NOTHING SELECTED', e: false }\n      : { l: 'ACCOUNT NOT INITIALIZED', e: false };\n\n    return (\n      <>\n        <div className={'cfm-container bg-wolves'}>\n          {/* Title & heading */}\n          <div>\n            <h2 className=\"tk-vincente-lightbold font-28 mt-1 single-line\">\n              {'WELCOME TO YOUR C-FOLIO TRANSFER MANAGER'}\n            </h2>\n            <h3 className=\"tk-grotesk-lightbold font-14\">\n              {'MANAGE YOUR ASSETS WITH MULTI TRANSACTIONS IN ONE.'}\n            </h3>\n          </div>\n\n          <div\n            className={\n              'd-flex flex-column bg-blue-transparent wolves-orange-border font-16 my-2 pt-2'\n            }\n          >\n            {/* Card slider-1 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center-container center_triangle_down rotate-180'\n              }\n            >\n              <div className=\"d-flex\">\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"0\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesTop}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[0]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* Card slider-2 */}\n            <div className={'w-90-safe center-container pt-2'}>\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"1\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={135}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesMiddle}\n                  checkbox={true}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[1]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* center btn, arrow */}\n            <div\n              className={\n                'center-container d-flex flex-column justify-content-center align-items-center'\n              }\n            >\n              <button\n                disabled={!buttonState.e}\n                className={'wolves-btn white-border w280px font-14'}\n                onClick={this.handleBuy.bind(this)}\n              >\n                {buttonState.l}\n              </button>\n              <div className={'arrow_down mt-1'} />\n            </div>\n\n            {/* H-line */}\n            <div className={'cfm-h-line'} />\n\n            {/* Card slider-3 */}\n            <div\n              className={\n                'w-90-safe pb-3 p_relative center_triangle_down center-container'\n              }\n            >\n              <div className=\"d-flex p_relative\">\n                <button\n                  onClick={() => this.sliderInterfaces[2].prev()}\n                  className={'slide__arrow slide__arrow--left'}\n                  style={{\n                    ['--left' as string]: '-30px',\n                  }}\n                >\n                  {'<'}\n                </button>\n                <ImageSlider\n                  sliderId=\"2\"\n                  initCallback={this.sliderInit.bind(this)}\n                  slideWidth={150}\n                  onSlideChanged={this.setSliderIndex}\n                  slides={this.state.sliderImagesBottom}\n                />\n                <button\n                  onClick={() => this.sliderInterfaces[2]?.next()}\n                  className={'slide__arrow slide__arrow--right slide__arrows'}\n                  style={{\n                    ['--right' as string]: '-30px',\n                  }}\n                >\n                  {'>'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(CFolioManager);\n","export default __webpack_public_path__ + \"static/media/icons_discord.e3adf3ed.svg\";","export default __webpack_public_path__ + \"static/media/icons_etherscan.ece3f2bb.svg\";","export default __webpack_public_path__ + \"static/media/icons_github.07a75d5f.svg\";","export default __webpack_public_path__ + \"static/media/icons_TG.e3e58f9f.svg\";","export default __webpack_public_path__ + \"static/media/icons_Twitter.b8aba8a1.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport React, { Component, ReactNode } from 'react';\n\nimport discord from '../../assets/icons_discord.svg';\nimport etherscan from '../../assets/icons_etherscan.svg';\nimport github from '../../assets/icons_github.svg';\nimport telegram from '../../assets/icons_TG.svg';\nimport twitter from '../../assets/icons_Twitter.svg';\n\nclass Social extends Component {\n  render(): ReactNode {\n    return (\n      <div className=\"social-menu\">\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://twitter.com/WolvesWallst\"\n          >\n            <img src={twitter} alt=\"Twitter\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://etherscan.io/address/0x672EF7E4Fe230B5cA1466C5fDD40588d30FdF90a\"\n          >\n            <img src={etherscan} alt=\"Etherscan\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://github.com/wolvesofwallstreet\"\n          >\n            <img src={github} alt=\"Github\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://discord.gg/CCqZtze8kg\"\n          >\n            <img src={discord} alt=\"Discord\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n        <span>\n          <a\n            className=\"social-menu-btn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://t.me/wolveswallstreet\"\n          >\n            <img src={telegram} alt=\"Telegram\" width=\"24px\" height=\"24px\" />\n          </a>\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Social;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './footer.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport Social from '../social/social';\n\ntype FooterProps = {\n  t: TFunction;\n};\n\ntype FooterState = {\n  showModal: boolean;\n  policyChanged: boolean;\n};\n\nclass Footer extends Component<FooterProps, FooterState> {\n  privacyFile = '';\n  privacyTerms = '';\n\n  constructor(props: FooterProps) {\n    super(props);\n    this.state = { showModal: false, policyChanged: false };\n  }\n\n  loadTerms() {\n    const { t } = this.props;\n    const privacyFile = t('privacyTermsFile');\n\n    if (privacyFile !== this.privacyFile) {\n      import('../../locales/en_US/privacy_policy.json').then((text) => {\n        this.privacyTerms = text.default.policy;\n        this.setState({ policyChanged: !this.state.policyChanged });\n      });\n      this.privacyFile = privacyFile;\n    }\n  }\n\n  render(): ReactNode {\n    const { showModal } = this.state;\n    this.loadTerms();\n\n    return (\n      <div className=\"footer-main\">\n        <p className=\"footer-notes tk-grotesk-lightbold\">\n          BY MAKING USE OF THE WOLVES OF WALL STREET PLATFORM YOU ARE AWARE OF\n          THE RISKS ASSOCIATED WITH TRANSACTIONS OF DIGITAL TOKEN. YOU ARE USING\n          THE PLATFORM AT YOUR OWN RISK.\n          <br />\n          ALL LIABILITY RESIDES WITH THE USER AND THE WOLVES OF WALL STREET\n          SHALL NOT BE LIABLE FOR ANY SUCH RISKS OR ADVERSE OUTCOMES.\n          <br />\n          COPYRIGHT&copy; ALL RIGHTS RESERVED WOLVES OF WALL STREET 2021\n        </p>\n        <div className=\"footer-terms-container\">\n          <Social />\n          <div\n            className=\"footer-notes footer-terms tk-grotesk-lightbold\"\n            onClick={() => this.setState({ showModal: true })}\n          >\n            PRIVACY TERMS & CONDITIONS\n          </div>\n        </div>\n        <Modal\n          show={showModal}\n          onHide={() => this.setState({ showModal: false })}\n          size=\"lg\"\n          animation={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              <h1>Terms & Conditions</h1>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body dangerouslySetInnerHTML={{ __html: this.privacyTerms }} />\n          <Modal.Footer />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Footer);\n","export default __webpack_public_path__ + \"static/media/wolves_sft_logo.4ce0479e.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './header.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { Form, Image, Navbar } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport logo from '../../assets/wolves_sft_logo.svg';\nimport { ASSETS_STATE, CONNECTION_CHANGED } from '../../stores/constants';\nimport {\n  AssetStateresult,\n  CHAINSTATE,\n  ConnectResult,\n  StoreClasses,\n} from '../../stores/store';\n\ninterface HEADER_PROPS {\n  location: Location;\n  t: TFunction;\n}\n\ninterface HEADER_STATE {\n  address: string;\n  networkName: string;\n  wowsPrice?: number;\n  wowsAmount?: number;\n  chainState?: CHAINSTATE;\n}\n\ntype DropDownItem = {\n  id: string;\n  to: string;\n  disabled: boolean;\n};\n\ntype NAVITEM = {\n  id: string;\n  to: string;\n  disabled: boolean;\n  dropdown?: boolean;\n  dropdownItems?: DropDownItem[];\n};\n\nclass Header extends Component<HEADER_PROPS, HEADER_STATE> {\n  store = StoreClasses.store;\n  emitter = StoreClasses.emitter;\n\n  constructor(props: HEADER_PROPS) {\n    super(props);\n    this.state = {\n      address: '',\n      networkName: '',\n      wowsAmount: 0,\n      chainState: CHAINSTATE.UNKNOWN,\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.renderDropDown = this.renderDropDown.bind(this);\n  }\n\n  componentDidMount(): void {\n    this.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    this.emitter.on(ASSETS_STATE, this.onAssetsState);\n  }\n\n  componentWillUnmount(): void {\n    this.emitter.off(ASSETS_STATE, this.onAssetsState);\n    this.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') this.setState(params);\n    const chainState = this.store.getChainState();\n    if (chainState !== this.state.chainState) this.setState({ chainState });\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'rewards') {\n      const wowsPrice = StoreClasses.store.getAssets().rewardInfo[0].priceWOWS;\n      this.setState({\n        wowsPrice: wowsPrice > 0 ? wowsPrice : undefined,\n      });\n    }\n    if (status.status === 'balances') {\n      this.setState({\n        wowsAmount: StoreClasses.store.getAssets().balances['WOWS'].value,\n      });\n    }\n  }\n\n  handleSubmit(event: React.FormEvent<HTMLFormElement>): void {\n    if (this.store.isConnected()) {\n      this.store.disconnect(true, true);\n    } else {\n      this.store.connect();\n    }\n    event.preventDefault();\n  }\n\n  _shortAddress(): string {\n    const { address, chainState, networkName } = this.state;\n    return chainState === CHAINSTATE.INVALID_CHAIN\n      ? 'WRONG NETWORK'\n      : address !== ''\n      ? address.substring(0, 6) +\n        '...' +\n        address.substring(address.length - 4, address.length) +\n        ' (' +\n        networkName +\n        ')'\n      : 'CONNECT WALLET';\n  }\n\n  renderDropDown(title: string, dropdownItems: DropDownItem[]): ReactNode {\n    return (\n      <span className=\"nav-item dropdown mx-0 my-0\" key={Math.random() + title}>\n        <span\n          className=\"nav-link dropdown-toggle text-white navbar-text\"\n          data-bs-toggle=\"dropdown\"\n          aria-expanded=\"false\"\n        >\n          {title}\n        </span>\n        <ul className=\"dropdown-menu bg-blue-transparent-dark translateY_-10\">\n          {dropdownItems.map((item, index) => {\n            const isActiveNav = item.disabled;\n            return (\n              <li key={'navLink' + index}>\n                {isActiveNav && (\n                  <span className=\"dropdown-item active\"> {item.id} </span>\n                )}\n                {!isActiveNav && (\n                  <Link className=\"dropdown-item\" to={item.to}>\n                    {item.id}\n                  </Link>\n                )}\n              </li>\n            );\n          })}\n        </ul>\n      </span>\n    );\n  }\n\n  _getNavItems(): NAVITEM[] {\n    const { location, t } = this.props;\n    const query = new URLSearchParams(location.search);\n    const currentPath = location.pathname + location.search;\n    const type = query.get('type');\n    const levelId = query.get('levelId') || 0;\n    const result =\n      this.state.chainState === CHAINSTATE.SIDE_CHAIN\n        ? [\n            {\n              id: 'WOLF TRADE FLOOR',\n              to: '/wolf_trade_floor-1',\n              disabled: location.pathname === '/wolf_trade_floor',\n              dropdownItems: [\n                {\n                  id: t('header.viewWolvesCf'),\n                  to: '/shop?type=wolves&levelId=' + levelId,\n                  disabled: type === 'wolves',\n                },\n                {\n                  id: t('header.buyStake'),\n                  to: '/cfolio-sfts?type=lpInvestment',\n                  disabled: currentPath.startsWith(\n                    '/cfolio-sfts?type=lpInvestment'\n                  ),\n                },\n                {\n                  id: t('header.stakeInvest'),\n                  to: '/cfolio-invest?type=lpInvestment',\n                  disabled: currentPath.startsWith(\n                    '/cfolio-invest?type=lpInvestment'\n                  ),\n                },\n              ],\n            },\n            {\n              id: 'BOIS BOARDROOMS',\n              to: '/wolf_trade_floor-1',\n              disabled: location.pathname === '/wolf_trade_floor',\n              dropdownItems: [\n                {\n                  id: t('header.viewBoisCf'),\n                  to: '/shop?type=bois&levelId=' + levelId,\n                  disabled: type === 'bois',\n                },\n                {\n                  id: t('header.buyStable'),\n                  to: '/cfolio-sfts?type=stableInvestment',\n                  disabled: currentPath.startsWith(\n                    '/cfolio-sfts?type=stableInvestment'\n                  ),\n                },\n                {\n                  id: t('header.stableInvest'),\n                  to: '/cfolio-invest?type=stableInvestment',\n                  disabled: currentPath.startsWith(\n                    '/cfolio-invest?type=stableInvestment'\n                  ),\n                },\n              ],\n            },\n            {\n              id: t('header.myPack'),\n              to: '/my?type=myPack&levelId=' + levelId,\n              disabled: location.pathname === '/my',\n            },\n            {\n              id: 'C-FOLIO MANAGER',\n              to: '/c_folio_manager',\n              disabled: location.pathname === '/c_folio_manager',\n            },\n          ]\n        : [\n            {\n              id: 'WOLF TRADE FLOOR',\n              to: '/wolf_trade_floor-1',\n              disabled: location.pathname === '/wolf_trade_floor',\n              dropdownItems: [\n                {\n                  id: t('header.wolvesCf'),\n                  to: '/shop?type=wolves&levelId=' + levelId,\n                  disabled: type === 'wolves',\n                },\n              ],\n            },\n            {\n              id: 'BOIS BOARDROOMS',\n              to: '/wolf_trade_floor-1',\n              disabled: location.pathname === '/wolf_trade_floor',\n              dropdownItems: [\n                {\n                  id: t('header.boisCf'),\n                  to: '/shop?type=bois&levelId=' + levelId,\n                  disabled: type === 'bois',\n                },\n              ],\n            },\n            {\n              id: t('header.myPack'),\n              to: '/my?type=myPack&levelId=' + levelId,\n              disabled: location.pathname === '/my',\n            },\n            {\n              id: 'WOWS V1',\n              to: 'https://appv1.wows.finance',\n              disabled: false,\n            },\n          ];\n    return result;\n  }\n\n  render(): ReactNode {\n    const shortAddress = this._shortAddress();\n    const navItems = this._getNavItems();\n    const chainState = this.state.chainState;\n    return (\n      <Navbar bg=\"wolf\" variant=\"dark\" expand=\"md\">\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Brand className=\"navbar-brand mr-auto\" as={Link} to=\"/\">\n          <Image src={logo} width=\"300\" className=\"logo\" />\n        </Navbar.Brand>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          {navItems.map((navItem: NAVITEM, index: number) => {\n            // render Dropdown items\n            if ('dropdownItems' in navItem && navItem.dropdownItems) {\n              return this.renderDropDown(\n                navItem.id,\n                navItem?.dropdownItems as DropDownItem[]\n              );\n            }\n\n            // Active nav item\n            if (navItem.disabled) {\n              return <span key={index}>{navItem.id}</span>;\n            }\n\n            // nav item\n            return navItem.to.startsWith('http') ? (\n              <a key={index} href={navItem.to}>\n                {navItem.id}\n              </a>\n            ) : (\n              <Link key={index} to={navItem.to}>\n                {' '}\n                {navItem.id}\n              </Link>\n            );\n          })}\n        </Navbar.Collapse>\n\n        <div className=\"dp-conn-container\">\n          <div className=\"dp-chain-container\">\n            <span\n              className={`icon ethereum${\n                chainState === CHAINSTATE.MAIN_CHAIN ? ' selected' : ''\n              }`}\n              onClick={() => StoreClasses.store.switchChain('ethereum')}\n            />\n            <span\n              className={`icon polygon${\n                chainState === CHAINSTATE.SIDE_CHAIN ? ' selected' : ''\n              }`}\n              onClick={() => StoreClasses.store.switchChain('polygon')}\n            />\n          </div>\n          <div>\n            <Form onSubmit={this.handleSubmit}>\n              <input\n                className=\"wolves-btn dp-conn-btn\"\n                type=\"submit\"\n                value={shortAddress}\n              />\n            </Form>\n            {this.state.wowsPrice !== undefined && (\n              <span className=\"dp-conn-price\">\n                1 WOWS &asymp; ${this.state.wowsPrice.toFixed(0)}\n              </span>\n            )}\n            <br />\n            {this.state.wowsAmount !== undefined && (\n              <span className=\"dp-conn-price\">\n                My WOWS: {this.state.wowsAmount.toFixed(2)}\n              </span>\n            )}\n          </div>\n        </div>\n      </Navbar>\n    );\n  }\n\n  scrollSection(section: string): void {\n    section = '';\n  }\n}\n\nexport default withTranslation()(Header);\n","export default __webpack_public_path__ + \"static/media/bois_shadow.b0ae95a7.png\";","export default __webpack_public_path__ + \"static/media/wolves_shadow.717f45ae.png\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page1.css';\n\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport BoisLogo from '../../assets/bois_shadow.png';\nimport WolvesLogo from '../../assets/wolves_shadow.png';\nimport { CHAINSTATE, StoreClasses } from '../../stores/store';\n\ntype PAGE1_PROPS = {\n  t: TFunction;\n};\n\nfunction Page1(props: PAGE1_PROPS) {\n  const { t } = props;\n  return (\n    <div className=\"page1-container\">\n      <div className=\"page1-title-box\">\n        {/* <WowsStatus /> */}\n        <div className=\"page1-title-box-text\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.head1')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">{t('page1.head2')}</h3>\n          {StoreClasses.store.getChainState() === CHAINSTATE.MAIN_CHAIN && (\n            <>\n              <a\n                id=\"wows-link\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href={`https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=${StoreClasses.store._getTokenContractAddress()}&use=v2`}\n              >\n                BUY WOWS ON UNISWAP V.2\n              </a>\n              <br />\n              <a\n                id=\"wows-link-migrate\"\n                className=\"wolves-btn tk-grotesk-bold mt-1\"\n                rel=\"noreferrer\"\n                href={'https://appv1.wows.finance'}\n              >\n                <b>VISIT V1 AND MIGRATE MY CFOLIO's</b>\n              </a>\n            </>\n          )}\n        </div>\n      </div>\n      {/************** Left ************/}\n      <div className=\"page1-bg page1-left\">\n        <span className=\"page1-line-v\" />\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.wolves2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <span className=\"page1-line-h\" />\n          <span className=\"page1-dot\" />\n          <Link to=\"/shop?type=wolves\">\n            <img src={WolvesLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.wolves3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n      {/************** Right ************/}\n      <div className=\"page1-bg page1-right\">\n        <div className=\"page1-content-box-top\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois1')}</h2>\n          <h1 className=\"tk-vincente-bold\">{t('page1.bois2')}</h1>\n        </div>\n        <div className=\"page1-img-box\">\n          <Link to=\"/shop?type=bois\">\n            <img src={BoisLogo} width=\"200px\" alt=\"Wolves\" />\n          </Link>\n        </div>\n        <div className=\"page1-content-box-bottom\">\n          <h2 className=\"tk-vincente-bold no-margin\">{t('page1.bois3')}</h2>\n          <h3 className=\"tk-aktiv-grotesk-condensed\">\n            <br />\n            {t('page1.click')}\n          </h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withTranslation()(Page1);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABjCAYAAACPO76VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyMTA2RUNGM0UxODExRUI4NjM2ODVGMEIwREEwNTI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyMTA2RUQwM0UxODExRUI4NjM2ODVGMEIwREEwNTI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjIxMDZFQ0QzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjIxMDZFQ0UzRTE4MTFFQjg2MzY4NUYwQjBEQTA1MjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6zocrdAAAcrklEQVR42uxd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\"","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './cardbox.css';\n\nimport { TFunction } from 'i18next';\nimport { RefObject, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n  BIGNUMBER_MAX,\n  CHAINSTATE,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\n\ntype CARDBOX_PROPS = {\n  sft?: SFT;\n  cfolio?: SFTCHILD;\n  earned: number;\n  t: TFunction;\n  progressRefs?: RefObject<HTMLSpanElement>[];\n};\n\nexport function CardBox(props: CARDBOX_PROPS): JSX.Element {\n  const { cfolio, earned, progressRefs, sft, t } = props;\n  const assets = StoreClasses.store.getAssets();\n  const progressRef: RefObject<HTMLSpanElement> = useRef(null);\n\n  useEffect(() => {\n    progressRefs?.push(progressRef);\n    return () => {\n      progressRefs?.splice(progressRefs.indexOf(progressRef), 1);\n    };\n  }, [progressRefs]);\n\n  let name,\n    motto,\n    levelId,\n    type,\n    tokenId,\n    cardId,\n    cardType,\n    url,\n    quantity,\n    price,\n    minted,\n    prowess,\n    status,\n    investment;\n  if (sft) {\n    const level = assets.cards.cards[sft.levelId];\n    const card = level.cards[sft.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = level.levelId;\n    tokenId = sft.tokenId !== BIGNUMBER_MAX ? sft.tokenId : undefined;\n    type = tokenId ? 'myPack' : level.type;\n    cardId = card.id;\n    cardType = card.type;\n    url = card.url;\n    quantity = level.quantity;\n    minted = card.minted;\n    price = level.price;\n    prowess = sft.rewardRate;\n    status = sft.status;\n  } else if (cfolio) {\n    const level = assets.cfolioItems[cfolio.levelId];\n    const card = level.cards[cfolio.cardId];\n    name = card.name;\n    motto = card.motto;\n    levelId = 4;\n    type = 'myPack';\n    tokenId = cfolio.tokenId;\n    cardId = cfolio.cardId;\n    cardType = 'image';\n    url = card.url;\n    quantity = card.maxMintable;\n    minted = card.minted;\n    price = card.price;\n    prowess = 0;\n    status = cfolio.status;\n    investment =\n      cfolio.assets[0].toFixed(6) +\n      ' ' +\n      assets.cfolioItems[cfolio.levelId].token;\n  } else return <></>;\n\n  const renderCFolioItems = () => {\n    if (sft && sft.cfolioItems.length > 0) {\n      const topOffset =\n        sft.cfolioItems.length > 1\n          ? Math.min((314 - 82) / (sft.cfolioItems.length - 1), 86)\n          : 0;\n      return (\n        <>\n          {sft.cfolioItems.map((sftc, index) => {\n            const cfi = assets.cfolioItems[sftc.levelId].cards[sftc.cardId];\n            return (\n              <img\n                key={'cfi' + index}\n                id=\"cfi-image\"\n                style={{ top: 6 + index * topOffset + 'px' }}\n                height=\"80px\"\n                alt={cfi.name}\n                src={cfi.url.replace('{res}', '300')}\n              />\n            );\n          })}\n        </>\n      );\n    }\n  };\n\n  const isSidechain =\n    StoreClasses.store.getChainState() === CHAINSTATE.SIDE_CHAIN;\n  const isMainchain =\n    StoreClasses.store.getChainState() === CHAINSTATE.MAIN_CHAIN;\n\n  return (\n    <div className=\"card-container\">\n      <span className=\"tk-vincente-lightbold font-32\">{name}</span>\n      <Link\n        className=\"p_relative\"\n        to={\n          '/detail?type=' +\n          type +\n          '&levelId=' +\n          levelId +\n          '&cardId=' +\n          cardId +\n          (tokenId !== undefined ? '&tokenId=' + tokenId.toHexString() : '')\n        }\n      >\n        {cardType === 'movie' ? (\n          <video\n            disableRemotePlayback={true}\n            className=\"card-visual\"\n            autoPlay={true}\n            loop={true}\n            src={url?.replace('{res}', '300')}\n            poster={url?.replace('{res}', '300') + '.jpg'}\n            playsInline\n          />\n        ) : (\n          <img\n            className=\"card-visual\"\n            src={url?.replace('{res}', '300')}\n            alt={name}\n          />\n        )}\n        {status > 0 && (\n          <div className={status > SFTS.LOCKED ? 'bridged' : 'locked'} />\n        )}\n        {renderCFolioItems()}\n      </Link>\n      <div className=\"wrapper\">\n        <span id=\"triangle-up\" />\n        {tokenId !== undefined && (\n          <span className=\"tk-vincente-lightbold font-28\">\n            {`TOKEN ID: 0x${tokenId\n              .mask(128)\n              .toHexString()\n              .substr(2)\n              .padStart(8, '0')}`}\n          </span>\n        )}\n        <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n          {t('page.motto')}: {motto}\n        </span>\n        <span className=\"bg-orange my-2\">\n          <span\n            className=\"progress\"\n            ref={sft && sft.cfolioItems.length > 0 ? progressRef : undefined}\n          ></span>\n        </span>\n        {tokenId === undefined ? (\n          !isMainchain ? (\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.availableOnETH')}\n            </span>\n          ) : (\n            <>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.available')}: {quantity - minted}/{quantity}\n              </span>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis line-h\">\n                {t('page.price')}: {price} WOWS{' '}\n              </span>\n            </>\n          )\n        ) : sft && isSidechain ? (\n          <>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.prowess')}: {prowess / 10000}%\n            </span>\n            <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n              {t('page.earned')}: {earned.toFixed(6)} WOWS\n            </span>\n          </>\n        ) : (\n          isSidechain && (\n            <>\n              <span className=\"tk-grotesk-lightbold font-14 ellipsis\">\n                {t('page.investment')}: {investment}\n              </span>\n            </>\n          )\n        )}\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page3.css';\n\nimport React, { Component } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_REWARD,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  BIGNUMBER_MAX,\n  CHAINSTATE,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StoreClasses,\n} from '../../stores/store';\nimport { CARDS } from '../types/cards';\nimport { CardBox } from './cardbox';\n\ntype PAGE3_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n  display: 'shop' | 'auction' | 'my';\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE3_STATE = {\n  contentLoaded: boolean;\n  contentChanged: boolean;\n  type: QueryType;\n  levelId: number;\n  isWalletConnected: boolean;\n};\n\nconst INITIAL_PAGE3_STATE: PAGE3_STATE = {\n  contentLoaded: false,\n  contentChanged: false,\n  type: 'wolves',\n  levelId: -1,\n  isWalletConnected: false,\n};\n\nclass Page3 extends Component<PAGE3_PROPS, PAGE3_STATE> {\n  content: CARDS = {\n    levelNames: [],\n    cards: [],\n  };\n  levelDescription = '';\n  tokenIds: SFT[] = [];\n  walletTokenIds: SFTCHILD[] = [];\n  levelFilter = 0;\n  nextLevel = -1;\n  prevLevel = -1;\n  scrollOnUpdate = true;\n  mainRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  progessStart: Date = new Date();\n  progressRefs: React.RefObject<HTMLSpanElement>[] = [];\n  progressInterval?: number;\n\n  constructor(props: PAGE3_PROPS) {\n    super(props);\n    this.state = INITIAL_PAGE3_STATE;\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onAssetsState = this.onAssetsState.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._checkContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    this._updateRewards();\n  }\n\n  componentDidUpdate(): void {\n    this._checkContent();\n    if (this.scrollOnUpdate) {\n      this.mainRef.current?.scrollIntoView();\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    window.clearInterval(this.progressInterval);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (!['error', 'cfolio_amount'].includes(status.status)) {\n      this.setState({ contentChanged: true });\n      if (status.status === 'tokens') {\n        this.setState({ levelId: -1 });\n        this._updateRewards();\n      }\n    }\n  }\n\n  _checkContent(): void {\n    const { display, history, location } = this.props;\n    const { type } = this.state;\n    let { contentLoaded } = this.state;\n    let { levelId } = this.state;\n\n    const query = new URLSearchParams(location.search);\n    const newType = query.get('type') as QueryType;\n\n    if (newType !== type) {\n      this.setState({ type: newType });\n      levelId = -1;\n      contentLoaded = false;\n    }\n    if (!contentLoaded) {\n      this.content = StoreClasses.store.getAssets().cards;\n    }\n    if (this.state.contentChanged) this.setState({ contentChanged: false });\n\n    if (this.content.levelNames.length > 0) {\n      if (!contentLoaded) {\n        this.setState({ contentLoaded: true, levelId: -1 });\n        return;\n      }\n      const newLevelId = parseInt(query.get('levelId') || '0') | 0;\n      if (levelId !== newLevelId) {\n        window.clearInterval(this.progressInterval);\n        this.progressInterval = undefined;\n        // retrieve level description\n        // reset level filter\n        this.levelFilter = 0;\n        if (display !== 'my') {\n          this.content.cards.forEach((level) => {\n            if (level.type === newType && level.cards.length > 0)\n              this.levelFilter |= 1 << level.levelId;\n          });\n          const idx = this.content.cards.findIndex(\n            (level) => level.levelId === newLevelId && level.type === newType\n          );\n          if (idx >= 0) {\n            this.levelDescription = this.content.cards[idx].header.replace(\n              '{Q}',\n              this.content.cards[idx].quantity.toString()\n            );\n            this.tokenIds = this.content.cards[idx].cards.map(\n              (card, cardId) => {\n                return {\n                  tokenId: BIGNUMBER_MAX,\n                  levelId: idx,\n                  cardId,\n                  isBaseCard: true,\n                  isStockCard: true,\n                  isWallet: false,\n                  status: SFTS.UNLOCKED,\n                  rewardRate: 0,\n                  rewardShare: [],\n                  rewardEarned: [],\n                  mintTimestamp: 0,\n                  cfolioItems: [],\n                  boosterRewards: {\n                    total: 0,\n                    pending: 0,\n                    apr: 0,\n                  },\n                };\n              }\n            );\n          }\n          this.walletTokenIds = [];\n        } else {\n          // get our base tokenIds\n          this.tokenIds = StoreClasses.store\n            .getAssets()\n            .userSFT.filter((n) => n.isStockCard);\n          // get cfolioItems from wallet\n          this.walletTokenIds =\n            StoreClasses.store.getAssets().userSFT.find((n) => n.isWallet)\n              ?.cfolioItems ?? [];\n          // collect tokenId bitmask\n          let hasCFolioItems = false;\n          this.tokenIds.forEach((n) => {\n            this.levelFilter |= 1 << this.content.cards[n.levelId].levelId;\n            if (\n              this.content.cards[n.levelId].levelId === newLevelId &&\n              n.cfolioItems.length > 0\n            )\n              hasCFolioItems = true;\n          });\n          this.levelDescription =\n            (this.levelFilter & (1 << newLevelId)) === 0\n              ? ''\n              : (this.levelDescription = this.content.cards[\n                  newLevelId\n                ].header.replace(\n                  '{Q}',\n                  this.content.cards[newLevelId].quantity.toString()\n                ));\n          if (this.walletTokenIds.length > 0) {\n            this.levelFilter |= 1 << 4;\n          }\n          if (\n            hasCFolioItems &&\n            StoreClasses.store.getChainState() === CHAINSTATE.SIDE_CHAIN\n          ) {\n            this.progessStart = new Date();\n            this.progressInterval = window.setInterval(\n              this._ticker.bind(this),\n              1000\n            );\n          }\n        }\n\n        if (this.levelFilter && (this.levelFilter & (1 << newLevelId)) === 0) {\n          let defaultLevelId = 4;\n          if (this.levelFilter & 1) defaultLevelId = 0;\n          else if (this.levelFilter & 2) defaultLevelId = 1;\n          else if (this.levelFilter & 4) defaultLevelId = 2;\n          query.set('levelId', defaultLevelId.toString());\n          history.replace(location.pathname + '?' + query.toString());\n        }\n        this.prevLevel = -1;\n        this.nextLevel = -1;\n        // check for next level\n        const levelLength = this.content.levelNames.length;\n        for (\n          let i = newLevelId + 1;\n          this.nextLevel < 0 && i < levelLength;\n          ++i\n        ) {\n          if (this.levelFilter & (1 << i)) this.nextLevel = i;\n        }\n\n        // check for next level\n        for (let i = newLevelId - 1; this.prevLevel < 0 && i >= 0; --i) {\n          if (this.levelFilter & (1 << i)) this.prevLevel = i;\n        }\n        this.setState({ levelId: newLevelId });\n      }\n    }\n    if (query.get('scroll') === 'false') this.scrollOnUpdate = false;\n  }\n\n  _ticker() {\n    let perc = 100 - (new Date().getTime() - this.progessStart.getTime()) / 300;\n    if (perc < 0) {\n      this._updateRewards();\n      this.progessStart = new Date();\n      perc = 100;\n    }\n    this.progressRefs.forEach((ref) => {\n      if (ref.current) ref.current.style.width = perc.toString() + '%';\n    });\n  }\n\n  _updateRewards = async () => {\n    if (StoreClasses.store.getChainState() === CHAINSTATE.SIDE_CHAIN) {\n      StoreClasses.dispatcher.dispatch({\n        type: SFT_REWARD,\n        content: {},\n      } as Payload);\n    }\n  };\n\n  render(): JSX.Element {\n    const { display, t } = this.props;\n    const { contentLoaded, isWalletConnected, levelId, type } = this.state;\n    const levelPosition = levelId;\n    const hasMoreLevels = this.nextLevel >= 0;\n\n    const startPosition = 0;\n\n    const _sumEarned = (sft: SFT) => {\n      return sft.rewardEarned.reduce((prev, cur) => prev + cur, 0);\n    };\n\n    return (\n      <>\n        <div\n          ref={this.mainRef}\n          className={'wolves-container wolves-header bg-' + type}\n        >\n          {!isWalletConnected && display === 'my' ? (\n            <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n              Wallet is not connected.\n              <br /> Please connect your wallet.\n            </span>\n          ) : (\n            <>\n              <img\n                src={Logo}\n                alt=\"WOWS\"\n                width=\"50px\"\n                height=\"50px\"\n                className={`${type === 'bois' ? 'rotate' : ''}`}\n              />\n              <h2 className=\"tk-vincente-lightbold no-margin\">\n                {t('page3.welcome-' + type)}\n              </h2>\n              <h4 className=\"tk-grotesk-lightbold\">\n                {t('page3.newCrypto-' + type).replace(\n                  '{Q}',\n                  (levelId + 1).toString()\n                )}\n              </h4>\n              <span className=\"line-container\">\n                <span id=\"left\" className=\"dot\" />\n                <span className=\"line\" />\n                <span id=\"right\" className=\"dot\" />\n              </span>\n              <div id=\"page3-section-header\">\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange fixed-pos\">\n                  &lt;\n                  {this.prevLevel < 0 || levelPosition <= startPosition ? (\n                    <Link className=\"noselect\" to=\"/\">\n                      {t('page.home')}\n                    </Link>\n                  ) : (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.prevLevel}\n                    >\n                      {t('page.previous')}\n                    </Link>\n                  )}\n                </span>\n                <span className=\"page3-section-container tk-vincente-lightbold\">\n                  {contentLoaded &&\n                    this.content.levelNames.map(\n                      (name: string, index: number) => {\n                        if ((1 << index) & this.levelFilter) {\n                          return levelId === index ? (\n                            <span\n                              key={`sec_` + index}\n                              className=\"page3-section page3-section-selected\"\n                            >\n                              {name}\n                              <div id=\"triangle-down\" />\n                            </span>\n                          ) : (\n                            <Link\n                              key={'sec_' + index}\n                              className=\"page3-section\"\n                              to={'?type=' + type + '&levelId=' + index}\n                            >\n                              {name}\n                            </Link>\n                          );\n                        } else return null;\n                      }\n                    )}\n                </span>\n                <span className=\"tk-vincente-lightbold font-24 single-line wolves-color-orange\">\n                  {hasMoreLevels ? (\n                    <Link\n                      className=\"noselect\"\n                      to={'?type=' + type + '&levelId=' + this.nextLevel}\n                    >\n                      {t('page.nextLevel')}\n                    </Link>\n                  ) : (\n                    t('page.nextLevel')\n                  )}\n                  &gt;\n                </span>\n              </div>\n              {contentLoaded && (\n                <h4 className=\"tk-grotesk-lightbold\">\n                  {this.levelDescription}\n                </h4>\n              )}\n              {contentLoaded && (\n                <div id=\"page3-content-container\">\n                  {levelId !== 4 &&\n                    this.tokenIds.map((id, index) => {\n                      const level = this.content.cards[id.levelId];\n                      return (\n                        level.levelId === levelId &&\n                        (display === 'my' || type === level.type) && (\n                          <CardBox\n                            sft={id}\n                            earned={_sumEarned(id) + id.boosterRewards.pending}\n                            key={'card_' + index}\n                            t={t}\n                            progressRefs={this.progressRefs}\n                          />\n                        )\n                      );\n                    })}\n                  {levelId === 4 &&\n                    this.walletTokenIds.map((sftc, index) => (\n                      <CardBox\n                        cfolio={sftc}\n                        earned={0}\n                        key={'cfolio_' + index}\n                        t={t}\n                      />\n                    ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\nexport default withTranslation()(Page3);\n","export default __webpack_public_path__ + \"static/media/goto.1fd7f347.svg\";","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nexport function remainingFromSecs(secondsLeft: number): string {\n  if (secondsLeft < 0) return '0d:0h:0m:0s';\n\n  const secInMinute = 60;\n  const secInHour = secInMinute * 60;\n  const secInDay = secInHour * 24;\n\n  const days = Math.floor(secondsLeft / secInDay)\n    .toString()\n    .padStart(2, '0');\n  const hours = Math.floor((secondsLeft % secInDay) / secInHour)\n    .toString()\n    .padStart(2, '0');\n  const minutes = Math.floor((secondsLeft % secInHour) / secInMinute)\n    .toString()\n    .padStart(2, '0');\n  const seconds = Math.floor(secondsLeft % secInMinute)\n    .toString()\n    .padStart(2, '0');\n\n  return (\n    days +\n    'd:' +\n    hours +\n    'h:' +\n    minutes +\n    'm' +\n    (days === '00' ? ':' + seconds + 's' : '')\n  );\n}\n","/*\n * Copyright (C) 2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './Transfer.css';\n\nimport { ethers } from 'ethers';\nimport { useEffect, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\n\nimport { SFT_TRANSFER } from '../../../stores/constants';\nimport { StatusResult, StoreClasses } from '../../../stores/store';\n\ntype PROPS = {\n  t: TFunction;\n  tokenId: ethers.BigNumber;\n  name: string;\n  show: boolean;\n  canBridge: boolean;\n  hideCB: () => void;\n};\n\nfunction Transfer({\n  hideCB,\n  name,\n  show,\n  canBridge,\n  tokenId,\n  t,\n}: PROPS): JSX.Element {\n  const [txRunning, setTXRunning] = useState(false);\n  const [tOption, setTOption] = useState(canBridge ? 0 : 1);\n  const [bridgeTarget, setBridgeTarget] = useState({\n    name: '...',\n    address: '',\n  });\n  const [customAddress, setCustomAddress] = useState('');\n\n  const addressvalid = (): string => {\n    try {\n      return ethers.utils.getAddress(customAddress);\n    } catch {\n      return '';\n    }\n  };\n\n  const handleTransfer = () => {\n    const payload = {\n      type: SFT_TRANSFER,\n      content: {\n        id: tokenId,\n        status: canBridge ? undefined : 'locked',\n        address: tOption === 0 ? bridgeTarget.address : customAddress,\n      },\n    };\n    StoreClasses.dispatcher.dispatch(payload);\n    setTXRunning(true);\n  };\n\n  useEffect(() => {\n    const resetTx = (result: StatusResult) => {\n      if (['success', 'error'].includes(result.status)) {\n        setTXRunning(false);\n        if (result.status === 'success') hideCB();\n      }\n    };\n\n    StoreClasses.emitter.on(SFT_TRANSFER, resetTx);\n    setBridgeTarget(StoreClasses.store.getBridgeTarget());\n\n    //Cleanup\n    return () => {\n      StoreClasses.emitter.off(SFT_TRANSFER, resetTx);\n    };\n  }, [hideCB]);\n\n  const transferState = (n: number): string => {\n    return tOption === n\n      ? canBridge\n        ? 'active'\n        : 'active full-width'\n      : 'select';\n  };\n\n  const transferFunc = (n: number) => {\n    return tOption === n ? undefined : () => setTOption(n);\n  };\n\n  const buttonText = txRunning\n    ? { l: t('page4.txPending'), d: true }\n    : tOption === 0\n    ? { l: t('page4.transferTo', { name: bridgeTarget.name }), d: false }\n    : addressvalid() !== ''\n    ? { l: t('page4.transferTo', { name: 'ADDRESS' }), d: false }\n    : { l: t('page.invalidAddress'), d: true };\n\n  return (\n    <Modal show={show} onHide={hideCB} animation={false} backdrop={true}>\n      <Modal.Header closeButton>\n        <Modal.Title>Transfer {name}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"lock-container\">\n          {canBridge && (\n            <div className={transferState(0)} onClick={transferFunc(0)}>\n              {bridgeTarget.name}\n            </div>\n          )}\n          <div className={transferState(1)} onClick={transferFunc(1)}>\n            ADDRESS\n          </div>\n        </div>\n        {tOption === 0 && bridgeTarget.address !== '' && (\n          <span className=\"tk-aktiv-grotesk mt-2 d-inline-block\">\n            {bridgeTarget.name === 'POLYGON' ? (\n              <>\n                Bridging to the Polygon network takes about 3-5 minutes.\n                <br />\n                Your CFOLIO will automatically appear after this time if you are\n                connected to the Polygon network.\n              </>\n            ) : (\n              <>\n                Bridging to Ethereum network is a 2 step process and can take up\n                to 2 hours. Your CFOLIO appears after some seconds in the\n                Ethereum network and displays the transfer state:\n                <br />\n                <ol style={{ marginTop: '0.5em', paddingLeft: '1.5em' }}>\n                  <li>CFOLIO is waiting for the bridge process to finish.</li>\n                  <li>\n                    You have to release the CFOLIO from the bridge with an\n                    ethereum transaction.\n                  </li>\n                </ol>\n              </>\n            )}\n          </span>\n        )}\n        {tOption === 1 && (\n          <input\n            className=\"wolves-input mt-2\"\n            type=\"edit\"\n            onChange={(elem) => setCustomAddress(elem.target.value)}\n          />\n        )}\n        <button\n          className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n          onClick={() => handleTransfer()}\n          disabled={buttonText?.d}\n        >\n          {buttonText?.l}\n        </button>\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className={\n            'wolves-btn white-border mt-2 w-25 tk-aktiv-grotesk-condensed'\n          }\n          onClick={hideCB}\n        >\n          CLOSE\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default withTranslation()(Transfer);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport './page4.css';\n\nimport { BigNumber, ethers } from 'ethers';\nimport React, { Component } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport GoTo from '../../assets/goto.svg';\nimport Logo from '../../assets/wolves-token_99.png';\nimport {\n  ASSETS_STATE,\n  CONNECTION_CHANGED,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_REWARD,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport {\n  AssetStateresult,\n  CHAINSTATE,\n  ConnectResult,\n  Payload,\n  SFT,\n  SFTCHILD,\n  SFTS,\n  StatusResult,\n  StoreClasses,\n} from '../../stores/store';\nimport { remainingFromSecs } from '../../utils/utils';\nimport {\n  CARD,\n  CARD_LEVEL,\n  CARDS,\n  CFOLIO_ITEM,\n  CFOLIO_ITEMS,\n} from '../types/cards';\nimport Transfer from './Transfer/Transfer';\n\ntype PAGE4_PROPS = {\n  t: TFunction;\n  location: RouteComponentProps['location'];\n  history: RouteComponentProps['history'];\n};\n\ntype QueryType = 'wolves' | 'bois' | 'myPack';\n\ntype PAGE4_STATE = {\n  type: QueryType;\n  cards?: CARDS;\n  cfolios?: CFOLIO_ITEMS[];\n  renderList: RenderListItem[];\n  tokenIds?: SFT[];\n  isWalletConnected: boolean;\n  txPending: boolean;\n  currentIndex: number;\n  selectedCFolio: number;\n  modalOpen: boolean;\n  transferOpen: boolean;\n  boosterExistingValue: number;\n  boosterNewValue: number;\n  boosterRelock: number;\n};\n\ntype RenderListItem = {\n  sft?: SFT;\n  cfi?: SFTCHILD;\n  tokenId?: ethers.BigNumber;\n  level: number;\n  index: number;\n};\n\nconst INITIAL_PAGE4_STATE: PAGE4_STATE = {\n  type: 'wolves',\n  renderList: [],\n  isWalletConnected: false,\n  txPending: false,\n  currentIndex: -1,\n  selectedCFolio: -1,\n  modalOpen: false,\n  transferOpen: false,\n  boosterExistingValue: 1,\n  boosterNewValue: 15552000,\n  boosterRelock: 1,\n};\n\nclass Page4 extends Component<PAGE4_PROPS, PAGE4_STATE> {\n  scrollOnUpdate = true;\n  needUpdate = true;\n  imageContainerRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  constructor(props: PAGE4_PROPS) {\n    super(props);\n    this.state = {\n      ...INITIAL_PAGE4_STATE,\n      cards: StoreClasses.store.getAssets().cards,\n      cfolios: StoreClasses.store.getAssets().cfolioItems,\n      tokenIds: StoreClasses.store.getAssets().userSFT,\n    };\n    this.onAssetsState = this.onAssetsState.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onSFTTransaction = this.onSFTTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._updateContent();\n    this.setState({ isWalletConnected: StoreClasses.store.isConnected() });\n    StoreClasses.emitter.on(ASSETS_STATE, this.onAssetsState);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onSFTTransaction);\n  }\n\n  componentDidUpdate(): void {\n    this._updateContent();\n    if (this.scrollOnUpdate) {\n      window.scrollTo(0, 0);\n      this.scrollOnUpdate = false;\n    }\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onSFTTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onSFTTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ASSETS_STATE, this.onAssetsState);\n  }\n\n  onConnectionChanged(params: ConnectResult): void {\n    if (params.type === 'prod') {\n      this.setState({ isWalletConnected: params.address !== '' });\n      this.hideCB();\n    }\n  }\n\n  onAssetsState(status: AssetStateresult): void {\n    if (status.status === 'loaded' || status.status === 'cards') {\n      this.needUpdate = true;\n      this.setState({\n        cards: StoreClasses.store.getAssets().cards,\n        cfolios: StoreClasses.store.getAssets().cfolioItems,\n      });\n    } else if (status.status === 'tokens') {\n      this.needUpdate = true;\n      this.setState({\n        tokenIds: StoreClasses.store.getAssets().userSFT,\n        selectedCFolio: -1,\n      });\n    } else if (status.status === 'rewards') {\n      this.setState({ tokenIds: StoreClasses.store.getAssets().userSFT });\n    }\n  }\n\n  onSFTTransaction(status: StatusResult): void {\n    if (status.status === 'success' || status.status === 'error')\n      this.setState({ txPending: false });\n  }\n\n  _updateContent() {\n    const { cards, tokenIds, type } = this.state;\n    const { history, location } = this.props;\n    const query = new URLSearchParams(location.search);\n\n    let newType: QueryType = 'wolves';\n    switch (query.get('type')) {\n      case 'bois':\n        newType = 'bois';\n        break;\n      case 'myPack':\n        newType = 'myPack';\n        break;\n    }\n\n    if (newType !== type) {\n      this.needUpdate = true;\n      this.setState({ type: newType });\n      query.delete('type');\n      query.append('type', newType);\n      history.replace('?' + query.toString());\n      return;\n    }\n\n    if (!cards) return;\n\n    if (!this.needUpdate) {\n      return this._getCurrentIndex();\n    }\n\n    let currentIndex = -1;\n    let fixIndex = 0;\n    const newRenderList: RenderListItem[] = [];\n\n    this.needUpdate = false;\n\n    if (type === 'myPack' && tokenIds) {\n      const curTokenId = query.get('tokenId')\n        ? ethers.BigNumber.from(query.get('tokenId'))\n        : undefined;\n      // Display Wallet's CFolioItems if tokenId is CFI\n      if (\n        curTokenId &&\n        tokenIds.length &&\n        tokenIds[0].cfolioItems.find((cfi) =>\n          cfi.tokenId.mask(128).eq(curTokenId.mask(128))\n        )\n      ) {\n        // loop through cfolio items and create renderlist\n        tokenIds[0].cfolioItems.forEach((cfi) => {\n          if (curTokenId && cfi.tokenId.mask(128).eq(curTokenId.mask(128)))\n            currentIndex = newRenderList.length;\n          newRenderList.push({\n            cfi,\n            tokenId: cfi.tokenId,\n            level: cfi.levelId,\n            index: cfi.cardId,\n          });\n        });\n      } else {\n        // loop through tokenIds and create renderlist\n        tokenIds.forEach((sft) => {\n          if (sft.isStockCard) {\n            if (curTokenId) {\n              if (sft.tokenId.eq(curTokenId)) {\n                currentIndex = newRenderList.length;\n              } else if (sft.tokenId.mask(128).eq(curTokenId.mask(128))) {\n                fixIndex = newRenderList.length;\n              }\n            }\n            newRenderList.push({\n              sft,\n              tokenId: sft.tokenId,\n              level: sft.levelId,\n              index: sft.cardId,\n            });\n          }\n        });\n      }\n    } else if (type !== 'myPack') {\n      const curCardId = query.get('cardId') || '';\n      cards.cards.forEach((level, index1) => {\n        if (level.type === type) {\n          level.cards.forEach((card, index2) => {\n            if (card.id === curCardId) currentIndex = newRenderList.length;\n            newRenderList.push({ level: index1, index: index2 });\n          });\n        }\n      });\n    }\n    this.setState({ renderList: newRenderList });\n    if (currentIndex < 0 && newRenderList.length > 0) {\n      this._fixUrl(fixIndex);\n      return;\n    }\n    if (this.state.currentIndex !== currentIndex) {\n      this.setState({ currentIndex, selectedCFolio: -1 });\n    }\n    if (\n      currentIndex >= 0 &&\n      (newRenderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n    )\n      this.onProgressIteration();\n  }\n\n  _getCurrentIndex() {\n    const { cards, renderList, type } = this.state;\n    const { location } = this.props;\n    const query = new URLSearchParams(location.search);\n    let fixIndex = 0;\n\n    if (cards && renderList.length > 0) {\n      let currentIndex = -1;\n      if (type === 'myPack' && query.get('tokenId')) {\n        const curTokenId = ethers.BigNumber.from(query.get('tokenId'));\n        currentIndex = renderList.findIndex((elem) =>\n          elem.tokenId?.mask(128).eq(curTokenId.mask(128))\n        );\n        if (\n          currentIndex >= 0 &&\n          renderList[currentIndex]?.tokenId &&\n          !renderList[currentIndex]?.tokenId?.eq(curTokenId)\n        ) {\n          fixIndex = currentIndex;\n          currentIndex = -1;\n        }\n      } else if (type !== 'myPack' && query.get('cardId')) {\n        const curCardId = query.get('cardId');\n        currentIndex = renderList.findIndex(\n          (elem) => cards.cards[elem.level].cards[elem.index].id === curCardId\n        );\n      }\n      if (currentIndex < 0 && renderList.length > 0) {\n        this._fixUrl(fixIndex);\n        return;\n      }\n      if (this.state.currentIndex !== currentIndex) {\n        this.setState({ currentIndex, selectedCFolio: -1 });\n        if (\n          currentIndex >= 0 &&\n          (renderList[currentIndex].sft?.cfolioItems.length ?? 0) > 0\n        )\n          this.onProgressIteration();\n      }\n    }\n  }\n\n  _fixUrl(index: number) {\n    const { history, location } = this.props;\n    const { renderList } = this.state;\n    const query = new URLSearchParams(location.search);\n    if (index < renderList.length) {\n      if (this.state.type === 'myPack') {\n        query.delete('tokenId');\n        const tokenId = renderList[index].tokenId;\n        if (tokenId) {\n          query.append('tokenId', tokenId.toHexString());\n        }\n        history.replace('?' + query.toString());\n        if (index === this.state.currentIndex) this.onProgressIteration();\n      }\n    }\n  }\n\n  _onBuy(): void {\n    const { cards, currentIndex, renderList } = this.state;\n    if (currentIndex >= 0 && cards) {\n      const current = renderList[this.state.currentIndex];\n      const status = current.sft\n        ? current.sft.status\n        : current.cfi\n        ? current.cfi.status\n        : 0;\n      const payload = {\n        type:\n          current.tokenId === undefined\n            ? SFT_BUY\n            : status > SFTS.LOCKED\n            ? SFT_PROOF\n            : status > 0\n            ? SFT_UNLOCK\n            : SFT_LOCK,\n        content: {},\n      };\n      const cardLevel = cards.cards[current.level];\n      payload.content = {\n        amount: cardLevel.price,\n        id: BigNumber.from(\n          current.tokenId === undefined\n            ? (cardLevel.chainRef << 8) |\n                cardLevel.cards[current.index].chainRef\n            : current.tokenId\n        ),\n      };\n      this.setState({ txPending: true });\n      StoreClasses.dispatcher.dispatch(payload);\n    }\n  }\n\n  _onClaim(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_CLAIM,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: renderList[currentIndex].sft?.boosterRewards.secsLeft\n          ? this.state.boosterExistingValue\n          : this.state.boosterNewValue,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onClaimBooster(): void {\n    const { currentIndex, renderList } = this.state;\n    const canRelock =\n      (renderList[currentIndex].sft?.boosterRewards.secsLeft ?? 0) > 0;\n    const payload: Payload = {\n      type: SFT_CLAIM_BOOSTER,\n      content: {\n        id: renderList[currentIndex].sft?.tokenId,\n        time: canRelock ? this.state.boosterRelock : 0,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  _onUpgrade(): void {\n    const { currentIndex, renderList } = this.state;\n    const payload: Payload = {\n      type: SFT_UPGRADE,\n      content: {\n        id: renderList[currentIndex].tokenId,\n      },\n    };\n    this.setState({ txPending: true });\n    StoreClasses.dispatcher.dispatch(payload);\n  }\n\n  onProgressIteration() {\n    StoreClasses.dispatcher.dispatch({\n      type: SFT_REWARD,\n      content: {},\n    } as Payload);\n  }\n\n  toggleImage(event: React.MouseEvent<HTMLImageElement>) {\n    this.setState({\n      selectedCFolio:\n        this.state.selectedCFolio < 0\n          ? parseInt(event.currentTarget.getAttribute('data-id') || '-1')\n          : -1,\n    });\n  }\n\n  hideCB = () => {\n    this.setState({ modalOpen: false, transferOpen: false });\n  };\n\n  render(): JSX.Element {\n    const { history, t } = this.props;\n    const {\n      cards,\n      cfolios,\n      currentIndex,\n      selectedCFolio,\n      isWalletConnected,\n      renderList,\n      txPending,\n      type,\n      modalOpen,\n      transferOpen,\n      boosterExistingValue,\n      boosterNewValue,\n      boosterRelock,\n    } = this.state;\n\n    const currentRender =\n      currentIndex >= 0 ? renderList[currentIndex] : undefined;\n\n    const currentLevel =\n      cards && cfolios && currentRender\n        ? currentRender.cfi\n          ? cfolios[currentRender.level]\n          : cards.cards[currentRender.level]\n        : undefined;\n\n    const currentCard =\n      currentLevel && currentRender\n        ? currentLevel.cards[currentRender.index]\n        : undefined;\n\n    const noQuantity =\n      !currentCard ||\n      !currentRender ||\n      !currentLevel ||\n      (type !== 'myPack' &&\n        (currentCard as CARD).minted >= (currentLevel as CARD_LEVEL).quantity);\n\n    const levelId = currentRender?.cfi\n      ? 4\n      : (currentLevel as CARD_LEVEL)?.levelId ?? 0;\n\n    const sftStatus = currentRender?.sft\n      ? currentRender.sft.status\n      : currentRender?.cfi\n      ? currentRender.cfi.status\n      : -1;\n\n    const buttonText = !isWalletConnected\n      ? { l: t('header.connectWallet').toString(), d: true }\n      : noQuantity\n      ? StoreClasses.store.getChainState() !== CHAINSTATE.MAIN_CHAIN\n        ? { l: t('page.availableOnETH'), d: true }\n        : { l: t('page4.noQuantity').toString(), d: true }\n      : txPending\n      ? { l: t('page4.txPending'), d: true }\n      : currentRender?.tokenId === undefined\n      ? { l: t('page4.buy', { name: currentCard?.name }).toString(), d: false }\n      : sftStatus === SFTS.BRIDGE_PENDING\n      ? {\n          l: t('page4.waitProof', { name: currentCard?.name }).toString(),\n          d: true,\n        }\n      : sftStatus === SFTS.BRIDGE_READY\n      ? {\n          l: t('page4.proof', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : sftStatus > 0\n      ? {\n          l: t('page4.unlock', { name: currentCard?.name }).toString(),\n          d: false,\n        }\n      : {\n          l: t('page4.lock', { name: currentCard?.name }).toString(),\n          d: false,\n        };\n\n    // Create Navigation Links\n    let prevUrl: string | undefined, nextUrl: string | undefined;\n    if (renderList && renderList.length > 1) {\n      const prevIndex =\n        currentIndex > 0 ? currentIndex - 1 : renderList.length - 1;\n      const nextIndex =\n        currentIndex < renderList.length - 1 ? currentIndex + 1 : 0;\n      if (type === 'myPack') {\n        prevUrl = `?type=myPack&tokenId=${renderList[\n          prevIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n        nextUrl = `?type=myPack&tokenId=${renderList[\n          nextIndex\n        ].tokenId?.toHexString()}&scroll=false`;\n      } else {\n        prevUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[prevIndex].level].cards[\n            renderList[prevIndex].index\n          ].id\n        }&scroll=false`;\n        nextUrl = `?type=${type}&cardId=${\n          cards?.cards[renderList[nextIndex].level].cards[\n            renderList[nextIndex].index\n          ].id\n        }&scroll=false`;\n      }\n    }\n\n    const backUrl =\n      type === 'myPack'\n        ? `my?type=myPack&levelId=${levelId}`\n        : `/shop?type=${type}&levelId=${levelId}`;\n\n    const assetIndex =\n      currentLevel?.type === 'bois' || currentLevel?.type === 'stableInvestment'\n        ? StoreClasses.store.getStableCurrencies()[0].length - 1\n        : 0;\n\n    let price,\n      quantity,\n      autoUpgrade,\n      profitReward,\n      autoUpgradeText,\n      apr,\n      apy,\n      share,\n      investment;\n    if (currentRender?.cfi && currentCard) {\n      quantity = (currentCard as CFOLIO_ITEM).maxMintable;\n      investment =\n        currentRender?.cfi.assets[assetIndex].toFixed(6) +\n        ' ' +\n        (currentLevel as CFOLIO_ITEMS).token;\n    } else if (currentRender && currentLevel) {\n      quantity = (currentLevel as CARD_LEVEL).quantity;\n      autoUpgrade = (currentLevel as CARD_LEVEL).autoUpgrade;\n      if (autoUpgrade === '') autoUpgrade = undefined;\n      profitReward = currentRender?.sft\n        ? currentRender.sft.rewardRate / 10000\n        : (currentLevel as CARD_LEVEL).profitReward;\n      if (!currentRender?.sft) price = (currentLevel as CARD_LEVEL).price;\n      if (autoUpgrade && currentRender.sft) {\n        if (\n          sftStatus === 0 &&\n          profitReward === (currentLevel as CARD_LEVEL).profitReward\n        ) {\n          autoUpgrade =\n            60 * 86400 + currentRender.sft?.mintTimestamp - Date.now() / 1000;\n          const upgradeReward = (currentLevel as CARD_LEVEL).upgradeReward;\n          autoUpgradeText = txPending\n            ? t('page4.txPending')\n            : autoUpgrade <= 0\n            ? `UPGRADE TO ${upgradeReward} PROWESS NOW`\n            : `UPGRADE TO ${upgradeReward} PROWESS IN ` +\n              remainingFromSecs(autoUpgrade);\n        } else {\n          autoUpgrade = undefined;\n        }\n      }\n\n      if (profitReward && currentLevel) {\n        const rewardIndex = currentLevel.type === 'wolves' ? 0 : 1;\n        const rewardInfo =\n          StoreClasses.store.getAssets().rewardInfo[rewardIndex];\n        if (rewardInfo.slotInfo.length > 0) {\n          const maxSlot = rewardInfo.slotInfo.reduce((p, v) => (p > v ? p : v));\n          const aprNum = (maxSlot.apr * profitReward) / 100;\n          apr = aprNum.toFixed(2);\n          apy = StoreClasses.store.aprToApy(aprNum);\n          // TODO: Make Multi line\n          if (currentRender.sft && currentRender.sft.rewardShare.length > 0)\n            share = currentRender.sft?.rewardShare[0].toFixed(2);\n        }\n      }\n    }\n\n    const claimableAmount = currentRender?.sft\n      ? currentRender.sft.rewardEarned.reduce((p, c) => p + c, 0) +\n        currentRender.sft.boosterRewards.pending\n      : 0;\n    const claimText =\n      currentRender?.sft && claimableAmount > 0\n        ? !isWalletConnected\n          ? { l: t('header.connectWallet').toString(), d: true }\n          : txPending && !modalOpen && !transferOpen\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t('page4.manageRewards', {\n                amount: claimableAmount.toFixed(6),\n              }).toString(),\n              d: sftStatus > 0 || claimableAmount === 0,\n            }\n        : undefined;\n\n    const renderCFolioItems = () => {\n      if (\n        currentRender?.sft &&\n        currentRender.sft.cfolioItems.length > 0 &&\n        this.imageContainerRef.current &&\n        cfolios\n      ) {\n        const topOffset =\n          currentRender.sft.cfolioItems.length > 1\n            ? Math.min(\n                (this.imageContainerRef.current.clientHeight - 82) /\n                  (currentRender.sft.cfolioItems.length - 1),\n                86\n              )\n            : 0;\n        const sftChild =\n          selectedCFolio >= 0 &&\n          selectedCFolio < currentRender.sft.cfolioItems.length &&\n          currentRender.sft.cfolioItems[selectedCFolio];\n        return (\n          <>\n            {currentRender.sft.cfolioItems.map((sftc, index) => {\n              const cfi = cfolios[sftc.levelId].cards[sftc.cardId];\n              return (\n                <img\n                  key={'cfi' + index}\n                  id=\"cfi-image\"\n                  data-id={index}\n                  onClick={this.toggleImage.bind(this)}\n                  className=\"selectable\"\n                  style={\n                    selectedCFolio !== index\n                      ? { right: '6px', top: 6 + index * topOffset + 'px' }\n                      : {\n                          right: '15%',\n                          zIndex: 20,\n                          top: '12px',\n                          transition: 'all 0.5s',\n                        }\n                  }\n                  height={selectedCFolio !== index ? '80px' : '70%'}\n                  alt={cfi.name}\n                  src={cfi.url.replace('{res}', '500')}\n                />\n              );\n            })}\n            <span\n              id=\"page4-content-image-inner-info\"\n              className=\"tk-vincente-lightbold\"\n              style={{ visibility: selectedCFolio < 0 ? 'hidden' : 'visible' }}\n            >\n              {sftChild && (\n                <>\n                  <h3>\n                    {cfolios[sftChild.levelId].cards[sftChild.cardId].name}\n                  </h3>\n                  <h3>\n                    {t('page.tokenId')}: {sftChild.tokenId.toHexString()}\n                  </h3>\n                  <h3>\n                    {t('page.investment')}:{' '}\n                    {sftChild.assets[assetIndex].toFixed(6)}{' '}\n                    {cfolios[sftChild.levelId].token}{' '}\n                    {currentRender.sft.status === SFTS.UNLOCKED && (\n                      <Link\n                        to={`/cfolio-invest?type=${\n                          cfolios[sftChild.levelId].type\n                        }&baseTokenId=${currentRender.tokenId?.toHexString()}&tokenId=${sftChild.tokenId.toHexString()}`}\n                      >\n                        <img\n                          style={{ marginBottom: '4px' }}\n                          alt=\"G\"\n                          src={GoTo}\n                        ></img>\n                      </Link>\n                    )}\n                  </h3>\n                </>\n              )}\n            </span>\n          </>\n        );\n      }\n    };\n\n    const imgClass =\n      selectedCFolio < 0 ? 'card-visual' : 'card-visual monochrome';\n\n    const boosterState = (value: number, n: number): string => {\n      return value === n ? 'active' : 'select';\n    };\n\n    const boosterFuncN = (n: number) => {\n      return boosterNewValue === n\n        ? undefined\n        : () => this.setState({ boosterNewValue: n });\n    };\n\n    const boosterFuncR = (n: number) => {\n      return boosterRelock === n\n        ? undefined\n        : () => this.setState({ boosterRelock: n });\n    };\n\n    const boosterFuncE = (n: number) => {\n      return boosterExistingValue === n\n        ? undefined\n        : () => this.setState({ boosterExistingValue: n });\n    };\n\n    let boosterFarmButtonText, boosterButtonText, boosterPeriod;\n\n    const boosterTotal = currentRender?.sft?.boosterRewards.total.toFixed(2);\n    if (currentRender?.sft?.boosterRewards.secsLeft) {\n      switch (currentRender.sft.boosterRewards.apr) {\n        case 1.75:\n        case 1.875:\n          boosterPeriod = '6 months';\n          break;\n        case 1.3:\n          boosterPeriod = '3 months';\n          break;\n        case 1.0:\n          boosterPeriod = '1 month';\n          break;\n        default:\n          boosterPeriod = 'Unknown';\n      }\n    } else if (\n      StoreClasses.store.getChainState() === CHAINSTATE.SIDE_CHAIN &&\n      currentRender?.sft\n    ) {\n      boosterPeriod = 'No period started';\n    }\n\n    const rewardEarned = currentRender?.sft\n      ? currentRender.sft.rewardEarned.reduce((p, c) => p + c, 0)\n      : 0;\n\n    if (modalOpen && currentRender?.sft) {\n      if (currentRender.sft.rewardEarned) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterExistingValue > 0;\n        } else {\n          lockRewards = boosterNewValue > 0;\n        }\n        boosterFarmButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.lockWows' : 'page4.claim', {\n                amount: rewardEarned.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n\n      if (currentRender.sft.boosterRewards.pending) {\n        let lockRewards;\n        if (currentRender.sft.boosterRewards.secsLeft) {\n          lockRewards = boosterRelock;\n        } else {\n          lockRewards = false;\n        }\n        boosterButtonText = txPending\n          ? { l: t('page4.txPending'), d: true }\n          : {\n              l: t(lockRewards ? 'page4.relockWows' : 'page4.claim', {\n                amount: currentRender.sft.boosterRewards.pending.toFixed(6),\n              }),\n              d: false,\n            };\n      }\n    }\n\n    const transferButtonText =\n      txPending && !transferOpen && !modalOpen\n        ? { l: t('page4.txPending'), d: true }\n        : { l: t('page4.transfer', { name: currentCard?.name }), d: false };\n\n    return (\n      <div\n        id=\"top\"\n        className={\n          'wolves-container wolves-header tk-grotesk-lightbold bg-' +\n          (currentLevel ? currentLevel.type : 'wolves')\n        }\n      >\n        <img src={Logo} alt=\"WOWS\" width=\"50px\" height=\"50px\" />\n        <h2 className=\"tk-vincente-lightbold no-margin\">\n          {t('page4.welcome-' + type)}\n        </h2>\n        <h4\n          className=\"tk-grotesk-lightbold\"\n          dangerouslySetInnerHTML={{ __html: t('page4.header-' + type) }}\n        />\n        {currentIndex >= 0 && (\n          <div className=\"back-level-container\">\n            <span\n              className=\"tk-vincente-lightbold font-24 content-margin c-pointer\"\n              onClick={() => history.push(backUrl)}\n            >\n              &lt;{t('page.back')}\n            </span>\n            <span className=\"tk-vincente-lightbold font-24 content-margin\">\n              {currentLevel ? cards?.levelNames[levelId] : ''}\n            </span>\n          </div>\n        )}\n        <span className=\"line-container\">\n          <span id=\"left\" className=\"dot\" />\n          <span className=\"line\" />\n          <span id=\"right\" className=\"dot\" />\n        </span>\n        <div\n          id=\"page4-section-header\"\n          className=\"tk-vincente-lightbold font-20 single-line\"\n        >\n          <span>\n            <span\n              className={`tk-vincente-lightbold font-24 single-line noselect ${\n                prevUrl ? 'c-pointer' : 'disabled-link'\n              }`}\n              onClick={() => (prevUrl ? history.push(prevUrl) : undefined)}\n            >\n              &lt;{t('page.previousCard')}\n            </span>\n          </span>\n          <span\n            className={`tk-vincente-lightbold font-24 single-line noselect ${\n              nextUrl ? 'c-pointer' : 'disabled-link'\n            } `}\n            onClick={() => (nextUrl ? history.replace(nextUrl) : undefined)}\n          >\n            {t('page.nextCard')}&gt;\n          </span>\n        </div>\n        {!isWalletConnected && type === 'myPack' ? (\n          <span className=\"font-32 tk-vincente-lightbold wallet-warning\">\n            Wallet is not connected.\n            <br /> Please connect your wallet.\n          </span>\n        ) : (\n          <div id=\"page4-content-container\">\n            <div id=\"page4-content-image\">\n              <div id=\"page4-content-image-inner\" ref={this.imageContainerRef}>\n                {currentCard &&\n                  (currentCard.type === 'movie' ? (\n                    <video\n                      disableRemotePlayback={true}\n                      className={imgClass}\n                      autoPlay={true}\n                      loop={true}\n                      src={currentCard.url.replace('{res}', '500')}\n                      poster={currentCard.url.replace('{res}', '300') + '.jpg'}\n                      playsInline\n                    />\n                  ) : (\n                    <img\n                      className={imgClass}\n                      src={currentCard.url.replace('{res}', '500')}\n                      alt={currentCard.name}\n                    />\n                  ))}\n                {sftStatus > 0 && (\n                  <div\n                    className={sftStatus > SFTS.LOCKED ? 'bridged' : 'locked'}\n                  />\n                )}\n                {renderCFolioItems()}\n              </div>\n            </div>\n            <div id=\"page4-content-text\" className=\"gro\">\n              {currentCard && (\n                <>\n                  <div>\n                    <h1\n                      className={\n                        'tk-vincente-lightbold h-1 single-line' +\n                        (currentRender?.tokenId !== undefined\n                          ? ' wolves-text-shaddow'\n                          : '')\n                      }\n                    >\n                      {currentCard.name}\n                    </h1>\n                    <h3 className=\"tk-vincente-lightbold\">\n                      <span>\n                        {t('page.motto')}:{currentCard.motto}\n                      </span>\n                    </h3>\n                    {currentRender?.tokenId !== undefined && (\n                      <h3 className=\"tk-vincente-lightbold\">\n                        <span>\n                          {` ${t('page.tokenId')}: 0x${currentRender?.tokenId\n                            .mask(128)\n                            .toHexString()\n                            .replace('0x', '')\n                            .toUpperCase()\n                            .padStart(8, '0')}`}\n                        </span>\n                      </h3>\n                    )}\n                    <p className=\"font-16\">{currentCard.description}</p>\n                    {currentRender?.sft && sftStatus < SFTS.BRIDGE_PENDING && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedSft'\n                            : 'page4.unlockedSft'\n                        )}\n                      </p>\n                    )}\n                    {currentRender?.cfi && (\n                      <p className=\"font-14\">\n                        {t(\n                          sftStatus > 0\n                            ? 'page4.lockedCfi'\n                            : 'page4.unlockedCfi'\n                        )}\n                      </p>\n                    )}\n                    <ul className=\"tk-vincente-lightbold font-24 rarity-box\">\n                      <li>\n                        <h3 className=\"no-margin\">RARITY: 1/{quantity}</h3>\n                      </li>\n                      {profitReward && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.prowess')}: {profitReward}%{' '}\n                            {autoUpgrade && '('}\n                            {autoUpgrade &&\n                              (typeof autoUpgrade !== 'number' ? (\n                                t('page.autoUpgrade') + ':' + autoUpgrade\n                              ) : autoUpgrade > 0 || txPending ? (\n                                autoUpgradeText\n                              ) : (\n                                <span\n                                  className=\"ulink c-pointer\"\n                                  onClick={() => this._onUpgrade()}\n                                >\n                                  {autoUpgradeText}\n                                </span>\n                              ))}\n                            {autoUpgrade && ')'}\n                          </h3>\n                        </li>\n                      )}\n                      {boosterPeriod && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            <span\n                              className=\"ulink c-pointer\"\n                              onClick={() => this.setState({ modalOpen: true })}\n                            >\n                              {t('page4.booster', {\n                                period: boosterPeriod,\n                                amount: boosterTotal,\n                              })}\n                            </span>\n                          </h3>\n                        </li>\n                      )}\n                      {apr && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.aprapy', { apr, apy })}\n                          </h3>\n                        </li>\n                      )}\n                      {share && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page4.share', { share })}\n                          </h3>\n                        </li>\n                      )}\n                      {(price ?? 0) > 0 && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.price')}: {price} WOWS\n                          </h3>\n                        </li>\n                      )}\n                      {investment && (\n                        <li>\n                          <h3 className=\"no-margin\">\n                            {t('page.investment')}: {investment}\n                          </h3>\n                        </li>\n                      )}\n                    </ul>\n                  </div>\n                  <div>\n                    {claimText && (\n                      <span className=\"p_relative\" style={{ display: 'block' }}>\n                        <input\n                          className=\"wolves-btn mt-1\"\n                          type=\"button\"\n                          value={claimText.l}\n                          disabled={claimText.d}\n                          onClick={() => this.setState({ modalOpen: true })}\n                        />\n                        {!txPending &&\n                          isWalletConnected &&\n                          currentRender?.sft &&\n                          currentRender.sft.cfolioItems.length > 0 && (\n                            <span\n                              onAnimationIteration={this.onProgressIteration}\n                              className=\"info-progress absolute\"\n                              style={{ marginLeft: '2px', marginRight: '2px' }}\n                            />\n                          )}\n                      </span>\n                    )}\n                    {currentRender?.sft && currentRender.sft.status <= 1 && (\n                      <input\n                        className=\"wolves-btn mt-1\"\n                        type=\"button\"\n                        value={transferButtonText.l}\n                        disabled={transferButtonText.d}\n                        onClick={() => this.setState({ transferOpen: true })}\n                      />\n                    )}\n                    <input\n                      className=\"wolves-btn mt-1\"\n                      type=\"button\"\n                      value={buttonText.l}\n                      disabled={buttonText.d}\n                      onClick={() => this._onBuy()}\n                    />\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        )}\n        {modalOpen && (\n          <Modal\n            show={true}\n            backdrop=\"static\"\n            onHide={this.hideCB}\n            animation={false}\n          >\n            <Modal.Header closeButton>\n              <span className=\"tk-vincente-bold font-28 lh-1 mb-0\">\n                BOOST MY REWARDS\n              </span>\n            </Modal.Header>\n            <Modal.Body>\n              <span className=\"tk-grotesk-lightbold\">\n                <p>\n                  Your can boost your rewards by locking them into the Booster.\n                  While the rewards are locked, you can claim 10% per month\n                  either directly into your wallet, or reinvest into the Booster\n                  to earn more.\n                </p>\n                <p>\n                  Once you have created a lock period, you cannot change it's\n                  expire time. But you can always add rewards into it.\n                </p>\n                <hr />\n                <span className=\"d-block w-100 text-center\">\n                  <b>Booster lock:</b> {boosterPeriod}\n                  {currentRender?.sft?.boosterRewards.secsLeft && (\n                    <>\n                      <br />\n                      <b>Terminate:</b>{' '}\n                      {remainingFromSecs(\n                        currentRender.sft.boosterRewards.secsLeft\n                      )}\n                      <br />\n                      <b>Locked Amount:</b> {boosterTotal} WOWS\n                      <br />\n                      <b>APR:</b> {currentRender.sft.boosterRewards.apr * 100} %\n                    </>\n                  )}\n                </span>\n                {currentRender?.sft && rewardEarned > 0 && (\n                  <>\n                    <hr />\n                    <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                      FARM REWARDS\n                    </span>\n                    {currentRender.sft.boosterRewards.secsLeft ? (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterExistingValue, 1)}\n                          onClick={boosterFuncE(1)}\n                        >\n                          Lock into Booster\n                        </div>\n                        <div\n                          className={boosterState(boosterExistingValue, 0)}\n                          onClick={boosterFuncE(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"lock-container\">\n                        <div\n                          className={boosterState(boosterNewValue, 2592000)}\n                          onClick={boosterFuncN(2592000)}\n                        >\n                          1 month (100% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 7776000)}\n                          onClick={boosterFuncN(7776000)}\n                        >\n                          3 months (130% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 15552000)}\n                          onClick={boosterFuncN(15552000)}\n                        >\n                          6 months (175% APR)\n                        </div>\n                        <div\n                          className={boosterState(boosterNewValue, 0)}\n                          onClick={boosterFuncN(0)}\n                        >\n                          Claim into wallet\n                        </div>\n                      </div>\n                    )}\n                    <button\n                      className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                      onClick={() => this._onClaim()}\n                      disabled={boosterFarmButtonText?.d}\n                    >\n                      {boosterFarmButtonText?.l}\n                    </button>\n                  </>\n                )}\n                {currentRender?.sft &&\n                  currentRender.sft.boosterRewards.pending > 0 && (\n                    <>\n                      <hr />\n                      <span className=\"tk-vincente-bold font-22 d-block w-100 text-center\">\n                        BOOSTER REWARDS\n                      </span>\n                      {currentRender.sft.boosterRewards.secsLeft && (\n                        <div className=\"lock-container\">\n                          <div\n                            className={boosterState(boosterRelock, 1)}\n                            onClick={boosterFuncR(1)}\n                          >\n                            Relock into Booster\n                          </div>\n                          <div\n                            className={boosterState(boosterRelock, 0)}\n                            onClick={boosterFuncR(0)}\n                          >\n                            Claim into wallet\n                          </div>\n                        </div>\n                      )}\n                      <button\n                        className={'wolves-btn mt-2 tk-aktiv-grotesk-condensed'}\n                        onClick={() => this._onClaimBooster()}\n                        disabled={boosterButtonText?.d}\n                      >\n                        {boosterButtonText?.l}\n                      </button>\n                    </>\n                  )}\n              </span>\n            </Modal.Body>\n          </Modal>\n        )}\n        {transferOpen &&\n          (sftStatus === 0 || sftStatus === 1) &&\n          currentRender?.tokenId && (\n            <Transfer\n              tokenId={currentRender.tokenId}\n              name={currentCard?.name ?? 'UNKNOWN'}\n              show={true}\n              canBridge={sftStatus === 0}\n              hideCB={this.hideCB}\n            />\n          )}\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(Page4);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\n\nimport './pageStatus.css';\n\nimport { getInjectedProvider } from 'web3modal';\n\nfunction isMobile(): boolean {\n  let mobile = false;\n\n  function hasTouchEvent(): boolean {\n    try {\n      document.createEvent('TouchEvent');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function hasMobileUserAgent(): boolean {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n        navigator.userAgent\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n        navigator.userAgent.substr(0, 4)\n      )\n    ) {\n      return true;\n    } else if (hasTouchEvent()) {\n      return true;\n    }\n    return false;\n  }\n\n  mobile = hasMobileUserAgent();\n\n  return mobile;\n}\n\nfunction replaceLogo(key: string, value: string): string {\n  return key === 'logo' && value !== '' ? '[ImageData]' : value;\n}\n\nexport function PageStatus(props: unknown): JSX.Element {\n  return (\n    <div id=\"page-status\" className=\"wolves-container\">\n      <h2>InjectedProvider</h2>\n      <pre>{JSON.stringify(getInjectedProvider(), replaceLogo, 2)}</pre>\n      <h2>window.ethereum</h2>\n      <pre>{JSON.stringify(window.ethereum, null, 2)}</pre>\n      <h2>IsMobile</h2>\n      <pre>{isMobile() ? 'true' : 'false'}</pre>\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2020 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See the file LICENSES/README.md for more information.\n */\nimport 'react-toastify/dist/ReactToastify.css';\nimport './wolftoast.css';\n\nimport React, { Component, ReactNode } from 'react';\nimport { TFunction, withTranslation } from 'react-i18next';\nimport {\n  toast,\n  ToastContainer,\n  ToastOptions,\n  UpdateOptions,\n} from 'react-toastify';\n\nimport logo from '../../assets/wolves-token_99.png';\nimport {\n  ADDRESS_COPIED,\n  CFOLIO_ITEM_BUY,\n  CFOLIO_ITEM_DEPOSIT,\n  CFOLIO_ITEM_UNLOCK_TRANSFER,\n  CFOLIO_ITEM_WITHDRAW,\n  CONNECTION_CHANGED,\n  REVOKE_APPROVAL,\n  SFT_BUY,\n  SFT_CLAIM,\n  SFT_CLAIM_BOOSTER,\n  SFT_LOCK,\n  SFT_PROOF,\n  SFT_TRANSFER,\n  SFT_UNLOCK,\n  SFT_UPGRADE,\n} from '../../stores/constants';\nimport { ConnectResult, StatusResult, StoreClasses } from '../../stores/store';\n\nexport type ToastMessage = {\n  type: ['info' | 'success' | 'failure'];\n  message: string;\n  autoClose: number | false;\n};\n\ntype TOASTSTATE = {\n  show: boolean;\n};\n\ntype TOASTPROPS = {\n  t: TFunction;\n};\n\nclass WolfToast extends Component<TOASTPROPS, TOASTSTATE> {\n  t: TFunction;\n  txId: React.ReactText | undefined;\n  connectId: React.ReactText | undefined;\n\n  constructor(props: TOASTPROPS) {\n    super(props);\n    this.t = this.props.t;\n\n    this.onAddressCopied = this.onAddressCopied.bind(this);\n    this.onConnectionChanged = this.onConnectionChanged.bind(this);\n    this.onTransaction = this.onTransaction.bind(this);\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(ADDRESS_COPIED, this.onAddressCopied);\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.on(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.on(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.on(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.on(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.on(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.on(REVOKE_APPROVAL, this.onTransaction);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(REVOKE_APPROVAL, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_UNLOCK_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_WITHDRAW, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_DEPOSIT, this.onTransaction);\n    StoreClasses.emitter.off(CFOLIO_ITEM_BUY, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UPGRADE, this.onTransaction);\n    StoreClasses.emitter.off(SFT_UNLOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_TRANSFER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_PROOF, this.onTransaction);\n    StoreClasses.emitter.off(SFT_LOCK, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM_BOOSTER, this.onTransaction);\n    StoreClasses.emitter.off(SFT_CLAIM, this.onTransaction);\n    StoreClasses.emitter.off(SFT_BUY, this.onTransaction);\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.onConnectionChanged);\n    StoreClasses.emitter.off(ADDRESS_COPIED, this.onAddressCopied);\n  }\n\n  onAddressCopied(): void {\n    toast(this._formatToast(undefined, this.t('toast.addressCopied')), {\n      autoClose: 2000,\n    });\n  }\n\n  onConnectionChanged(result: ConnectResult): void {\n    if (result.type !== 'event') {\n      const msg = this.t(\n        result.address === ''\n          ? 'toast.walletDisconnected'\n          : 'toast.walletConnected'\n      );\n      this.connectId = this._updateToast(this.connectId, {\n        render: this._formatToast(undefined, msg),\n        autoClose: 2000,\n      });\n    }\n  }\n\n  onTransaction(result: StatusResult) {\n    if (result.status === 'approve')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          undefined,\n          this.t('toast.transactionApproving')\n        ),\n        autoClose: false,\n      });\n    else if (result.status === 'tx')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(undefined, this.t('toast.transactionMined')),\n        autoClose: false,\n      });\n    else if (result.status === 'success')\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'success',\n          this.t('toast.transactionFinished')\n        ),\n        autoClose: 3000,\n      });\n    else\n      this.txId = this._updateToast(this.txId, {\n        render: this._formatToast(\n          'failure',\n          result.errorMessage || this.t('toast.undefinedError')\n        ),\n        autoClose: 5000,\n      });\n  }\n\n  _updateToast(\n    key: React.ReactText | undefined,\n    options: UpdateOptions\n  ): React.ReactText | undefined {\n    if (key && toast.isActive(key)) {\n      toast.update(key, options);\n    } else {\n      key = toast(options.render, options as ToastOptions);\n    }\n    return key;\n  }\n\n  _formatToast(type: string | undefined, message: string): ReactNode {\n    const className = type ? 'wolflogo wolflogo--' + type : 'wolflogo';\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <img\n          alt=\"logo\"\n          src={logo}\n          className={className}\n          width=\"24px\"\n          height=\"24px\"\n        />\n        <span style={{ display: 'block', flexGrow: 1 }}>{message}</span>\n      </div>\n    );\n  }\n\n  render(): ReactNode {\n    return <ToastContainer position=\"bottom-left\" pauseOnFocusLoss={false} />;\n  }\n}\n\nexport default withTranslation()(WolfToast);\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './App.css';\nimport './wolves_scheme.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './components/theme/button/wolve_button.css';\nimport './components/theme/form/input/wolve_input.css';\n\nimport React from 'react';\n//import { Modal } from 'react-bootstrap';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n//import Logo from './assets/logo.png';\nimport CFolioInvest from './components/CFolioInvest';\nimport CFolioItemSfts from './components/CFolioItemSfts';\nimport CFolioManager from './components/CFolioManager/CFolioManager';\nimport Footer from './components/footer';\nimport Header from './components/header';\nimport Page1 from './components/page1';\nimport Page3 from './components/page3';\nimport Page4 from './components/page4';\nimport { PageStatus } from './components/pageStatus';\nimport WolfToast from './components/toast/wolftoast';\nimport { CONNECTION_CHANGED } from './stores/constants';\nimport {\n  CHAINSTATE,\n  ConnectResult,\n  StoreClasses,\n  StoreContainer,\n} from './stores/store';\n\ntype APP_STATE = {\n  chainState: CHAINSTATE;\n};\n\nclass App extends React.Component<unknown, APP_STATE> {\n  constructor(props: unknown) {\n    super(props);\n    this.state = { chainState: CHAINSTATE.UNKNOWN };\n  }\n\n  componentDidMount(): void {\n    StoreClasses.emitter.on(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  componentWillUnmount(): void {\n    StoreClasses.emitter.off(CONNECTION_CHANGED, this.setNetwork);\n  }\n\n  setNetwork = (result: ConnectResult): void => {\n    if (result.type === 'prod' && result.address !== '') {\n      this.setState({ chainState: StoreClasses.store.getChainState() });\n    }\n  };\n\n  render(): JSX.Element {\n    return (\n      <>\n        <div className=\"App\">\n          <BrowserRouter>\n            <StoreContainer>\n              <WolfToast />\n              <Route component={Header} />\n              <Switch>\n                <Route\n                  path=\"/shop\"\n                  render={(props) => <Page3 {...props} display={'shop'} />}\n                />\n                <Route\n                  path=\"/my\"\n                  render={(props) => <Page3 {...props} display={'my'} />}\n                />\n                <Route path=\"/detail\" component={Page4} />\n                <Route path=\"/status\" component={PageStatus} />\n                <Route path=\"/cfolio-sfts\" component={CFolioItemSfts} />\n                {this.state.chainState === CHAINSTATE.SIDE_CHAIN && (\n                  <Route path=\"/cfolio-invest\" component={CFolioInvest} />\n                )}\n                {this.state.chainState === CHAINSTATE.SIDE_CHAIN && (\n                  <Route path=\"/c_folio_manager\" component={CFolioManager} />\n                )}\n                <Route component={Page1} />\n              </Switch>\n              <Footer />\n            </StoreContainer>\n          </BrowserRouter>\n        </div>\n        {/*StoreClasses.store.chainId === 137 && (\n          <Modal show={true} backdrop=\"static\" animation={false}>\n            <Modal.Header>\n              <h3 className=\"mb-0\">\n                <img alt=\"logo\" src={Logo} width=\"28px\" className=\"mr-1 mb-1\" />\n                Maintenance\n              </h3>\n            </Modal.Header>\n            <Modal.Body>\n              We are updating the reward farm contracts for liquidity and stable\n              coin investments to allow multiple investment types in single,\n              self balancing reward farms in future.\n              <br />\n              Maintenance window is expected to close at 2021-11-04 17:00 UTC\n              <br />\n              <br />\n              Thank you for your patience!\n            </Modal.Body>\n          </Modal>\n        )*/}\n      </>\n    );\n  }\n}\n\nexport default App;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport { ReportHandler } from 'web-vitals/src/types';\n\nconst reportWebVitals: (onPerfEntry: ReportHandler) => void = (\n  onPerfEntry: ReportHandler\n) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/*\n * Copyright (C) 2020-2021 The Wolfpack\n * This file is part of wolves.finance - https://github.com/wolvesofwallstreet/wolves.finance\n *\n * SPDX-License-Identifier: Apache-2.0\n * See LICENSE.txt for more information.\n */\n\nimport './i18n';\nimport './index.css';\nimport 'assets/fonts/wp_fonts.css';\nimport 'assets/fonts/font_variants.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}